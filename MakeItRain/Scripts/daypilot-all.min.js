/*
DayPilot Pro
Copyright (c) 2005 - 2013 Annpoint s.r.o.
http://www.daypilot.org/
Use of this software is subject to license terms.
Version: 178
*/
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotBubble==='undefined'){var DayPilotBubble=DayPilot.BubbleVisible={};};(function(){if(typeof DayPilot.Bubble!=='undefined'){return;};var DayPilotBubble={};DayPilotBubble.mouseMove=function(ev){if(typeof(DayPilotBubble)==='undefined'){return;};DayPilotBubble.mouse=DayPilotBubble.mousePosition(ev);};DayPilotBubble.mousePosition=function(e){var $a=DayPilot.page(e);$a.clientY=e.clientY;$a.clientX=e.clientX;return $a;};DayPilot.Bubble=function($b){this.v='178';var $c=this;this.backgroundColor="#ffffff";this.border="1px solid #000000";this.corners='Rounded';this.cssOnly=true;this.hideAfter=500;this.loadingText="Loading...";this.animated=true;this.position="EventTop";this.showAfter=500;this.showLoadingLabel=true;this.useShadow=true;this.zIndex=10;this.elements={};this.callBack=function($d){if(this.aspnet()){WebForm_DoCallback(this.uniqueID,DayPilot.JSON.stringify($d),this.updateView,this,this.callbackError,true);}else{if($d.calendar.internal.bubbleCallBack){$d.calendar.internal.bubbleCallBack($d,this);}else{$d.calendar.bubbleCallBack($d,this);}}};this.callbackError=function($a,$e){alert($a);};this.updateView=function($a,$e){if($c!==$e){throw "Callback object mismatch (internal error)";};DayPilotBubble.active=$c;if($c){if($c.elements.inner){$c.elements.inner.innerHTML=$a;};$c.adjustPosition();if(!$c.animated){$c.addShadow();}}};this.init=function(){DayPilot.re(document.body,'mousemove',DayPilotBubble.mouseMove);};this.aspnet=function(){return(typeof WebForm_DoCallback!=='undefined');};this.rounded=function(){return this.corners==='Rounded';};this.showEvent=function(e,$f){var a=new DayPilotBubble.CallBackArgs(e.calendar||e.root,'Event',e,e.staticBubbleHTML?e.staticBubbleHTML():null);if($f){this.show(a);}else{this.showOnMouseOver(a);}};this.showCell=function($g){var a=new DayPilotBubble.CallBackArgs($g.calendar||$g.root,'Cell',$g,$g.staticBubbleHTML?$g.staticBubbleHTML():null);this.showOnMouseOver(a);};this.showTime=function($h){var a=new DayPilotBubble.CallBackArgs($h.calendar||$h.root,'Time',$h,$h.staticBubbleHTML?$h.staticBubbleHTML():null);this.showOnMouseOver(a);};this.showResource=function($i){var a=new DayPilotBubble.CallBackArgs($i.calendar||$i.root,'Resource',$i,$i.staticBubbleHTML?$i.staticBubbleHTML():null);this.showOnMouseOver(a);};this.show=function($j){var $k=this.animated;var id;try{id=DayPilot.JSON.stringify($j.object);}catch(e){return;};if(DayPilotBubble.active===this&&this.sourceId===id){return;};if(typeof DayPilot.Menu!=='undefined'&&DayPilot.Menu.active){return;};DayPilotBubble.hideActive();DayPilotBubble.active=this;this.sourceId=id;var $l=document.createElement("div");$l.setAttribute("unselectable","on");if(!this.showLoadingLabel){$l.style.display='none';};document.body.appendChild($l);$l.style.position='absolute';if(!this.cssOnly){if(this.width){$l.style.width=this.width;};$l.style.cursor='default';}else{$l.className=this.prefixCssClass("_main");};$l.style.top='0px';$l.style.left='0px';$l.style.zIndex=this.zIndex+1;if($k){$l.style.visibility='hidden';};$l.onclick=function(){DayPilotBubble.hideActive();};$l.onmouseover=function(){DayPilotBubble.cancelTimeout();};$l.oncontextmenu=function(){return false;};$l.onmouseout=this.delayedHide;var $m=document.createElement("div");$l.appendChild($m);if(this.cssOnly){$m.className=this.prefixCssClass("_main_inner");}else{$m.style.padding='4px';if(this.border){$m.style.border=this.border;};if(this.rounded()){$m.style.MozBorderRadius="5px";$m.style.webkitBorderRadius="5px";$m.style.borderRadius="5px";};$m.style.backgroundColor=this.backgroundColor;};$m.innerHTML=this.loadingText;this.elements.div=$l;this.elements.inner=$m;if(this.position==="EventTop"&&$j.type==='Event'&&$j.calendar&&$j.calendar.internal.findEventDiv){var $n=2;var event=$j.object;var $o=$j.calendar;var $l=$o.internal.findEventDiv(event);if(!$l){return;};var $p=DayPilot.abs($l,true);this.mouse=DayPilotBubble.mouse;this.mouse.x=$p.x;this.mouse.y=$p.y;this.mouse.h=$p.h+2;this.mouse.w=$p.w;}else{this.mouse=DayPilotBubble.mouse;};if(this.showLoadingLabel&&!$k){this.adjustPosition();this.addShadow();};if($j.staticHTML){this.updateView($j.staticHTML,this);}else if(typeof this.onLoad==='function'){$j.loaded=function(){if(this.async){$c.updateView(this.innerHTML,$c);}};this.onLoad($j);if(!$j.async){$c.updateView($j.innerHTML,$c);}}else{this.callBack($j);}};this.prefixCssClass=function($q){if(this.cssClassPrefix){return this.cssClassPrefix+$q;}else{return "";}};this.loadingElement=null;this.loadingStart=function($p){};this.loadingStop=function(){};this.adjustPosition=function(){var $k=this.animated;var $r=this.position;var $s=10;if(!this.elements.div){return;};if(!this.mouse.x||!this.mouse.y){DayPilotBubble.hideActive();return;};var $l=this.elements.div;$l.style.display='';var $t=$l.offsetHeight;var $u=$l.offsetWidth;$l.style.display='none';var wd=DayPilot.wd();var $v=wd.width;var $w=wd.height;if($r==='Mouse'){var $x=22;var $y=10;if(this.mouse.clientY>$w-$t+$s){var $z=this.mouse.clientY-($w-$t)+$s;$l.style.top=(this.mouse.y-$t-$y)+'px';}else{$l.style.top=this.mouse.y+$x+'px';};if(this.mouse.clientX>$v-$u+$s){var $A=this.mouse.clientX-($v-$u)+$s;$l.style.left=(this.mouse.x-$A)+'px';}else{$l.style.left=this.mouse.x+'px';}}else if($r==='EventTop'){var $B=2;var top=this.mouse.y-$t-$B;var $C=wd.scrollTop;if(top<$C){top=this.mouse.y+this.mouse.h+$B;};$l.style.top=top+'px';var $D=this.mouse.x;if(this.mouse.x+$u+$s>$v){$D=$v-$u-$s;};$l.style.left=$D+'px';};$l.style.display='';if($k){$l.style.display='';var $E={};$E.color=$l.firstChild.style.color;$E.overflow=$l.style.overflow;$l.firstChild.style.color="transparent";$l.style.overflow='hidden';this.removeShadow();DayPilot.pop($l,{"finished":function(){$l.firstChild.style.color=$E.color;$l.style.overflow=$E.overflow;$c.addShadow();},"vertical":"bottom","horizontal":"left"});}};this.delayedHide=function(){DayPilotBubble.cancelTimeout();if($c.hideAfter>0){DayPilotBubble.timeout=window.setTimeout(DayPilotBubble.hideActive,$c.hideAfter);}};this.showOnMouseOver=function($j){DayPilotBubble.cancelTimeout();var $F=function($G){return function(){$c.show($G);};};DayPilotBubble.timeout=window.setTimeout($F($j),this.showAfter);};this.hideOnMouseOut=function(){this.delayedHide();};this.addShadow=function(){if(!this.useShadow){return;};if(this.cssOnly){return;};if(!this.elements.div){return;};var $l=this.elements.div;if(this.shadows&&this.shadows.length>0){this.removeShadow();};this.shadows=[];for(var i=0;i<5;i++){var $H=document.createElement('div');$H.setAttribute("unselectable","on");$H.style.position='absolute';$H.style.width=$l.offsetWidth+'px';$H.style.height=$l.offsetHeight+'px';$H.style.top=$l.offsetTop+i+'px';$H.style.left=$l.offsetLeft+i+'px';$H.style.zIndex=this.zIndex;$H.style.filter='alpha(opacity:10)';$H.style.opacity=0.1;$H.style.backgroundColor='#000000';if(this.rounded()){$H.style.MozBorderRadius="5px";$H.style.webkitBorderRadius="5px";$H.style.borderRadius="5px";};document.body.appendChild($H);this.shadows.push($H);}};this.removeShadow=function(){if(!this.shadows){return;};for(var i=0;i<this.shadows.length;i++){document.body.removeChild(this.shadows[i]);};this.shadows=[];};this.removeDiv=function(){if(!this.elements.div){return;};document.body.removeChild(this.elements.div);this.elements.div=null;};if($b){for(var name in $b){this[name]=$b[name];}};this.init();};DayPilotBubble.cancelTimeout=function(){if(DayPilotBubble.timeout){window.clearTimeout(DayPilotBubble.timeout);}};DayPilotBubble.hideActive=function(){DayPilotBubble.cancelTimeout();var $c=DayPilotBubble.active;if($c){$c.removeDiv();$c.removeShadow();};DayPilotBubble.active=null;};DayPilotBubble.CallBackArgs=function($o,$I,$J,$K){this.calendar=$o;this.type=$I;this.object=$J;this.staticHTML=$K;this.toJSON=function(){var $L={};$L.uid=this.calendar.uniqueID;$L.type=this.type;$L.object=$J;return $L;};};DayPilot.BubbleVisible.Bubble=DayPilotBubble.Bubble;DayPilot.BubbleVisible.hideActive=DayPilotBubble.hideActive;DayPilot.BubbleVisible.cancelTimeout=DayPilotBubble.cancelTimeout;DayPilot.Bubble.hideActive=DayPilotBubble.hideActive;if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();

if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotCalendar==='undefined'){var DayPilotCalendar=DayPilot.CalendarVisible={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(){if(typeof DayPilot.Calendar!=='undefined'){return;};DayPilot.Calendar=function(id){this.v='178';var $a=false;if(this instanceof DayPilot.Calendar&&!this.$3h){$a=true;this.$3h=true;};if(!$a){throw "DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";};var $b=this;this.uniqueID=null;this.id=id;this.isCalendar=true;this.clientName=id;this.clientState={};this.$3i={};this.$3i.pixels={};this.elements={};this.elements.events=[];this.nav={};this.events={};this.hideUntilInit=true;this.afterRender=function(){};this.fasterDispose=true;this.allDayEventBorderColor="#000000";this.allDayEventFontFamily='Tahoma';this.allDayEventFontSize='8pt';this.allDayEventFontColor="#000000";this.allDayEventHeight=25;this.allowEventOverlap=true;this.allowMultiSelect=true;this.autoRefreshCommand='refresh';this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.borderColor="#000000";this.businessBeginsHour=9;this.businessEndsHour=18;this.cellBackColor="#FFFFD5";this.cellBackColorNonBusiness="#FFF4BC";this.cellBorderColor="#999999";this.cellHeight=20;this.cellDuration=30;this.columnMarginRight=5;this.cornerBackColor="#ECE9D8";this.crosshairColor='Gray';this.crosshairOpacity=20;this.crosshairType="Header";this.cssOnly=true;this.dayBeginsHour=0;this.dayEndsHour=24;this.days=1;this.deleteImageUrl=null;this.durationBarColor='blue';this.durationBarVisible=true;this.durationBarWidth=5;this.durationBarImageUrl=null;this.eventArrangement="SideBySide";this.eventBackColor='#ffffff';this.eventBorderColor="#000000";this.eventFontFamily='Tahoma';this.eventFontSize='8pt';this.eventFontColor="#000000";this.eventSelectColor='blue';this.headerFontSize='10pt';this.headerFontFamily='Tahoma';this.headerFontColor="#000000";this.headerHeight=21;this.headerLevels=1;this.height=300;this.heightSpec='BusinessHours';this.hideFreeCells=false;this.hourHalfBorderColor="#F3E4B1";this.hourBorderColor="#EAD098";this.hourFontColor="#000000";this.hourFontFamily="Tahoma";this.hourFontSize="16pt";this.hourNameBackColor="#ECE9D8";this.hourNameBorderColor="#ACA899";this.hourWidth=45;this.initScrollPos=0;this.loadingLabelText="Loading...";this.loadingLabelVisible=true;this.loadingLabelBackColor="orange";this.loadingLabelFontColor="#ffffff";this.loadingLabelFontFamily="Tahoma";this.loadingLabelFontSize="10pt";this.locale="en-us";this.messageHideAfter=5000;this.moveBy="Top";this.notifyCommit='Immediate';this.numberFormat="0.00";this.roundedCorners=false;this.rtl=false;this.selectedColor="#316AC5";this.shadow='Fill';this.showToolTip=true;this.showAllDayEvents=false;this.showAllDayEventStartEnd=true;this.showHeader=true;this.showHours=true;this.startDate=new DayPilot.Date().getDatePart();this.timeFormat='Clock12Hours';this.timeHeaderCellDuration=60;this.useEventBoxes='Always';this.useEventSelectionBars=false;this.viewType='Days';this.timeRangeSelectedHandling='Disabled';this.eventClickHandling='Disabled';this.eventDoubleClickHandling='Disabled';this.eventRightClickHandling='Disabled';this.eventDeleteHandling='Disabled';this.eventEditHandling='Disabled';this.eventHoverHandling='Bubble';this.eventResizeHandling='Disabled';this.eventMoveHandling='Disabled';this.headerClickHandling='Disabled';this.transparent=false;this.separateEventsTable=true;this.autoRefreshCount=0;this.doubleClickTimeout=100;this.$3j={};this.$3j.ie=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!==-1);this.$3j.ff=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox")!==-1);this.$3j.opera105=(function(){if(/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var v=new Number(RegExp.$1);return v>=10.5;};return false;})();this.$3j.webkit522=(function(){if(/AppleWebKit[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var v=new Number(RegExp.$1);return v>=522;};return false;})();this.$3j.ie9=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE 9")!==-1);this.clearSelection=function(){if(!this.selectedCells){this.selectedCells=[];return;};for(var j=0;j<this.selectedCells.length;j++){var $c=this.selectedCells[j];if($c){if($c.selected){$c.removeChild($c.selected);$c.firstChild.style.display='';$c.selected=null;}}};this.selectedCells=[];};this.cleanSelection=this.clearSelection;this.$3k=function($d,$e,$f){var $g={};$g.action=$d;$g.parameters=$f;$g.data=$e;$g.header=this.$3l();var $h="JSON"+DayPilot.JSON.stringify($g);__doPostBack($b.uniqueID,$h);};this.$3m=function($d,$f,$e,$i){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};if(typeof $i==='undefined'){$i="CallBack";};this.callbackTimeout=window.setTimeout(function(){$b.$3n();},100);var $g={};$g.action=$d;$g.type=$i;$g.parameters=$f;$g.data=$e;$g.header=this.$3l();var $h="JSON"+DayPilot.JSON.stringify($g);if(this.backendUrl){DayPilot.request(this.backendUrl,this.$3o,$h,this.ajaxError);}else{WebForm_DoCallback(this.uniqueID,$h,this.$3p,this.clientName,this.onCallbackError,true);}};this.dispose=function(){var c=$b;if(!c.nav.top){return;};c.$3q();c.$3r();if(c.nav.messageClose){c.nav.messageClose.onclick=null;};if(c.nav.hourTable)c.nav.hourTable.oncontextmenu=null;if(c.nav.hourTable)c.nav.hourTable.onmousemove=null;if(c.nav.header)c.nav.header.oncontextmenu=null;if(c.nav.header)c.nav.corner.oncontextmenu=null;c.nav.zoom.onmousemove=null;c.nav.scroll.onscroll=null;c.nav.scroll.root=null;DayPilot.pu(c.nav.loading);c.$3s();c.$3t();c.nav.select=null;c.nav.cornerRight=null;c.nav.scrollable=null;c.nav.allday=null;c.nav.zoom=null;c.nav.loading=null;c.nav.events=null;c.nav.header=null;c.nav.hourTable=null;c.nav.scrolltop=null;c.nav.scroll=null;c.nav.vsph=null;c.nav.main=null;c.nav.message=null;c.nav.messageClose=null;c.nav.top.removeAttribute("style");c.nav.top.removeAttribute("class");c.nav.top.innerHTML='';c.nav.top.dp=null;c.nav.top=null;DayPilot.ue(window,'resize',c.$3u);DayPilotCalendar.unregister(c);};this.$3v=function(){var $j=document.getElementById(id);$j.dispose=this.dispose;};this.$3o=function($k){$b.$3p($k.responseText);};this.$3l=function(){var h={};h.v=this.v;h.control="dpc";h.id=this.id;h.clientState=$b.clientState;h.columns=this.$3w();h.days=$b.days;h.startDate=$b.startDate;h.cellDuration=$b.cellDuration;h.cssOnly=$b.cssOnly;h.cssClassPrefix=$b.cssClassPrefix;h.heightSpec=$b.heightSpec;h.businessBeginsHour=$b.businessBeginsHour;h.businessEndsHour=$b.businessEndsHour;h.viewType=$b.viewType;h.dayBeginsHour=$b.dayBeginsHour;h.dayEndsHour=$b.dayEndsHour;h.headerLevels=$b.headerLevels;h.backColor=$b.cellBackColor;h.nonBusinessBackColor=$b.cellBackColorNonBusiness;h.eventHeaderVisible=$b.eventHeaderVisible;h.timeFormat=$b.timeFormat;h.timeHeaderCellDuration=$b.timeHeaderCellDuration;h.locale=$b.locale;h.showAllDayEvents=$b.showAllDayEvents;h.tagFields=$b.tagFields;h.hourNameBackColor=$b.hourNameBackColor;h.hourFontFamily=$b.hourFontFamily;h.hourFontSize=$b.hourFontSize;h.hourFontColor=$b.hourFontColor;h.selected=$b.multiselect.events();h.hashes=$b.hashes;return h;};this.$3x=function(){this.$3y();DayPilot.Areas.hideAll();};this.$3w=function(){var $l=[];$l.ignoreToJSON=true;if(!this.columns){return $l;};for(var i=0;i<this.columns.length;i++){var $m=this.columns[i];var $n=this.$3z($m);$l.push($n);};return $l;};this.$3z=function($m){var $n={};$n.Value=$m.Value;$n.Name=$m.Name;$n.ToolTip=$m.ToolTip;$n.Date=$m.Start;$n.Children=this.$3A($m.Children);return $n;};this.$3A=function($o){var $p=[];$p.ignoreToJSON=true;if(!$o){return $p;};for(var i=0;i<$o.length;i++){$p.push(this.$3z($o[i]));};return $p;};this.$3p=function($q,$r){var $q=eval("("+$q+")");if($q.BubbleGuid){var $s=$q.BubbleGuid;var $t=this.bubbles[$s];delete this.bubbles[$s];$b.$3B();if(typeof $q.Result.BubbleHTML!=='undefined'){$t.updateView($q.Result.BubbleHTML,$t);};return;};if(typeof $q.ClientState!=='undefined'){$b.clientState=$q.ClientState;};if($q.UpdateType==="None"){$b.$3B();$b.$3C($q.CallBackData,true);if($q.Message){$b.message($q.Message);};return;};if($q.VsUpdate){var $u=document.createElement("input");$u.type='hidden';$u.name=$b.id+"_vsupdate";$u.id=$u.name;$u.value=$q.VsUpdate;$b.nav.vsph.innerHTML='';$b.nav.vsph.appendChild($u);};$b.$3r();$b.multiselect.clear(true);$b.multiselect.$3D=$q.SelectedEvents;if(typeof $q.TagFields!=='undefined'){$b.tagFields=$q.TagFields;};if(typeof $q.SortDirections!=='undefined'){$b.sortDirections=$q.SortDirections;};if($q.UpdateType==="Full"){$b.colors=$q.Colors;$b.palette=$q.Palette;$b.dirtyColors=$q.DirtyColors;$b.cellProperties=$q.CellProperties;$b.columns=$q.Columns;$b.days=$q.Days;$b.startDate=new DayPilot.Date($q.StartDate).getDatePart();$b.cellDuration=$q.CellDuration;$b.heightSpec=$q.HeightSpec?$q.HeightSpec:$b.heightSpec;$b.businessBeginsHour=$q.BusinessBeginsHour?$q.BusinessBeginsHour:$b.businessBeginsHour;$b.businessEndsHour=$q.BusinessEndsHour?$q.BusinessEndsHour:$b.businessEndsHour;$b.viewType=$q.ViewType;$b.headerLevels=$q.HeaderLevels;$b.backColor=$q.BackColor?$q.BackColor:$b.backColor;$b.nonBusinessBackColor=$q.NonBusinessBackColor?$q.NonBusinessBackColor:$b.nonBusinessBackColor;$b.eventHeaderVisible=$q.EventHeaderVisible?$q.EventHeaderVisible:$b.eventHeaderVisible;$b.timeFormat=$q.TimeFormat?$q.TimeFormat:$b.timeFormat;$b.timeHeaderCellDuration=typeof $q.TimeHeaderCellDuration!=='undefined'?$q.TimeHeaderCellDuration:$b.timeHeaderCellDuration;$b.locale=$q.Locale?$q.Locale:$b.locale;$b.dayBeginsHour=typeof $q.DayBeginsHour!=='undefined'?$q.DayBeginsHour:$b.dayBeginsHour;$b.dayEndsHour=typeof $q.DayEndsHour!=='undefined'?$q.DayEndsHour:$b.dayEndsHour;$b.cornerBackColor=$q.CornerBackColor;$b.cornerHTML=$q.CornerHTML;$b.hours=$q.Hours;$b.$3E();};if($q.Hashes){for($v in $q.Hashes){$b.hashes[$v]=$q.Hashes[$v];}};$b.$3F($q.Events);$b.$3G();if($q.UpdateType==="Full"||$b.hideFreeCells){$b.$3H();$b.$3I();$b.$3J();$b.$3K();$b.$3L();$b.$3M();$b.$3N();$b.$3O();$b.clearSelection();};$b.$3P();$b.$3Q();$b.$3R();if($b.timeRangeSelectedHandling!=="HoldForever"){$b.clearSelection();};$b.$3S();if($b.todo){if($b.todo.del){var $w=$b.todo.del;$w.parentNode.removeChild($w);$b.todo.del=null;}};$b.$3C($q.CallBackData,true);$b.$3B();$b.$3T();if($q.Message){$b.message($q.Message);}};this.$3C=function($e,$x){var $y=function($e,$z){return function(){if($b.afterRender){$b.afterRender($e,$z);}};};window.setTimeout($y($e,$x),0);};this.$3U=function($A,$B,$i){var $C=$b.nav.events;var $D=$C.clientWidth/$C.rows[0].cells.length;var i=Math.floor(($b.coords.x-45)/$D);if(i<0){i=0;};var $m=$C.rows[0].cells[i];var $E=0;if(typeof $A.duration!=='undefined'){var $F=$A.duration;var top=Math.floor((($b.coords.y-$E)+$b.cellHeight/ 2)/ $b.cellHeight)*$b.cellHeight+$E;var $G=$F*$b.cellHeight/(60*$b.cellDuration);}else{var e=$A.event;var $G=e.part.height;var top=e.part.top;};var $H=document.createElement('div');$H.setAttribute('unselectable','on');$H.style.position='absolute';$H.style.width='100%';$H.style.height=$G+'px';$H.style.left='0px';$H.style.top=top+'px';$H.style.zIndex=101;$H.exclude=true;var $I=document.createElement("div");$H.appendChild($I);if(this.cssOnly){$H.className=$b.$3V("_shadow");$I.className=this.$3V("_shadow_inner");};if(!this.cssOnly){$I.style.position="absolute";$I.style.top="0px";$I.style.bottom="0px";$I.style.left="0px";$I.style.right="0px";if($i==='Fill'){$I.style.backgroundColor="#aaaaaa";$I.style.opacity=0.5;$I.style.filter="alpha(opacity=50)";$I.style.border='2px solid #aaaaaa';}else{$I.style.border='2px dotted #666666';};if(this.roundedCorners){$I.style.MozBorderRadius="5px";$I.style.webkitBorderRadius="5px";$I.style.borderRadius="5px";}};$m.firstChild.appendChild($H);return $H;};this.$3W=function(){return this.$3X()/(3600*1000);};this.$3Y=function(){if(this.businessBeginsHour>this.businessEndsHour){return 24-this.businessBeginsHour+this.businessEndsHour;}else{return this.businessEndsHour-this.businessBeginsHour;}};this.$3Z=function(){if(this.dayBeginsHour>=this.dayEndsHour){return 24-this.dayBeginsHour+this.dayEndsHour;}else{return this.dayEndsHour-this.dayBeginsHour;}};this.$3X=function($J){var $K=0;if(this.heightSpec==='BusinessHoursNoScroll'){$K=this.$3Y();}else if(this.hideFreeCells&&!$J){var $L=(this.maxEnd-1)*this.cellDuration/this.cellHeight;var $M=Math.ceil($L/60);$K=Math.max(this.dayBeginsHour+$M,this.businessEndsHour)-this.$40();}else{$K=this.$3Z();};return $K*60*60*1000;};this.message=function($N,$O,$P,$Q){if(!$N){return;};var $O=$O||this.messageHideAfter||2000;var $P=$P||"#ffffff";var $Q=$Q||"#000000";var $R=0.8;var $S;var top=this.$41();var $T=this.hourWidth;var $U=DayPilot.sw($b.nav.scroll);if(!this.cssOnly){top+=1;$T+=2;$U-=2;};if(!this.nav.message){$S=document.createElement("div");$S.style.position="absolute";$S.style.left="0px";$S.style.top=(top)+"px";$S.style.right="0px";$S.style.display='none';$S.style.paddingLeft=($T)+"px";var $I=document.createElement("div");$I.onclick=function(){$b.nav.message.style.display='none';};if(!this.cssOnly){$I.style.padding="5px";$I.style.opacity=$R;$I.style.filter="alpha(opacity="+($R*100)+")";}else{$I.className=this.$3V("_message");};$S.appendChild($I);var close=document.createElement("div");close.style.position="absolute";if(!this.cssOnly){close.style.top="5px";close.style.right=(DayPilot.sw($b.nav.scroll)+5)+"px";close.style.color=$P;close.style.lineHeight="100%";close.style.cursor="pointer";close.style.fontWeight="bold";close.innerHTML="X";}else{close.className=this.$3V("_message_close");};close.onclick=function(){$b.nav.message.style.display='none';};$S.appendChild(close);this.nav.top.insertBefore($S,this.nav.loading);this.nav.message=$S;this.nav.messageClose=close;}else{this.nav.message.style.top=top+"px";};if(this.nav.cornerRight){this.nav.message.style.paddingRight=$U+"px";}else{this.nav.message.style.paddingRight="0px";};var $V=function(){var $I=$b.nav.message.firstChild;if(!$b.cssOnly){$I.style.padding="5px";$I.style.opacity=$R;$I.style.backgroundColor=$Q;$I.style.color=$P;};$I.innerHTML=$N;var end=function(){$b.messageTimeout=setTimeout($b.$42,$O);};DayPilot.fade($b.nav.message,0.2,end);};if(this.nav.message.style.display!=='none'){clearTimeout($b.messageTimeout);DayPilot.fade($b.nav.message,-0.2,$V);}else{$V();}};this.message.show=function($N){$b.message($N);};this.message.hide=function(){$b.$42();};this.$42=function(){var end=function(){$b.nav.message.style.display='none';};DayPilot.fade($b.nav.message,-0.2,end);};this.$3K=function(){if(this.nav.message){this.nav.message.style.top=(this.$41())+"px";}};this.$43=function(){return this.$3X()/(60*1000*this.cellDuration);};this.eventClickPostBack=function(e,$e){this.$3k('EventClick',$e,e);};this.eventClickCallBack=function(e,$e){this.$3m('EventClick',e,$e);};this.$44=function(e){var $S=this;var e=e||window.event;var $W=e.ctrlKey;if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();};if($b.eventDoubleClickHandling==='Disabled'){$b.$45($S,$W);return;};if(!$b.timeouts){$b.timeouts=[];}else{for(var $X in $b.timeouts){window.clearTimeout($b.timeouts[$X]);};$b.timeouts=[];};var $Y=function($S,$W){return function(){$b.$45($S,$W);};};$b.timeouts.push(window.setTimeout($Y(this,$W),$b.doubleClickTimeout));};this.$45=function($Z,$W){var e=$Z.event;if(!e.client.clickEnabled()){return;};switch($b.eventClickHandling){case 'PostBack':$b.eventClickPostBack(e);break;case 'CallBack':$b.eventClickCallBack(e);break;case 'JavaScript':$b.onEventClick(e);break;case 'Edit':if(!e.allday()){$b.$46($Z);};break;case 'Select':if(!e.allday()){$b.$47($Z,$W);};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;case 'ContextMenu':var $00=e.client.contextMenu();if($00){$00.show(e);}else{if($b.contextMenu){$b.contextMenu.show(e);}};break;}};this.eventDoubleClickPostBack=function(e,$e){this.$3k('EventDoubleClick',$e,e);};this.eventDoubleClickCallBack=function(e,$e){this.$3m('EventDoubleClick',e,$e);};this.$48=function(){if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if($b.timeouts){for(var $X in $b.timeouts){window.clearTimeout($b.timeouts[$X]);};$b.timeouts=null;};var e=this.event;switch($b.eventDoubleClickHandling){case 'PostBack':$b.eventDoubleClickPostBack(e);break;case 'CallBack':$b.eventDoubleClickCallBack(e);break;case 'JavaScript':$b.onEventDoubleClick(e);break;case 'Edit':if(!e.allday()){$b.$46(this);};break;case 'Select':if(!e.allday()){$b.$47(this);};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;}};this.eventRightClickPostBack=function(e,$e){this.$3k('EventRightClick',$e,e);};this.eventRightClickCallBack=function(e,$e){this.$3m('EventRightClick',e,$e);};this.$49=function(){var e=this.event;if(!e.client.rightClickEnabled()){return false;};switch($b.eventRightClickHandling){case 'PostBack':$b.eventRightClickPostBack(e);break;case 'CallBack':$b.eventRightClickCallBack(e);break;case 'JavaScript':$b.onEventRightClick(e);break;case 'ContextMenu':var $00=e.client.contextMenu();if($00){$00.show(e);}else{if($b.contextMenu){$b.contextMenu.show(e);}};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;};return false;};this.headerClickPostBack=function(c,$e){this.$3k('HeaderClick',$e,c);};this.headerClickCallBack=function(c,$e){this.$3m('HeaderClick',c,$e);};this.$4a=function($A){var $e=this.data;var c=new DayPilotCalendar.Column($e.Value,$e.Name,$e.Start);switch($b.headerClickHandling){case 'PostBack':$b.headerClickPostBack(c);break;case 'CallBack':$b.headerClickCallBack(c);break;case 'JavaScript':$b.onHeaderClick(c);break;}};this.$4b=function(){if(typeof(DayPilotBubble)!=='undefined'&&$b.columnBubble){if($b.viewType==="Resources"){var $01={};$01.calendar=$b;$01.id=this.data.Value;$01.toJSON=function(){var $02={};$02.id=this.id;return $02;};$b.columnBubble.showResource($01);}else{var $03=new DayPilot.Date(this.data.Start);var end=$03.addDays(1);var $04={};$04.calendar=$b;$04.start=$03;$04.end=end;$04.toJSON=function(){var $02={};$02.start=this.start;$02.end=this.end;return $02;};$b.columnBubble.showTime($04);}};var $c=this;var $S=$c.firstChild;if(!$S.active){var $e=$c.data;var c=new DayPilotCalendar.Column($e.Value,$e.Name,$e.Start);c.areas=$c.data.Areas;DayPilot.Areas.showAreas($S,c);}};this.$4c=function(ev){if(typeof(DayPilotBubble)!=='undefined'&&$b.columnBubble){$b.columnBubble.hideOnMouseOut();};DayPilot.Areas.hideAreas(this.firstChild,ev);};this.eventDeletePostBack=function(e,$e){this.$3k('EventDelete',$e,e);};this.eventDeleteCallBack=function(e,$e){this.$3m('EventDelete',e,$e);};this.$4d=function($A){var e=$A.parentNode.parentNode.event;switch($b.eventDeleteHandling){case 'PostBack':$b.eventDeletePostBack(e);break;case 'CallBack':$b.eventDeleteCallBack(e);break;case 'JavaScript':$b.onEventDelete(e);break;}};this.eventResizePostBack=function(e,$05,$06,$e){if(!$05){throw 'newStart is null';};if(!$06){throw 'newEnd is null';};var $07={};$07.e=e;$07.newStart=$05;$07.newEnd=$06;this.$3k('EventResize',$e,$07);};this.eventResizeCallBack=function(e,$05,$06,$e){if(!$05)throw 'newStart is null';if(!$06)throw 'newEnd is null';var $07={};$07.e=e;$07.newStart=$05;$07.newEnd=$06;this.$3m('EventResize',$07,$e);};this.$4e=function($i,$d,$07,$e){if($i==='PostBack'){$b.postBack2($d,$07,$e);}else if($i==='CallBack'){$b.$3m($d,$07,$e,"CallBack");}else if($i==='Immediate'){$b.$3m($d,$07,$e,"Notify");}else if($i==='Queue'){$b.queue.add(new DayPilot.Action(this,$d,$07,$e));}else if($i==='Notify'){if($08.notifyType()==='Notify'){$b.$3m($d,$07,$e,"Notify");}else{$b.queue.add(new DayPilot.Action($b,$d,$07,$e));}}else{throw "Invalid event invocation type";}};this.$40=function($J){if(this.heightSpec==='BusinessHoursNoScroll'){return this.businessBeginsHour;}else if(this.hideFreeCells&&!$J){var $L=(this.minStart-1)*this.cellDuration/this.cellHeight;var $M=Math.floor($L/60);return Math.min(this.dayBeginsHour+$M,this.businessBeginsHour);}else{return this.dayBeginsHour;}};this.$4f=function(e,$09,$0a,$0b){var $E=0;var $05=new Date();var $06=new Date();var $03=e.start();var end=e.end();var $0c=$b.cellDuration;if($0b==='top'){var $0d=$03.getDatePart();var $0e=Math.floor(($0a-$E)/$b.cellHeight);var $0f=$0e*$0c;var ts=$0f*60*1000;var $0g=$b.$40()*60*60*1000;$05=$0d.addTime(ts+$0g);$06=e.end();}else if($0b==='bottom'){var $0d=end.getDatePart();var $0e=Math.floor(($0a+$09-$E)/$b.cellHeight);var $0f=$0e*$0c;var ts=$0f*60*1000;var $0g=$b.$40()*60*60*1000;$05=$03;$06=$0d.addTime(ts+$0g);};switch($b.eventResizeHandling){case 'PostBack':$b.eventResizePostBack(e,$05,$06);break;case 'CallBack':$b.eventResizeCallBack(e,$05,$06);break;case 'JavaScript':$b.onEventResize(e,$05,$06);break;case 'Notify':$b.eventResizeNotify(e,$05,$06);break;}};this.eventResizeNotify=function(e,$05,$06,$e){var $0h=new DayPilot.Event(e.copy(),this);e.start($05);e.end($06);e.commit();$b.update();this.$4g("Notify",$0h,$05,$06,$e);};this.$4g=function($i,e,$05,$06,$e){var $07={};$07.e=e;$07.newStart=$05;$07.newEnd=$06;this.$4e($i,"EventResize",$07,$e);};this.eventMovePostBack=function(e,$05,$06,$0i,$e){if(!$05)throw 'newStart is null';if(!$06)throw 'newEnd is null';var $07={};$07.e=e;$07.newStart=$05;$07.newEnd=$06;$07.newResource=$0i;this.$3k('EventMove',$e,$07);};this.eventMoveCallBack=function(e,$05,$06,$0i,$e){if(!$05)throw 'newStart is null';if(!$06)throw 'newEnd is null';var $07={};$07.e=e;$07.newStart=$05;$07.newEnd=$06;$07.newResource=$0i;this.$3m('EventMove',$07,$e);};this.$4h=function(e,$0j,$0a,ev,$0k){var $E=0;var $0e=Math.floor(($0a-$E)/$b.cellHeight);var $0c=$b.cellDuration;var $0l=$0e*$0c*60*1000;var $03=e.start();var end=e.end();var $0d=new Date();if($03.isDayPilotDate){$03=$03.d;};$0d.setTime(Date.UTC($03.getUTCFullYear(),$03.getUTCMonth(),$03.getUTCDate()));var $0m=($b.useEventBoxes!=='Never')?$03.getTime()-($0d.getTime()+$03.getUTCHours()*3600*1000+Math.floor($03.getUTCMinutes()/$0c)*$0c*60*1000):0;var length=end.getTime()-$03.getTime();var $0g=$b.$40()*3600*1000;var $0n=this.columnsBottom[$0j];var $0o=$0n.Start.getTime();var $0p=new Date();$0p.setTime($0o+$0l+$0m+$0g);var $05=new DayPilot.Date($0p);var $06=$05.addTime(length);switch($b.eventMoveHandling){case 'PostBack':$b.eventMovePostBack(e,$05,$06,$0n.Value);break;case 'CallBack':$b.eventMoveCallBack(e,$05,$06,$0n.Value);break;case 'JavaScript':$b.onEventMove(e,$05,$06,$0n.Value,$0k?true:false,ev?ev.ctrlKey:false,ev?ev.shiftKey:false);break;case 'Notify':$b.eventMoveNotify(e,$05,$06,$0n.Value,null);break;}};this.eventMoveNotify=function(e,$05,$06,$0i,$e){var $0h=new DayPilot.Event(e.copy(),this);e.start($05);e.end($06);e.resource($0i);e.commit();$b.update();this.$4i("Notify",$0h,$05,$06,$0i,$e);};this.$4i=function($i,e,$05,$06,$0i,$e){var $07={};$07.e=e;$07.newStart=$05;$07.newEnd=$06;$07.newResource=$0i;this.$4e($i,"EventMove",$07,$e);};this.$4j=function($0q,$t){var $s=$b.$4k($t);var $07={};$07.args=$0q;$07.guid=$s;$b.$3m("Bubble",$07);};this.$4k=function($t){var $s=DayPilot.guid();if(!this.bubbles){this.bubbles=[];};this.bubbles[$s]=$t;return $s;};this.eventMenuClickPostBack=function(e,$0r,$e){var $07={};$07.e=e;$07.command=$0r;this.$3k('EventMenuClick',$e,$07);};this.eventMenuClickCallBack=function(e,$0r,$e){var $07={};$07.e=e;$07.command=$0r;this.$3m('EventMenuClick',$07,$e);};this.$4l=function($0r,e,$0s){switch($0s){case 'PostBack':$b.eventMenuClickPostBack(e,$0r);break;case 'CallBack':$b.eventMenuClickCallBack(e,$0r);break;}};this.timeRangeMenuClickPostBack=function(e,$0r,$e){var $07={};$07.selection=e;$07.command=$0r;this.$3k("TimeRangeMenuClick",$e,$07);};this.timeRangeMenuClickCallBack=function(e,$0r,$e){var $07={};$07.selection=e;$07.command=$0r;this.$3m("TimeRangeMenuClick",$07,$e);};this.$4m=function($0r,e,$0s){switch($0s){case 'PostBack':$b.timeRangeMenuClickPostBack(e,$0r);break;case 'CallBack':$b.timeRangeMenuClickCallBack(e,$0r);break;}};this.timeRangeSelectedPostBack=function($03,end,$0t,$e){var $0u={};$0u.start=$03;$0u.end=end;$0u.resource=$0t;this.$3k('TimeRangeSelected',$e,$0u);};this.timeRangeSelectedCallBack=function($03,end,$0t,$e){var $0u={};$0u.start=$03;$0u.end=end;$0u.resource=$0t;this.$3m('TimeRangeSelected',$0u,$e);};this.$4n=function($03,end,$m){if(!$03.isDayPilotDate){$03=new DayPilot.Date($03);};if(!end.isDayPilotDate){end=new DayPilot.Date(end);};switch($b.timeRangeSelectedHandling){case 'PostBack':$b.timeRangeSelectedPostBack($03,end,$m);break;case 'CallBack':$b.timeRangeSelectedCallBack($03,end,$m);break;case 'JavaScript':$b.onTimeRangeSelected($03,end,$m);break;}};this.timeRangeDoubleClickPostBack=function($03,end,$m,$e){var $0u={};$0u.start=$03;$0u.end=end;$0u.resource=$m;this.$3k('TimeRangeDoubleClick',$e,$0u);};this.timeRangeDoubleClickCallBack=function($03,end,$m,$e){var $0u={};$0u.start=$03;$0u.end=end;$0u.resource=$m;this.$3m('TimeRangeDoubleClick',$0u,$e);};this.$4o=function($03,end,$m){switch($b.timeRangeDoubleClickHandling){case 'PostBack':$b.timeRangeDoubleClickPostBack($03,end,$m);break;case 'CallBack':$b.timeRangeDoubleClickCallBack($03,end,$m);break;case 'JavaScript':$b.onTimeRangeDoubleClick($03,end,$m);break;}};this.eventEditPostBack=function(e,$0v,$e){var $07={};$07.e=e;$07.newText=$0v;this.$3k("EventEdit",$e,$07);};this.eventEditCallBack=function(e,$0v,$e){var $07={};$07.e=e;$07.newText=$0v;this.$3m("EventEdit",$07,$e);};this.$4p=function(e,$0v){switch($b.eventEditHandling){case 'PostBack':$b.eventEditPostBack(e,$0v);break;case 'CallBack':$b.eventEditCallBack(e,$0v);break;case 'JavaScript':$b.onEventEdit(e,$0v);break;}};this.eventSelectPostBack=function(e,$0w,$e){var $07={};$07.e=e;$07.change=$0w;this.$3k('EventSelect',$e,$07);};this.eventSelectCallBack=function(e,$0w,$e){var $07={};$07.e=e;$07.change=$0w;this.$3m('EventSelect',$07,$e);};this.$4q=function(e,$0w){switch($b.eventSelectHandling){case 'PostBack':$b.eventSelectPostBack(e,$0w);break;case 'CallBack':__theFormPostData="";__theFormPostCollection=[];if(WebForm_InitCallback){WebForm_InitCallback();};$b.eventSelectCallBack(e,$0w);break;case 'JavaScript':$b.onEventSelect(e,$0w);break;}};this.commandCallBack=function($0r,$e){this.$3q();var $07={};$07.command=$0r;this.$3m('Command',$07,$e);};this.$4r=function(ev){clearTimeout(DayPilotCalendar.selectedTimeout);if(DayPilotCalendar.selecting){return;};if(DayPilotCalendar.editing){DayPilotCalendar.editing.blur();return;};if($b.selectedCells&&$b.timeRangeDoubleClickHandling!=='Disabled'){for(var i=0;i<$b.selectedCells.length;i++){if(this===$b.selectedCells[i]){return;}}};if($b.timeRangeSelectedHandling==="Disabled"){return;};var $0x=(window.event)?window.event.button:ev.which;if($0x!==1&&$0x!==0){return;};DayPilotCalendar.firstMousePos=DayPilot.mc(ev||window.event);$b.clearSelection();DayPilotCalendar.topSelectedCell=this;DayPilotCalendar.bottomSelectedCell=this;DayPilotCalendar.column=DayPilotCalendar.getColumn(this);$b.selectedCells.push(this);DayPilotCalendar.firstSelected=this;};this.$4s=function(){var $0y=this.getSelection();for(var j=0;j<$b.selectedCells.length;j++){var $c=$b.selectedCells[j];if($c&&!$c.selected){var $S=document.createElement("div");$S.style.height=($b.cellHeight-1)+"px";$S.style.backgroundColor=$b.selectedColor;$c.firstChild.style.display="none";$c.insertBefore($S,$c.firstChild);$c.selected=$S;}}};this.$4t=function(ev){if(typeof(DayPilotBubble)!=='undefined'&&$b.cellBubble){$b.cellBubble.hideOnMouseOut();}};this.$4u=function(ev){if(typeof(DayPilotCalendar)==='undefined'){return;};if(typeof(DayPilotBubble)!=='undefined'&&$b.cellBubble){var $m=DayPilotCalendar.getColumn(this);var $01=$b.columnsBottom[$m].Value;var $c={};$c.calendar=$b;$c.start=this.start;$c.end=this.end;$c.resource=$01;$c.toJSON=function(){var $02={};$02.start=this.start;$02.end=this.end;$02.resource=this.resource;return $02;};$b.cellBubble.showCell($c);};if(DayPilotCalendar.firstMousePos){var $0z=DayPilotCalendar.firstMousePos;var $0A=DayPilot.mc(ev||window.event);if($0z.x!==$0A.x||$0z.y!==$0A.y){DayPilotCalendar.selecting=true;$b.clearSelection();$b.$4s();}};if(!DayPilotCalendar.selecting){return;};var $0B=DayPilot.mc(ev||window.event);var $0C=DayPilotCalendar.getColumn(this);if($0C!==DayPilotCalendar.column){return;};$b.clearSelection();if($0B.y<DayPilotCalendar.firstMousePos.y){$b.selectedCells=DayPilotCalendar.getCellsBelow(this);DayPilotCalendar.topSelectedCell=$b.selectedCells[0];DayPilotCalendar.bottomSelectedCell=DayPilotCalendar.firstSelected;}else{$b.selectedCells=DayPilotCalendar.getCellsAbove(this);DayPilotCalendar.topSelectedCell=DayPilotCalendar.firstSelected;DayPilotCalendar.bottomSelectedCell=$b.selectedCells[0];};$b.$4s();};this.getSelection=function(){var $03=DayPilotCalendar.topSelectedCell.start;var end=DayPilotCalendar.bottomSelectedCell.end;var $0D=DayPilotCalendar.topSelectedCell.resource;return new DayPilot.Selection($03,end,$0D,$b);};this.$4v=function(ev){if(DayPilotCalendar.firstMousePos){var $0E=function(){DayPilotCalendar.selecting=true;$b.$4s();DayPilotCalendar.firstMousePos=null;DayPilotCalendar.selecting=false;var $0F=$b.getSelection();$b.$4n($0F.start,$0F.end,$0F.resource);};if(DayPilotCalendar.selecting&&DayPilotCalendar.topSelectedCell!==null){$0E();}else{DayPilotCalendar.selectedTimeout=setTimeout($0E,100);}}else{DayPilotCalendar.selecting=false;}};this.$4w=function(ev){if(!$b.initScrollPos){return;};$b.scrollPos=$b.nav.scroll.scrollTop;$b.scrollHeight=$b.nav.scroll.clientHeight;$b.nav.scrollpos.value=$b.scrollPos;$b.$3S();};this.$3S=function(){if(!this.scrollLabelsVisible){return;};if(!this.scrollLabels){return;};var $0G=this.columnsBottom;var $0H=(this.showHours?this.hourWidth:0);var $D=this.nav.main.rows[0].cells[0].clientWidth;var iw=10;var $0I=1;for(var i=0;i<$0G.length;i++){var $0J=this.nav.scrollUp[i];var $0K=this.nav.scrollDown[i];$0J.style.left=($0H+i*$D+$D/ 2-(iw/ 2)+$0I)+"px";$0K.style.left=($0H+i*$D+$D/ 2-(iw/ 2)+$0I)+"px";};var $0L=this.$4x();for(var i=0;i<this.nav.scrollUp.length;i++){var up=this.nav.scrollUp[i];var $0M=this.nav.scrollDown[i];var $0N=this.scrollLabels[i].minEnd-$0L;var $0O=this.scrollLabels[i].maxStart-$0L;if(up&&$0M){if($0N<=$b.scrollPos){up.style.top=(this.$41()+2)+"px";up.style.display='';}else{up.style.display='none';};if($0O>=$b.scrollPos+$b.scrollHeight){$0M.style.top=(this.$41()+this.scrollHeight-8)+"px";$0M.style.display='';}else{$0M.style.display='none';}}}};this.$4y=function($A){var $0P=$A.parentNode;while($0P&&$0P.tagName!=="TD"){$0P=$0P.parentNode;};var $0Q=document.createElement('textarea');$0Q.style.position='absolute';$0Q.style.width=($A.parentNode.offsetWidth-2)+'px';$0Q.style.height=($A.offsetHeight-2)+'px';var $0R=DayPilot.gs($A,'fontFamily');if(!$0R)$0R=DayPilot.gs($A,'font-family');$0Q.style.fontFamily=$0R;var $0S=DayPilot.gs($A,'fontSize');if(!$0S)$0S=DayPilot.gs($A,'font-size');$0Q.style.fontSize=$0S;$0Q.style.left='0px';$0Q.style.top=$A.offsetTop+'px';$0Q.style.border='1px solid black';$0Q.style.padding='0px';$0Q.style.marginTop='0px';$0Q.style.backgroundColor='white';$0Q.value=DayPilot.tr($A.event.text());$0Q.event=$A.event;$0P.firstChild.appendChild($0Q);return $0Q;};this.$47=function($S,$W){var m=$b.multiselect;var e=$S.event;m.$4z=m.events();m.$4A($S,$W);var $0w=m.isSelected(e)?"selected":"deselected";$b.$4q(e,$0w);};this.multiselect={};this.multiselect.$3D=[];this.multiselect.$4B=[];this.multiselect.$4C=[];this.multiselect.$4z=[];this.multiselect.$4D=function(){var m=$b.multiselect;return DayPilot.JSON.stringify(m.events());};this.multiselect.events=function(){var m=$b.multiselect;var $0T=[];$0T.ignoreToJSON=true;for(var i=0;i<m.$4B.length;i++){$0T.push(m.$4B[i]);};return $0T;};this.multiselect.$4E=function(){var h=$b.nav.select;h.value=$b.multiselect.$4D();};this.multiselect.$4A=function($S,$0U){var m=$b.multiselect;if(m.isSelected($S.event)){if($b.allowMultiSelect){if($0U){m.remove($S.event,true);}else{var $0V=m.$4B.length;m.clear(true);if($0V>1){m.add($S.event,true);}}}else{m.clear(true);}}else{if($b.allowMultiSelect){if($0U){m.add($S.event,true);}else{m.clear(true);m.add($S.event,true);}}else{m.clear(true);m.add($S.event,true);}};m.redraw();m.$4E();};this.multiselect.$4F=function(ev){var m=$b.multiselect;return m.$4G(ev,m.$3D);};this.multiselect.$4H=function(){var m=$b.multiselect;var $0W=[];for(var i=0;i<m.$4B.length;i++){var event=m.$4B[i];$0W.push(event.value());};alert($0W.join("\n"));};this.multiselect.add=function(ev,$0X){var m=$b.multiselect;if(m.$4I(ev)===-1){m.$4B.push(ev);};m.$4E();if($0X){return;};m.redraw();};this.multiselect.remove=function(ev,$0X){var m=$b.multiselect;var i=m.$4I(ev);if(i!==-1){m.$4B.splice(i,1);};m.$4E();if($0X){return;};m.redraw();};this.multiselect.clear=function($0X){var m=$b.multiselect;m.$4B=[];m.$4E();if($0X){return;};m.redraw();};this.multiselect.redraw=function(){var m=$b.multiselect;for(var i=0;i<$b.elements.events.length;i++){var $S=$b.elements.events[i];if(m.isSelected($S.event)){m.$4J($S);}else{m.$4K($S);}}};this.multiselect.$4J=function($S){var m=$b.multiselect;var cn=$b.cssOnly?$b.$3V("_selected"):$b.$3V("selected");var c=m.$4L($S);DayPilot.Util.addClass(c,cn);if($b.useEventSelectionBars){m.$4M($S);};m.$4C.push($S);};this.multiselect.$4L=function($S){if($b.cssOnly){return $S;};for(var i=0;i<$S.childNodes.length;i++){var c=$S.childNodes[i];if(c.getAttribute("c")==="1"){return c;}};return null;};this.multiselect.$4N=function(){var m=$b.multiselect;for(var i=0;i<m.$4C.length;i++){var $S=m.$4C[i];m.$4K($S,true);};m.$4C=[];};this.multiselect.$4K=function($S,$0Y){var m=$b.multiselect;var cn=$b.cssOnly?$b.$3V("_selected"):$b.$3V("selected");var c=m.$4L($S);DayPilot.Util.removeClass(c,cn);if($b.useEventSelectionBars){m.$4O($S);};if($0Y){return;};var i=DayPilot.indexOf(m.$4C,$S);if(i!==-1){m.$4C.splice(i,1);}};this.multiselect.isSelected=function(ev){return $b.multiselect.$4G(ev,$b.multiselect.$4B);};this.multiselect.$4I=function(ev){return DayPilot.indexOf($b.multiselect.$4B,ev);};this.multiselect.$4G=function(e,$0W){if(!$0W){return false;};for(var i=0;i<$0W.length;i++){var ei=$0W[i];if(e===ei){return true;};if(typeof ei.value==='function'){if(ei.value()!==null&&e.value()!==null&&ei.value()===e.value()){return true;};if(ei.value()===null&&e.value()===null&&ei.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start()){return true;}}else{if(ei.value!==null&&e.value()!==null&&ei.value===e.value()){return true;};if(ei.value===null&&e.value()===null&&ei.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start){return true;}}};return false;};this.multiselect.$4M=function($0Z){var w=5;if(!$0Z.top){var top=document.createElement("div");top.setAttribute("unselectable","on");top.style.position='absolute';top.style.left=$0Z.offsetLeft+'px';top.style.width=$0Z.offsetWidth+'px';top.style.top=($0Z.offsetTop-w)+'px';top.style.height=w+'px';top.style.backgroundColor=$b.eventSelectColor;top.style.zIndex=100;$0Z.parentNode.appendChild(top);$0Z.top=top;};if(!$0Z.bottom){var $10=document.createElement("div");$10.setAttribute("unselectable","on");$10.style.position='absolute';$10.style.left=$0Z.offsetLeft+'px';$10.style.width=$0Z.offsetWidth+'px';$10.style.top=($0Z.offsetTop+$0Z.offsetHeight)+'px';$10.style.height=w+'px';$10.style.backgroundColor=$b.eventSelectColor;$10.style.zIndex=100;$0Z.parentNode.appendChild($10);$0Z.bottom=$10;}};this.multiselect.$4O=function($0Z){if($0Z.top){$0Z.parentNode.removeChild($0Z.top);$0Z.top=null;};if($0Z.bottom){$0Z.parentNode.removeChild($0Z.bottom);$0Z.bottom=null;}};this.$46=function($A){if(DayPilotCalendar.editing){DayPilotCalendar.editing.blur();return;};var $0Q=this.$4y($A);DayPilotCalendar.editing=$0Q;$0Q.onblur=function(){var id=$A.event.value();var $11=$A.event.tag();var $12=$A.event.text();var $0v=$0Q.value;DayPilotCalendar.editing=null;$0Q.parentNode.removeChild($0Q);if($12===$0v){return;};$A.style.display='none';$b.$4p($A.event,$0v);};$0Q.onkeypress=function(e){var $13=(window.event)?event.keyCode:e.keyCode;if($13===13){this.onblur();return false;}else if($13===27){$0Q.parentNode.removeChild($0Q);DayPilotCalendar.editing=false;};return true;};$0Q.select();$0Q.focus();};this.$3E=function(){if(!this.columns){this.columnsBottom=this.$4P();this.$4Q(this.columnsBottom);}else{this.$4Q(this.columns);this.columnsBottom=this.$4R(this.headerLevels,true);}};this.$4P=function(){var $0G=[];var $03=this.startDate.getDatePart();if(this.heightSpec==='BusinessHoursNoScroll'){$03=$03.addHours(this.businessBeginsHour);};for(var i=0;i<this.days;i++){var $m={};$m.Start=$03.addDays(i);$m.Name=$m.Start.toString($08.locale().datePattern);$m.InnerHTML=$m.Name;$0G.push($m);};return $0G;};this.$4S=function($m){$m.Start=new DayPilot.Date($m.Start);$m.getChildren=function($14,$15){var $0W=[];if($14<=1){$0W.push(this);return $0W;};if(!this.Children||this.Children.length===0){if($15){$0W.push(this);}else{$0W.push("empty");};return $0W;};for(var i=0;i<this.Children.length;i++){var $16=this.Children[i];var $17=$16.getChildren($14-1,$15);for(var j=0;j<$17.length;j++){$0W.push($17[j]);}};return $0W;};$m.getChildrenCount=function($14){var $0V=0;if(!this.Children||this.Children.length<=0||$14<=1){return 1;};for(var i=0;i<this.Children.length;i++){$0V+=this.Children[i].getChildrenCount($14-1);};return $0V;};$m.putIntoBlock=function(ep){for(var i=0;i<this.blocks.length;i++){var $18=this.blocks[i];if($18.overlapsWith(ep.part.top,ep.part.height)){$18.events.push(ep);$18.min=Math.min($18.min,ep.part.top);$18.max=Math.max($18.max,ep.part.top+ep.part.height);return i;}};var $18=[];$18.lines=[];$18.events=[];$18.overlapsWith=function($03,$19){var end=$03+$19-1;if(!(end<this.min||$03>this.max-1)){return true;};return false;};$18.putIntoLine=function(ep){var $1a=this;for(var i=0;i<this.lines.length;i++){var $1b=this.lines[i];if($1b.isFree(ep.part.top,ep.part.height)){$1b.push(ep);return i;}};var $1b=[];$1b.isFree=function($03,$19){var end=$03+$19-1;var $J=this.length;for(var i=0;i<$J;i++){var e=this[i];if(!(end<e.part.top||$03>e.part.top+e.part.height-1)){return false;}};return true;};$1b.push(ep);this.lines.push($1b);return this.lines.length-1;};$18.events.push(ep);$18.min=ep.part.top;$18.max=ep.part.top+ep.part.height;this.blocks.push($18);return this.blocks.length-1;};$m.putIntoLine=function(ep){var $1a=this;for(var i=0;i<this.lines.length;i++){var $1b=this.lines[i];if($1b.isFree(ep.part.top,ep.part.height)){$1b.push(ep);return i;}};var $1b=[];$1b.isFree=function($03,$19){var end=$03+$19-1;var $J=this.length;for(var i=0;i<$J;i++){var e=this[i];if(!(end<e.part.top||$03>e.part.top+e.part.height-1)){return false;}};return true;};$1b.push(ep);this.lines.push($1b);return this.lines.length-1;};if($m.Children){this.$4Q($m.Children);}};this.$4Q=function(cc){for(var i=0;i<cc.length;i++){this.$4S(cc[i]);}};this.$4R=function($14,$15){var $1c=this.columns||this.columnsBottom;var $0W=[];for(var i=0;i<$1c.length;i++){var $p=$1c[i].getChildren($14,$15);for(var j=0;j<$p.length;j++){$0W.push($p[j]);}};return $0W;};this.$3R=function(){if(!this.showAllDayEvents){return;};var $1d=this.nav.header;$1d.style.display='none';var $0G=this.columnsBottom.length;for(var j=0;j<this.allDay.lines.length;j++){var $1b=this.allDay.lines[j];for(var i=0;i<$1b.length;i++){var $e=$1b[i];var $S=document.createElement("div");$S.event=$e;$S.setAttribute("unselectable","on");$S.style.position='absolute';$S.style.left=(100.0*$e.part.colStart/$0G)+"%";$S.style.width=(100.0*$e.part.colWidth/$0G)+"%";$S.style.height=this.allDayEventHeight+'px';if(!this.cssOnly){$S.style.top=(4+this.headerLevels*this.headerHeight+j*(this.allDayEventHeight+2))+"px";}else{$S.className=this.$3V("_alldayevent");$S.style.top=(this.headerLevels*this.headerHeight+j*(this.allDayEventHeight))+"px";};$S.style.textAlign='left';$S.style.lineHeight="1.2";if($e.client.clickEnabled()){$S.onclick=this.$44;};if($e.client.doubleClickEnabled()){$S.ondblclick=this.$48;};$S.oncontextmenu=this.$49;$S.onmousemove=function(ev){var $S=this;if(!$S.active){if($b.cssOnly){DayPilot.Util.addClass($S,$b.$3V("_alldayevent_hover"));};DayPilot.Areas.showAreas($S,this.event);};if(typeof(DayPilotBubble)!=='undefined'&&$b.bubble&&$b.eventHoverHandling!=='Disabled'){$b.bubble.showEvent(this.event);}};$S.onmouseout=function(ev){var $S=this;if($b.cssOnly){DayPilot.Util.removeClass($S,$b.$3V("_alldayevent_hover"));};DayPilot.Areas.hideAreas(this,ev);if($b.bubble){$b.bubble.hideOnMouseOut();}};if(this.showToolTip){$S.title=$e.client.toolTip();};var $1e=$e.start().getTime()===$e.part.start.getTime();var $1f=$e.end().getTime()===$e.part.end.getTime();if(!this.cssOnly){var back=$e.client.backColor();var $I=document.createElement("div");$I.setAttribute("unselectable","on");$I.style.marginLeft='2px';$I.style.marginRight='3px';$I.style.paddingLeft='2px';$I.style.height=(this.allDayEventHeight-2)+'px';$I.style.border='1px solid '+this.allDayEventBorderColor;$I.style.overflow='hidden';$I.style.position='relative';$I.style.backgroundColor=back;$I.className=this.$3V("alldayevent");if(this.roundedCorners){$I.style.MozBorderRadius="5px";$I.style.webkitBorderRadius="5px";$I.style.borderRadius="5px";};var $1g=[];var $1h=true;var $1i=this.showAllDayEventStartEnd;var $1j=this.showAllDayEventStartEnd;var $1k="Center";var $1l=0;if($1i){if($1k==='Left'){$1g.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray;text-align:right;");$1g.push("width:");$1g.push($1l-4);$1g.push("px;");$1g.push("><span style='background-color:");}else{$1g.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray'><span style='background-color:");};$1g.push('transparent');$1g.push("' unselectable='on'>");if($1e){if($e.start().getDatePart().getTime()!==$e.start().getTime()){$1g.push(DayPilot.Date.hours($e.start().d,this.timeFormat==='Clock12Hours'));}}else{$1g.push("~");};$1g.push("</span></div></div>");};if($1j){$1g.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:8pt;color:gray'><span style='background-color:");$1g.push('transparent');$1g.push("' unselectable='on'>");if($1f){if($e.end().getDatePart().getTime()!==$e.end().getTime()){$1g.push(DayPilot.Date.hours($e.end().d,this.timeFormat==='Clock12Hours'));}}else{$1g.push("~");};$1g.push("</span></div></div>");};if($1k==='Left'){var $T=$1i?$1l:0;$1g.push("<div style='margin-top:0px;height:");$1g.push(this.allDayEventHeight-2);$1g.push("px;");$1g.push(";overflow:hidden;text-align:left;padding-left:");$1g.push($T);$1g.push("px;font-size:");$1g.push(this.allDayEventFontSize);$1g.push(";color:");$1g.push(this.allDayEventFontColor);$1g.push(";font-family:");$1g.push(this.eventFontFamily);$1g.push("' unselectable='on'>");if($e.client.innerHTML()){$1g.push($e.client.innerHTML());}else{$1g.push($e.text());};$1g.push("</div>");}else if($1k==='Center'){if($1h){$1g.push("<div style='position:absolute; text-align:center; width: 98%; height:1px;'>");$1g.push("<span style='background-color:");$1g.push('transparent');$1g.push(";font-size:");$1g.push(this.allDayEventFontSize);$1g.push(";color:");$1g.push(this.allDayEventFontColor);$1g.push(";font-family:");$1g.push(this.allDayEventFontFamily);$1g.push("' unselectable='on'>");if($e.client.innerHTML()){$1g.push($e.client.innerHTML());}else{$1g.push($e.text());};$1g.push("</span>");$1g.push("</div>");}else{$1g.push("<div style='margin-top:0px;height:");$1g.push(this.allDayEventHeight-2);$1g.push("px;");$1g.push(";overflow:hidden;text-align:center;font-size:");$1g.push(this.allDayEventFontSize);$1g.push(";color:");$1g.push(this.allDayEventFontColor);$1g.push(";font-family:");$1g.push(this.allDayEventFontFamily);$1g.push("' unselectable='on'>");if($e.client.innerHTML()){$1g.push($e.client.innerHTML());}else{$1g.push($e.text());};$1g.push("</div>");}};$I.innerHTML=$1g.join('');$S.appendChild($I);}else{var $I=document.createElement("div");$I.setAttribute("unselectable","on");$I.className=this.$3V("_alldayevent_inner");if(!$1e){DayPilot.Util.addClass($S,this.$3V("_alldayevent_continueleft"));};if(!$1f){DayPilot.Util.addClass($S,this.$3V("_alldayevent_continueright"));};if($e.client.innerHTML()){$I.innerHTML=$e.client.innerHTML();}else{$I.innerHTML=$e.text();};$S.appendChild($I);};if($b.afterEventRender){$b.afterEventRender($e,$S);};this.nav.allday.appendChild($S);this.elements.events.push($S);}};$1d.style.display='';};this.$3r=function($1m){$b.multiselect.$4N();if(this.elements.events){for(var i=0;i<this.elements.events.length;i++){var $S=this.elements.events[i];var $A=$S.event;if($A&&$1m&&!$A.allday()){continue;};if($A){$A.div=null;$A.root=null;};$S.onclick=null;$S.onclickSave=null;$S.ondblclick=null;$S.oncontextmenu=null;$S.onmouseover=null;$S.onmouseout=null;$S.onmousemove=null;$S.onmousedown=null;if($S.firstChild&&$S.firstChild.firstChild&&$S.firstChild.firstChild.tagName&&$S.firstChild.firstChild.tagName.toUpperCase()==='IMG'){var $1n=$S.firstChild.firstChild;$1n.onmousedown=null;$1n.onmousemove=null;$1n.onclick=null;};$S.helper=null;$S.event=null;DayPilot.de($S);}};this.elements.events=[];};this.$4T=function($e){var $C=this.nav.events;var $1o=this.roundedCorners;var $1p=this.roundedCorners&&(this.$3j.ff||this.$3j.opera105||this.$3j.webkit522||this.$3j.ie9);var $1q=this.roundedCorners&&!$1p;var $1r=$e.client.borderColor();var $S=document.createElement("div");$S.setAttribute("unselectable","on");$S.style.MozUserSelect='none';$S.style.KhtmlUserSelect='none';$S.style.WebkitUserSelect='none';$S.style.position='absolute';if(!this.cssOnly){$S.style.fontFamily=this.eventFontFamily;$S.style.fontSize=this.eventFontSize;$S.style.color=$e.data.fontColor?$e.data.fontColor:this.eventFontColor;if(!$1o){$S.style.backgroundColor=$1r;};if(this.transparent){$S.style.opacity=0.6;$S.style.filter="alpha(opacity=60)";}}else{$S.className=this.$3V("_event");};$S.style.left=$e.part.left+'%';$S.style.top=($e.part.top-this.$4x())+'px';$S.style.width=$e.part.width+'%';$S.style.height=Math.max($e.part.height,2)+'px';$S.style.overflow='hidden';$S.isFirst=$e.part.start.getTime()===$e.start().getTime();$S.isLast=$e.part.end.getTime()===$e.end().getTime();if($e.client.clickEnabled()){$S.onclick=this.$44;};if($e.client.doubleClickEnabled()){$S.ondblclick=this.$48;};$S.oncontextmenu=this.$49;$S.onmousemove=this.$4U;$S.onmouseout=this.$4V;$S.onmousedown=this.$4W;$S.ontouchstart=this.$4X.onEventTouchStart;$S.ontouchmove=this.$4X.onEventTouchMove;$S.ontouchend=this.$4X.onEventTouchEnd;var $1g=[];if(!this.cssOnly){if(this.eventDeleteHandling!=='Disabled'&&$e.client.deleteEnabled()){$1g.push("<div unselectable='on' style='position:absolute; width:100%;text-align:right;'><div style='position:absolute; width:10px; height:10px; right:2px; top: 2px; cursor:pointer;");if(this.deleteImageUrl){$1g.push("background-image:url(\"" + this.deleteImageUrl + "\");");};$1g.push("' class='");$1g.push(this.$3V("event_delete"));$1g.push("' onmousemove=\"if(typeof(DayPilotBubble)!=='undefined'&&");$1g.push(this.clientName);$1g.push(".bubble && ");$1g.push(this.clientName);$1g.push(".bubble.hideAfter > 0");$1g.push(") { DayPilotBubble.hideActive(); event.cancelBubble = true; };\" onmousedown=\"this.parentNode.parentNode.style.cursor='default';\" onclick='");$1g.push(this.clientName);$1g.push(".internal.eventDeleteDispatch(this); event.cancelBubble = true; if (event.stopPropagation) event.stopPropagation();' ></div></div>");};if($1q){$1g.push("<div style='margin-right:2px;'>");$1g.push("<div style='height:1px;line-height:1px;font-size:0px; margin-left:2px; background-color:");$1g.push($1r);$1g.push(";'>&nbsp;</div>");$1g.push("</div>");$1g.push("<div unselectable='on' style='position:absolute;width:100%;margin-top:-1px;'>");$1g.push("<div style='height:1px;line-height:1px;font-size:0px;margin-left:1px;margin-top:1px; margin-right:1px;border-right:1px solid ");$1g.push($1r);$1g.push(";border-left:1px solid ");$1g.push($1r);$1g.push(";background-color:");$1g.push($e.client.header()?$1r:$e.BackgroundColor);$1g.push("'>");$1g.push("&nbsp;</div>");$1g.push("</div>");}else if(!$1p){$1g.push("<div style='height:1px;line-height:1px;font-size:0px; width:1px;'>&nbsp;</div>");};$1g.push("<div");if(this.showToolTip){$1g.push(" title='");$1g.push($e.client.toolTip().replace(/'/g,"&apos;"));$1g.push("'");};var $G=Math.max($e.part.height-2,0);$1g.push(" c='1'");$1g.push(" class='");$1g.push($e.client.cssClass()?$e.client.cssClass():this.$3V('event'));$1g.push("'");if($1q){$1g.push(" style='margin-top:1px;height:");$1g.push($G-2);}else{$1g.push(" style='margin-top:0px;height:");$1g.push($G);};$1g.push("px;background-color:");$1g.push($e.client.backColor());if($1p){$1g.push(";border:1px solid ");$1g.push($1r);$1g.push(";-moz-border-radius:5px;");$1g.push(";-webkit-border-radius:5px;");$1g.push(";border-radius:5px;");}else{$1g.push(";border-left:1px solid ");$1g.push($1r);$1g.push(";border-right:1px solid ");$1g.push($1r);};$1g.push(";");if($e.data.backgroundImage){$1g.push("background-image:url(");$1g.push($e.data.backgroundImage);$1g.push(");");if($e.data.backgroundRepeat){$1g.push("background-repeat:");$1g.push($e.data.backgroundRepeat);$1g.push(";");}};if($b.rtl){$1g.push("direction:rtl;");};$1g.push("' unselectable='on'>");if(this.durationBarVisible){var $1s=$e.client.barColor()||$b.durationBarColor;$1g.push("<div style='position:absolute;left:1px;top:1px;width:");$1g.push($b.durationBarWidth-1);$1g.push("px;height:");$1g.push($e.part.barTop);$1g.push("px;background-color:white;font-size:1px' unselectable='on'></div>");$1g.push("<div style='position:absolute;left:1px;top:");$1g.push($e.part.barTop+$e.part.barHeight);$1g.push("px;width:");$1g.push($b.durationBarWidth-1);$1g.push("px;height:");$1g.push($G-($e.part.barTop+$e.part.barHeight));$1g.push("px;background-color:white;font-size:1px' unselectable='on'></div>");$1g.push("<div style='position:absolute;left:1px;width:");$1g.push($b.durationBarWidth);$1g.push("px;height:");$1g.push($e.part.barHeight);$1g.push("px;");if($e.data.durationBarImageUrl){$1g.push("background-image:url(");$1g.push($e.data.durationBarImageUrl);$1g.push(");");}else if($b.durationBarImageUrl){$1g.push("background-image:url(");$1g.push($b.durationBarImageUrl);$1g.push(");");};$1g.push("top:");$1g.push($e.part.barTop+1);$1g.push("px;background-color:");$1g.push($1s);$1g.push(";font-size:1px' unselectable='on'></div><div style='position:absolute;left:");$1g.push($b.durationBarWidth);$1g.push("px;top:1px;width:1px;background-color:");$1g.push($1r);$1g.push(";height:100%' unselectable='on'></div>");};var $1t=$e.client.header()?this.eventHeaderHeight:0;if($e.client.header()){$1g.push("<div unselectable='on' style='overflow:hidden;height:");$1g.push(this.eventHeaderHeight);$1g.push("px; background-color:");$1g.push($1r);$1g.push(";font-size:");$1g.push(this.eventHeaderFontSize);$1g.push(";color:");$1g.push(this.eventHeaderFontColor);$1g.push("'>");$1g.push($e.client.header());$1g.push("</div>");};if(this.durationBarVisible){$1g.push("<div unselectable='on' style='padding-left:");$1g.push($b.durationBarWidth+3);$1g.push("px;");}else{$1g.push("<div unselectable='on' style='overflow:hidden;padding-left:2px;height:");$1g.push($G-$1t-1);$1g.push("px;");};$1g.push("'>");$1g.push($e.client.innerHTML());$1g.push("</div></div>");if($1q){$1g.push("<div unselectable='on' style='margin-right:2px;'>");$1g.push("<div unselectable='on' style='height:1px;line-height:1px;font-size:0px;margin-left:2px;margin-top:1px;background-color:");$1g.push($1r);$1g.push(";'><!-- --></div>");$1g.push("</div>");$1g.push("<div unselectable='on' style='margin-right:0px;margin-top:-3px;position:relative;'>");$1g.push("<div unselectable='on' style='margin-right:0px;position:relative;'>");$1g.push("<div unselectable='on' style='height:1px;line-height:1px;font-size:0px;margin-top:1px;margin-left:1px;margin-right:1px;border-right:1px solid ");$1g.push($1r);$1g.push(";border-left:1px solid ");$1g.push($1r);$1g.push(";background-color:");$1g.push($e.client.backColor());$1g.push("'>");$1g.push("<!-- --></div>");$1g.push("</div>");$1g.push("</div>");};$S.innerHTML=$1g.join('');}else{if($e.client.cssClass()){DayPilot.Util.addClass($S,$e.client.cssClass());};var $I=document.createElement("div");$I.setAttribute("unselectable","on");$I.className=$b.$3V("_event_inner");$I.innerHTML=$e.client.innerHTML();if($e.data.backColor){$I.style.backgroundColor=$e.data.backColor;};if($e.data.borderColor){$I.style.borderColor=$e.data.borderColor;};if($e.data.backgroundImage){$I.style.backgroundImage="url("+$e.data.backgroundImage+")";if($e.data.backgroundRepeat){$I.style.backgroundRepeat=$e.data.backgroundRepeat;}};$S.appendChild($I);if($e.client.barVisible()){var $G=$e.part.height-2;var $1u=100*$e.part.barTop/$G;var $1v=Math.ceil(100*$e.part.barHeight/$G);if(this.durationBarMode==="PercentComplete"){$1w=0;$1x=$e.data.complete;};var $1y=document.createElement("div");$1y.setAttribute("unselectable","on");$1y.className=this.$3V("_event_bar");$1y.style.position="absolute";var $1z=document.createElement("div");$1z.setAttribute("unselectable","on");$1z.className=this.$3V("_event_bar_inner");$1z.style.top=$1u+"%";if(0<$1v&&$1v<=1){$1z.style.height="1px";}else{$1z.style.height=$1v+"%";};$1y.appendChild($1z);$S.appendChild($1y);}};if($C.rows[0].cells[$e.part.dayIndex]){var $1A=$C.rows[0].cells[$e.part.dayIndex].firstChild;$1A.appendChild($S);$b.$4Y($S);$S.event=$e;if($b.multiselect.$4F($e)){$b.multiselect.add($S.event,true);};if($b.afterEventRender){$b.afterEventRender($e,$S);}};$b.elements.events.push($S);};this.$4Y=function(el){var c=(el&&el.childNodes)?el.childNodes.length:0;for(var i=0;i<c;i++){try{var $16=el.childNodes[i];if($16.nodeType===1){$16.setAttribute("unselectable","on");this.$4Y($16);}}catch(e){}}};this.$3Q=function(){this.multiselect.$4B=[];var $03=new Date();for(var i=0;i<this.columnsBottom.length;i++){var $1B=this.columnsBottom[i];for(var m=0;m<$1B.blocks.length;m++){var $18=$1B.blocks[m];for(var j=0;j<$18.lines.length;j++){var $1b=$18.lines[j];for(var k=0;k<$1b.length;k++){var e=$1b[k];e.part.width=100/$18.lines.length;e.part.left=e.part.width*j;if(this.eventArrangement==='Cascade'){var $1C=(j===$18.lines.length-1);if(!$1C){e.part.width=e.part.width*1.5;}};if(this.eventArrangement==='Full'){e.part.left=e.part.left/2;e.part.width=100-e.part.left;};if(!e.allday()){this.$4T(e);}}}}};this.multiselect.redraw();var end=new Date();var $1D=end.getTime()-$03.getTime();};this.$4Z=function(){this.multiselect.$4B=[];for(var i=0;i<this.columnsBottom.length;i++){var $1B=this.columnsBottom[i];for(var j=0;j<$1B.lines.length;j++){var $1b=$1B.lines[j];for(var k=0;k<$1b.length;k++){var e=$1b[k];e.part.width=100/$1B.lines.length;e.part.left=e.Width*j;if(!e.allday()){this.$4T(e);}}}}};this.$3V=function($1E){if(this.cssClassPrefix){return this.cssClassPrefix+$1E;}else{return "";}};this.$3P=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.$50=function(){this.nav.top=document.getElementById(this.id);this.nav.top.dp=this;this.nav.top.innerHTML='';this.nav.top.style.MozUserSelect='none';this.nav.top.style.KhtmlUserSelect='none';this.nav.top.style.WebkitUserSelect='none';this.nav.top.style.position='relative';if(this.width){this.nav.top.style.width=this.width;};if(!this.cssOnly){this.nav.top.style.lineHeight="1.2";this.nav.top.style.textAlign="left";};if(this.heightSpec==="Parent100Pct"){this.nav.top.style.height="100%";};if(this.hideUntilInit){this.nav.top.style.visibility='hidden';};this.nav.scroll=document.createElement("div");this.nav.scroll.style.height=this.$51()+"px";if(this.cssOnly){DayPilot.Util.addClass(this.nav.top,this.$3V("_main"));};if(this.heightSpec==="Fixed"){this.nav.scroll.style.overflowY="scroll";}else if(this.heightSpec==='BusinessHours'&&this.$3W()<=this.businessEndsHour-this.businessBeginsHour){this.nav.scroll.style.overflow="hidden";}else if(this.heightSpec!=="Full"&&this.heightSpec!=="BusinessHoursNoScroll"){this.nav.scroll.style.overflow="auto";}else{this.nav.scroll.style.overflow="hidden";};this.nav.scroll.style.position="relative";if(!this.cssOnly){this.nav.scroll.style.border="1px solid "+this.borderColor;this.nav.scroll.style.backgroundColor=this.hourNameBackColor;};if(this.showHeader){var $1d=this.$52();this.nav.top.appendChild($1d);};this.nav.scroll.style.zoom=1;var $1F=this.$53();this.nav.scrollable=$1F.firstChild;this.nav.scroll.appendChild($1F);this.nav.top.appendChild(this.nav.scroll);this.nav.vsph=document.createElement("div");this.nav.vsph.style.display="none";this.nav.top.appendChild(this.nav.vsph);this.nav.scrollpos=document.createElement("input");this.nav.scrollpos.type="hidden";this.nav.scrollpos.id=$b.id+"_scrollpos";this.nav.scrollpos.name=this.nav.scrollpos.id;this.nav.top.appendChild(this.nav.scrollpos);this.nav.select=document.createElement("input");this.nav.select.type="hidden";this.nav.select.id=$b.id+"_select";this.nav.select.name=this.nav.select.id;this.nav.select.value=null;this.nav.top.appendChild(this.nav.select);this.nav.scrollLayer=document.createElement("div");this.nav.scrollLayer.style.position='absolute';this.nav.scrollLayer.style.top='0px';this.nav.scrollLayer.style.left='0px';this.nav.top.appendChild(this.nav.scrollLayer);this.nav.scrollUp=[];this.nav.scrollDown=[];this.nav.loading=document.createElement("div");this.nav.loading.style.position='absolute';this.nav.loading.style.top='0px';this.nav.loading.style.left=(this.hourWidth+5)+"px";this.nav.loading.style.backgroundColor=this.loadingLabelBackColor;this.nav.loading.style.fontSize=this.loadingLabelFontSize;this.nav.loading.style.fontFamily=this.loadingLabelFontFamily;this.nav.loading.style.color=this.loadingLabelFontColor;this.nav.loading.style.padding='2px';this.nav.loading.innerHTML=this.loadingLabelText;this.nav.loading.style.display='none';this.nav.top.appendChild(this.nav.loading);};this.$3M=function(){if(!this.fasterDispose){DayPilot.pu(this.nav.hourTable);}else{this.$54();};this.nav.scrollable.rows[0].cells[0].innerHTML='';this.nav.hourTable=this.$55();this.nav.scrollable.rows[0].cells[0].appendChild(this.nav.hourTable);};this.$54=function(){for(var i=0;i<this.nav.hourTable.rows.length;i++){var $1G=this.nav.hourTable.rows[i];var $S=$1G.cells[0].firstChild;$S.data=null;$S.onmousemove=null;$S.onmouseout=null;}};this.$53=function(){var $1H=document.createElement("div");$1H.style.zoom=1;$1H.style.position='relative';$1H.onmousemove=this.$56;$1H.ontouchmove=this.$4X.onMainTouchMove;$1H.ontouchend=this.$4X.onMainTouchEnd;var $1I=document.createElement("table");$1I.cellSpacing="0";$1I.cellPadding="0";$1I.border="0";$1I.style.border="0px none";$1I.style.width="100%";$1I.style.position='absolute';var r=$1I.insertRow(-1);var c;if(this.showHours){c=r.insertCell(-1);c.valign="top";c.style.padding='0px';c.style.border='0px none';this.nav.hourTable=this.$55();c.appendChild(this.nav.hourTable);};c=r.insertCell(-1);c.width="100%";c.style.padding='0px';c.style.border='0px none';c.style.verticalAlign="top";if(!this.cssOnly&&!this.separateEventsTable){c.appendChild(this.$57());}else{var parent=document.createElement("div");parent.style.height="0px";parent.style.position="relative";parent.appendChild(this.$57());var $1J=document.createElement("div");$1J.style.position="absolute";$1J.style.top="0px";$1J.style.left="0px";$1J.style.right="0px";$1J.style.height="0px";parent.appendChild($1J);this.nav.crosshair=$1J;parent.appendChild(this.$58());c.appendChild(parent);};$1H.appendChild($1I);this.nav.zoom=$1H;return $1H;};this.$57=function(){var $1I=document.createElement("table");$1I.cellPadding="0";$1I.cellSpacing="0";$1I.border="0";$1I.style.width="100%";$1I.style.border="0px none";if(!this.cssOnly){$1I.style.borderLeft="1px solid "+this.borderColor;};$1I.style.tableLayout='fixed';this.nav.main=$1I;this.nav.events=$1I;return $1I;};this.$58=function(){var $1I=document.createElement("table");$1I.style.position="absolute";$1I.style.top="0px";$1I.style.width="100%";$1I.cellPadding="0";$1I.cellSpacing="0";$1I.border="0";$1I.style.width="100%";$1I.style.border="0px none";$1I.style.tableLayout='fixed';this.nav.events=$1I;var $1K=true;var $0G=this.columnsBottom;var cl=$0G.length;var r=($1K)?$1I.insertRow(-1):$1I.rows[0];for(var j=0;j<cl;j++){var c=($1K)?r.insertCell(-1):r.cells[j];if($1K){c.style.padding='0px';c.style.border='0px none';c.style.height='0px';c.style.overflow='visible';if(!$b.rtl){c.style.textAlign='left';};var $S=document.createElement("div");$S.style.marginRight=$b.columnMarginRight+"px";$S.style.position='relative';$S.style.height='1px';if(!this.cssOnly){$S.style.fontSize='1px';$S.style.lineHeight='1.2';};$S.style.marginTop='-1px';c.appendChild($S);}};return $1I;};this.$55=function(){var $1I=document.createElement("table");$1I.cellSpacing="0";$1I.cellPadding="0";$1I.border="0";$1I.style.border='0px none';$1I.style.width=this.hourWidth+"px";$1I.oncontextmenu=function(){return false;};$1I.onmousemove=function(){$b.$3y();};var $1L=this.$3X()/(this.timeHeaderCellDuration*60*1000);for(var i=0;i<$1L;i++){this.$59($1I,i);};return $1I;};this.$5a=function(){return(this.$40()-this.$40(true))*(60/this.cellDuration);};this.$5b=function(){return(this.$40()-this.$40(true));};this.$4x=function(){return this.$5a()*this.cellHeight;};this.$59=function($1I,i){var $G=(this.cellHeight*60/ this.cellDuration)/(60/this.timeHeaderCellDuration);var r=$1I.insertRow(-1);r.style.height=$G+"px";var c=r.insertCell(-1);c.valign="bottom";c.setAttribute("unselectable","on");if(!this.cssOnly){c.className=this.$3V("rowheader");c.style.backgroundColor=this.hourNameBackColor;c.style.cursor="default";};c.style.padding='0px';c.style.border='0px none';var $1M=document.createElement("div");if(this.cssOnly){$1M.className=this.$3V("_rowheader");};$1M.style.position="relative";$1M.style.width=this.hourWidth+"px";$1M.style.height=($G)+"px";$1M.style.overflow='hidden';$1M.setAttribute("unselectable","on");if(this.hours){var $e=this.hours[i+this.$5b()];$1M.data=$e;$1M.onmousemove=$b.$5c;$1M.onmouseout=$b.$5d;};var $18=document.createElement("div");if(this.cssOnly){$18.className=this.$3V("_rowheader_inner");};$18.setAttribute("unselectable","on");if(!this.cssOnly){$18.style.borderBottom="1px solid "+this.hourNameBorderColor;$18.style.textAlign="right";$18.style.height=($G-1)+"px";};if(this.hours){$18.innerHTML=this.hours[i+this.$5b()].html;}else{var $1N=document.createElement("div");$1N.setAttribute("unselectable","on");if(!this.cssOnly){$1N.style.padding="2px";$1N.style.fontFamily=this.hourFontFamily;$1N.style.fontSize=this.hourFontSize;$1N.style.color=this.hourFontColor;};var $03=this.startDate.addHours(i+this.$40());var $1O=$03.getHours();var am=$1O<12;if(this.timeFormat==="Clock12Hours"){$1O=$1O%12;if($1O===0){$1O=12;}};$1N.innerHTML=$1O;var $1P=document.createElement("span");$1P.setAttribute("unselectable","on");if(!this.cssOnly){$1P.style.fontSize="10px";$1P.style.verticalAlign="super";}else{$1P.className=this.$3V("_rowheader_minutes");};var $1Q;if(this.timeFormat==="Clock12Hours"){if(am){$1Q="AM";}else{$1Q="PM";}}else{$1Q="00";};if(!this.cssOnly){$1P.innerHTML="&nbsp;"+$1Q;}else{$1P.innerHTML=$1Q;};$1N.appendChild($1P);$18.appendChild($1N);};$1M.appendChild($18);c.appendChild($1M);};this.$5c=function(ev){$b.$3y();var $S=this;if(!$S.active){DayPilot.Areas.showAreas($S,$S.data);}};this.$5d=function(ev){DayPilot.Areas.hideAreas(this,ev);};this.$51=function(){switch(this.heightSpec){case "Fixed":return this.height;case "Parent100Pct":return this.height;case "Full":return(this.$3X()*this.cellHeight)/(60000*this.cellDuration);case "BusinessHours":case "BusinessHoursNoScroll":var $K=this.$3Y();return $K*this.cellHeight*60/this.cellDuration;default:throw "DayPilot.Calendar: Unexpected 'heightSpec' value.";}};this.$41=function(){var $1R=this.headerLevels*this.headerHeight+this.headerLevels-1;if(this.showAllDayEvents&&this.allDayHeaderHeight){if(!this.cssOnly){return $1R+this.allDayHeaderHeight;}else{return $1R+this.allDayHeaderHeight;}}else{return $1R;}};this.$3I=function(){if(!this.headerHeightAutoFit){return;};if(this.headerLevels>1){throw "Header height can't be adjusted for HeaderLevels > 1 (not implemented yet).";return;};var $J=0;for(var i=0;i<this.columnsBottom.length;i++){var $c=this.nav.header.rows[this.headerLevels-1].cells[i];var $S=$c.firstChild;var $I=$S.firstChild;var $1S=$S.style.height;$S.style.height="auto";$I.style.position="static";var h=$S.offsetHeight;$S.style.height=$1S;$I.style.position='';$J=Math.max($J,h);};if($J>this.headerHeight){this.headerHeight=$J;this.$3G();this.$3H();}};this.$5e=function(){if(this.heightSpec==='Parent100Pct'){var $I=(this.$3X()*this.cellHeight)/(60000*this.cellDuration);return $I>this.height;};return this.nav.scroll.style.overflow!=='hidden';};this.$52=function(){var $1d=document.createElement("div");if(!this.cssOnly){$1d.style.borderLeft="1px solid "+this.borderColor;$1d.style.borderRight="1px solid "+this.borderColor;};$1d.style.overflow="auto";var $1I=document.createElement("table");$1I.cellPadding="0";$1I.cellSpacing="0";$1I.border="0";$1I.style.width="100%";$1I.style.borderCollapse='separate';$1I.style.border="0px none";var r=$1I.insertRow(-1);this.nav.fullHeader=$1I;var c=r.insertCell(-1);c.style.padding='0px';c.style.border='0px none';if(this.showHours){var $1T=this.$5f();c.appendChild($1T);this.nav.corner=$1T;}else{var $1U=document.createElement("div");$1U.style.backgroundColor=this.hourNameBackColor;$1U.style.width="0px";$1U.style.height=this.$41()+"px";$1U.style.borderTop="1px solid "+this.borderColor;$1U.setAttribute("unselectable","on");c.appendChild($1U);};c=r.insertCell(-1);c.style.width="100%";if(!this.cssOnly){c.style.backgroundColor=this.hourNameBackColor;};c.valign="top";c.style.position='relative';c.style.padding='0px';c.style.border='0px none';var $1V=document.createElement("div");$1V.style.position="relative";$1V.style.height=this.$41()+"px";$1V.style.overflow="hidden";c.appendChild($1V);this.nav.mid=$1V;this.nav.header=document.createElement("table");this.nav.header.cellPadding="0";this.nav.header.cellSpacing="0";this.nav.header.border="0";this.nav.header.width="100%";this.nav.header.style.tableLayout="fixed";if(!this.cssOnly){this.nav.header.style.borderBottom="0px none #000000";this.nav.header.style.borderRight="0px none #000000";this.nav.header.style.borderLeft="1px solid "+this.borderColor;this.nav.header.style.borderTop="1px solid "+this.borderColor;};this.nav.header.oncontextmenu=function(){return false;};var $1W=this.$5e();if(!this.cssOnly){if($1W){this.nav.header.style.borderRight="1px solid "+this.borderColor;}};$1V.appendChild(this.nav.header);if(this.showAllDayEvents){var $1X=document.createElement("div");$1X.style.position='absolute';$1X.style.top="0px";$1X.style.height="0px";$1X.style.width="100%";this.nav.allday=$1X;$1V.appendChild($1X);};if($1W){this.$5g();};$1d.appendChild($1I);return $1d;};this.$5g=function(){var r=this.nav.fullHeader.rows[0];var c=r.insertCell(-1);if(!this.cssOnly){c.className=this.$3V('cornerright');c.style.backgroundColor=this.hourNameBackColor;c.style.borderBottom="0px none";c.style.borderLeft="0px none";c.style.borderRight="0px none";};c.style.padding='0px';c.style.verticalAlign='top';c.setAttribute("unselectable","on");var $1g=document.createElement("div");$1g.setAttribute("unselectable","on");if(this.cssOnly){$1g.className=this.$3V('_cornerright');};$1g.style.overflow="hidden";$1g.style.position="relative";$1g.style.width="16px";$1g.style.height=this.$41()+"px";var $I=document.createElement("div");if(this.cssOnly){$I.className=this.$3V('_cornerright_inner');}else{$I.style.borderTop="1px solid "+this.borderColor;};$1g.appendChild($I);c.appendChild($1g);this.nav.cornerRight=$1g;};this.$5f=function(){var $1F=document.createElement("div");$1F.style.position='relative';if(!this.cssOnly){$1F.style.backgroundColor=this.cornerBackColor;$1F.style.fontFamily=this.headerFontFamily;$1F.style.fontSize=this.headerFontSize;$1F.style.color=this.headerFontColor;$1F.className=this.$3V("corner");}else{$1F.className=this.$3V("_corner");};$1F.style.width=this.hourWidth+"px";$1F.style.height=this.$41()+"px";$1F.style.overflow="hidden";$1F.oncontextmenu=function(){return false;};var $1T=document.createElement("div");if(this.cssOnly){$1T.className=this.$3V("_corner_inner");}else{$1T.style.borderTop="1px solid "+this.borderColor;};$1T.setAttribute("unselectable","on");$1T.innerHTML=this.cornerHTML?this.cornerHTML:'';$1F.appendChild($1T);if(!this.numberFormat)return $1F;var $1Y=document.createElement("div");$1Y.style.position='absolute';$1Y.style.padding='2px';$1Y.style.top='0px';$1Y.style.left='1px';$1Y.style.backgroundColor="#FF6600";$1Y.style.color="white";$1Y.innerHTML="\u0044\u0045\u004D\u004F";$1Y.setAttribute("unselectable","on");$1F.appendChild($1Y);return $1F;};this.$3s=function(){var $1I=this.nav.main;$1I.root=null;$1I.onmouseup=null;for(var y=0;y<$1I.rows.length;y++){var r=$1I.rows[y];for(var x=0;x<r.cells.length;x++){var c=r.cells[x];c.root=null;c.onmousedown=null;c.onmousemove=null;c.onmouseout=null;c.onmouseup=null;c.onclick=null;c.ondblclick=null;c.oncontextmenu=null;}};if(!this.fasterDispose)DayPilot.pu($1I);};this.$3J=function(){for(var i=0;this.nav.scrollUp&&i<this.nav.scrollUp.length;i++){this.nav.scrollLayer.removeChild(this.nav.scrollUp[i]);};for(var i=0;this.nav.scrollDown&&i<this.nav.scrollDown.length;i++){this.nav.scrollLayer.removeChild(this.nav.scrollDown[i]);};this.nav.scrollUp=[];this.nav.scrollDown=[];};this.$3L=function(){var $1Z=[];var $20=[];var $1I=this.nav.main;var $0e=this.cellDuration*60*1000;var $21=this.$43();var $0G=$b.columnsBottom;var $1K=!this.tableCreated||$0G.length!==$1I.rows[0].cells.length||$21!==$1I.rows.length;if($1I){this.$3s();}while($1I&&$1I.rows&&$1I.rows.length>0&&$1K){if(!this.fasterDispose)DayPilot.pu($1I.rows[0]);$1I.deleteRow(0);};this.tableCreated=true;if(this.scrollLabelsVisible){var $0G=this.columnsBottom;var $0H=(this.showHours?this.hourWidth:0);var $D=(this.nav.scroll.clientWidth-$0H)/$0G.length;for(var i=0;i<$0G.length;i++){var $0J=document.createElement("div");$0J.style.position='absolute';$0J.style.top='0px';$0J.style.left=($0H+2+i*$D+$D/2)+"px";$0J.style.display='none';var $1n=document.createElement("div");$1n.style.height='10px';$1n.style.width='10px';if(this.cssOnly){$1n.className=this.$3V("_scroll_up");}else{$1n.style.backgroundRepeat="no-repeat";if(this.scrollUpUrl){$1n.style.backgroundImage="url('"+this.scrollUpUrl+"')";};$1n.className=this.$3V("scroll_up");};$0J.appendChild($1n);this.nav.scrollLayer.appendChild($0J);this.nav.scrollUp.push($0J);var $0K=document.createElement("div");$0K.style.position='absolute';$0K.style.top='0px';$0K.style.left=($0H+2+i*$D+$D/2)+"px";$0K.style.display='none';var $1n=document.createElement("div");$1n.style.height='10px';$1n.style.width='10px';if(this.cssOnly){$1n.className=this.$3V("_scroll_down");}else{$1n.style.backgroundRepeat="no-repeat";if(this.scrollDownUrl){$1n.style.backgroundImage="url('"+this.scrollDownUrl+"')";};$1n.className=this.$3V("scroll_down");};$0K.appendChild($1n);this.nav.scrollLayer.appendChild($0K);this.nav.scrollDown.push($0K);}};var cl=$0G.length;if(this.cssOnly||this.separateEventsTable){var $0T=this.nav.events;while($0T&&$0T.rows&&$0T.rows.length>0&&$1K){if(!this.fasterDispose)DayPilot.pu($0T.rows[0]);$0T.deleteRow(0);};var r=($1K)?$0T.insertRow(-1):$0T.rows[0];for(var j=0;j<cl;j++){var c=($1K)?r.insertCell(-1):r.cells[j];if($1K){c.style.padding='0px';c.style.border='0px none';c.style.height='1px';c.style.overflow='visible';if(!$b.rtl){c.style.textAlign='left';};var $S=document.createElement("div");$S.style.marginRight=$b.columnMarginRight+"px";$S.style.position='relative';$S.style.height='1px';if(!this.cssOnly){$S.style.fontSize='1px';$S.style.lineHeight='1.2';};$S.style.marginTop='-1px';c.appendChild($S);}}};for(var i=0;i<$21;i++){var r=($1K)?$1I.insertRow(-1):$1I.rows[i];if($1K){r.style.MozUserSelect='none';r.style.KhtmlUserSelect='none';r.style.WebkitUserSelect='none';};for(var j=0;j<cl;j++){var $1B=this.columnsBottom[j];var c=($1K)?r.insertCell(-1):r.cells[j];c.start=$1B.Start.addTime(i*$0e).addHours(this.$40());c.end=c.start.addTime($0e);c.resource=$1B.Value;var $22=$b.$5h(j,i);if($1K){c.root=this;c.style.padding='0px';c.style.border='0px none';c.style.verticalAlign='top';c.style.height=$b.cellHeight+'px';c.style.overflow='hidden';c.setAttribute("unselectable","on");if(!this.cssOnly){var $23=document.createElement("div");$23.style.height=($b.cellHeight-1)+"px";$23.style.width='100%';$23.style.overflow='hidden';$23.setAttribute("unselectable","on");c.appendChild($23);var $S=document.createElement("div");$S.setAttribute("unselectable","on");$S.style.fontSize='1px';$S.style.height='0px';c.appendChild($S);if((!$b.rtl&&j!==cl-1)||$b.rtl){c.style.borderRight='1px solid '+$b.cellBorderColor;};var $24=(c.end.getMinutes()+c.end.getSeconds()+c.end.getMilliseconds())>0;if($24){if($b.hourHalfBorderColor!==''){$S.style.borderBottom='1px solid '+$b.hourHalfBorderColor;};$S.className=$b.$3V("hourhalfcellborder");}else{if($b.hourBorderColor!==''){$S.style.borderBottom='1px solid '+$b.hourBorderColor;};$S.className=$b.$3V("hourcellborder");}}else{var $23=document.createElement("div");$23.className=$b.$3V("_cell");$23.style.position="relative";$23.style.height=($b.cellHeight)+"px";$23.style.overflow='hidden';$23.setAttribute("unselectable","on");var $I=document.createElement("div");$I.className=$b.$3V("_cell_inner");$23.appendChild($I);c.appendChild($23);}};c.onmousedown=this.$4r;c.onmousemove=this.$4u;c.onmouseout=this.$4t;c.ontouchstart=this.$4X.onCellTouchStart;c.ontouchmove=this.$4X.onCellTouchMove;c.ontouchend=this.$4X.onCellTouchEnd;c.onmouseup=function(){return false;};c.onclick=function(){return false;};c.ondblclick=function(){DayPilotCalendar.firstMousePos=null;$b.$4s();clearTimeout(DayPilotCalendar.selectedTimeout);if($b.timeRangeDoubleClickHandling==='Disabled'){return;};var $0F=$b.getSelection();$b.$4o($0F.start,$0F.end,$0F.resource);};c.oncontextmenu=function(){if(!this.selected){$b.clearSelection();DayPilotCalendar.column=DayPilotCalendar.getColumn(this);$b.selectedCells.push(this);DayPilotCalendar.firstSelected=this;DayPilotCalendar.topSelectedCell=this;DayPilotCalendar.bottomSelectedCell=this;$b.$4s();};if($b.contextMenuSelection){$b.contextMenuSelection.show($b.getSelection());};return false;};c.originalColor=$b.$5i(j,i);$23=c.firstChild;if(!this.cssOnly){c.className=$b.$3V("cellbackground");c.style.backgroundColor=c.originalColor;if($22){if($22.html){$23.innerHTML=$22.html;};if($22.css){c.className+=' '+$b.$3V($22.css);};if($22.image){c.style.backgroundImage="url('"+$22.image+"')";};if($22.repeat){c.style.backgroundRepeat=$22.repeat;}}}else{c.style.backgroundColor=c.originalColor;if($22){if($22.html){$23.innerHTML=$22.html;};if($22.css){DayPilot.Util.addClass($22.css);};if($22.image){c.style.backgroundImage="url('"+$22.image+"')";};if($22.repeat){c.style.backgroundRepeat=$22.repeat;}}}}};$1I.onmouseup=this.$4v;$1I.root=this;$b.nav.scrollable.style.display='';};this.$56=function(ev){ev=ev||window.event;ev.insideMainD=true;if(window.event){window.event.srcElement.inside=true;};DayPilotCalendar.activeCalendar=this;var $25=$b.nav.scrollable;$b.coords=DayPilot.mo3($25,ev);var $0B=DayPilot.mc(ev);var $1J=$b.crosshairType&&$b.crosshairType!=="Disabled";var $26=$b.coords.x<$b.hourWidth;if(DayPilot.Global.moving||DayPilot.Global.resizing||DayPilotCalendar.selecting||$26){$b.$3y();}else if($1J){$b.$5j();};if(DayPilot.Global.resizing){if(!DayPilotCalendar.resizingShadow){DayPilotCalendar.resizingShadow=$b.$3U(DayPilot.Global.resizing,false,$b.shadow);};var $27=DayPilot.Global.resizing.event.calendar.cellHeight;var $E=0;var $28=($0B.y-DayPilotCalendar.originalMouse.y);if(DayPilot.Global.resizing.dpBorder==='bottom'){var $29=Math.floor(((DayPilotCalendar.originalHeight+DayPilotCalendar.originalTop+$28)+$27/ 2)/ $27)*$27-DayPilotCalendar.originalTop+$E;if($29<$27)$29=$27;var $J=DayPilot.Global.resizing.event.calendar.nav.main.clientHeight;if(DayPilotCalendar.originalTop+$29>$J){$29=$J-DayPilotCalendar.originalTop;};DayPilotCalendar.resizingShadow.style.height=($29)+'px';}else if(DayPilot.Global.resizing.dpBorder==='top'){var $2a=Math.floor(((DayPilotCalendar.originalTop+$28-$E)+$27/ 2)/ $27)*$27+$E;if($2a<$E){$2a=$E;};if($2a>DayPilotCalendar.originalTop+DayPilotCalendar.originalHeight-$27){$2a=DayPilotCalendar.originalTop+DayPilotCalendar.originalHeight-$27;};var $29=DayPilotCalendar.originalHeight-($2a-DayPilotCalendar.originalTop);if($29<$27){$29=$27;}else{DayPilotCalendar.resizingShadow.style.top=$2a+'px';};DayPilotCalendar.resizingShadow.style.height=($29)+'px';}}else if(DayPilot.Global.moving){if(!DayPilotCalendar.movingShadow){var $2b=3;if(DayPilot.distance($0B,DayPilotCalendar.originalMouse)>$2b){DayPilotCalendar.movingShadow=$b.$3U(DayPilot.Global.moving,!$b.$3j.ie,$b.shadow);DayPilotCalendar.movingShadow.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth+1)+'px';}else{return;}};if(!$b.coords){return;};var $27=$b.cellHeight;var $E=0;var $0I=DayPilotCalendar.moveOffsetY;if(!$0I){$0I=$27/2;};if(this.moveBy==="Top"){$0I=0;};var $2a=Math.floor((($b.coords.y-$0I-$E)+$27/ 2)/ $27)*$27+$E;if($2a<$E){$2a=$E;};var $C=$b.nav.main;var $J=$C.clientHeight;var $G=parseInt(DayPilotCalendar.movingShadow.style.height);if($2a+$G>$J){$2a=$J-$G;};DayPilotCalendar.movingShadow.style.top=$2a+'px';var $D=$C.clientWidth/$C.rows[0].cells.length;var $m=Math.floor(($b.coords.x-$b.hourWidth)/$D);if($m<0){$m=0;};var $0T=$b.nav.events;if($m<$0T.rows[0].cells.length&&$m>=0&&DayPilotCalendar.movingShadow.column!==$m){DayPilotCalendar.movingShadow.column=$m;DayPilotCalendar.moveShadow($0T.rows[0].cells[$m]);}};if(DayPilotCalendar.drag){if(DayPilotCalendar.gShadow){document.body.removeChild(DayPilotCalendar.gShadow);};DayPilotCalendar.gShadow=null;if(!DayPilotCalendar.movingShadow&&$b.coords){var $H=$b.$3U(DayPilotCalendar.drag,false,DayPilotCalendar.drag.shadowType);if($H){DayPilotCalendar.movingShadow=$H;var $0A=new DayPilot.Date().getDatePart();var ev={'value':DayPilotCalendar.drag.id,'start':$0A,'end':$0A.addSeconds(DayPilotCalendar.drag.duration),'text':DayPilotCalendar.drag.text};var event=new DayPilot.Event(ev,$b);event.external=true;DayPilot.Global.moving={};DayPilot.Global.moving.event=event;DayPilot.Global.moving.helper={};}};ev.cancelBubble=true;}};this.$5k={};this.$5k.getCellCoords=function(){var $q={};$q.x=0;$q.y=0;var $C=$b.nav.main;var $2c=$b.coords.x-$b.hourWidth;var i=0;var $1B=this.col($C,i);while($1B&&$2c>$1B.left){i+=1;$1B=this.col($C,i);};$q.x=i-1;var $E=0;var $1G=Math.floor(($b.coords.y-$E)/$b.cellHeight);$q.y=$1G;return $q;};this.$5k.col=function($1I,x){var $q={};$q.left=0;$q.width=0;var $c=$1I.rows[0].cells[x];if(!$c){return null;};var t=DayPilot.abs($1I);var c=DayPilot.abs($c);$q.left=c.x-t.x;$q.width=$c.offsetWidth;return $q;};this.$5j=function(){this.$3y();if(!this.elements.crosshair){this.elements.crosshair=[];};var $2d=this.$5k.getCellCoords();if(!$2d){return;};var $m=$2d.x;var y=Math.floor($2d.y/(60/ $b.cellDuration)*(60/$b.timeHeaderCellDuration));if(y<0){return;};var $2e=document.createElement("div");$2e.style.position="absolute";$2e.style.left="0px";$2e.style.right="0px";$2e.style.top="0px";$2e.style.bottom="0px";$2e.style.opacity=.5;$2e.style.backgroundColor=this.crosshairColor;$2e.style.opacity=this.crosshairOpacity/100;$2e.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.nav.hourTable.rows[y].cells[0].firstChild.appendChild($2e);this.elements.crosshair.push($2e);var $2f=document.createElement("div");$2f.style.position="absolute";$2f.style.left="0px";$2f.style.right="0px";$2f.style.top="0px";$2f.style.bottom="0px";$2f.style.opacity=.5;$2f.style.backgroundColor=this.crosshairColor;$2f.style.opacity=this.crosshairOpacity/100;$2f.style.filter="alpha(opacity="+this.crosshairOpacity+")";var $1G=this.nav.header.rows[this.headerLevels-1];if($1G.cells[$m]){$1G.cells[$m].firstChild.appendChild($2f);this.elements.crosshair.push($2f);};if(this.crosshairType==="Header"){return;};var $2g=this.nav.crosshair;var $E=0;var top=Math.floor((($b.coords.y-$E))/$b.cellHeight)*$b.cellHeight+$E;var $G=$b.cellHeight;var $2h=document.createElement("div");$2h.style.position="absolute";$2h.style.left="0px";$2h.style.right="0px";$2h.style.top=top+"px";$2h.style.height=$G+"px";$2h.style.backgroundColor=this.crosshairColor;$2h.style.opacity=this.crosshairOpacity/100;$2h.style.filter="alpha(opacity="+this.crosshairOpacity+")";$2h.onmousedown=this.$5l;$2g.appendChild($2h);this.elements.crosshair.push($2h);var $1B=this.$5k.col(this.nav.main,$m);$G=this.nav.main.clientHeight;if($1B){var $2i=document.createElement("div");$2i.style.position="absolute";$2i.style.left=$1B.left+"px";$2i.style.width=$1B.width+"px";$2i.style.top="0px";$2i.style.height=$G+"px";$2i.style.backgroundColor=this.crosshairColor;$2i.style.opacity=this.crosshairOpacity/100;$2i.style.filter="alpha(opacity="+this.crosshairOpacity+")";$2i.onmousedown=this.$5l;$2g.appendChild($2i);this.elements.crosshair.push($2i);}};this.$5l=function(ev){$b.$3y();var $2d=$b.$5k.getCellCoords();var $2j=0;var $c=$b.nav.main.rows[$2d.y+$2j].cells[$2d.x];$b.$4r.apply($c,[ev]);};this.$3y=function(){if(!this.elements.crosshair||this.elements.crosshair.length===0){return;};for(var i=0;i<this.elements.crosshair.length;i++){var e=this.elements.crosshair[i];if(e&&e.parentNode){e.parentNode.removeChild(e);}};this.elements.crosshair=[];};this.$5h=function(x,y){if(!this.cellProperties){return null;};return this.cellProperties[x+"_"+y];};this.$5i=function(x,y){if(this.cssOnly){var $2k=x+'_'+y;if(this.cellProperties&&this.cellProperties[$2k]){return this.cellProperties[$2k].color;};return null;};if(this.colors){if(!this.dirtyColors&&y>0){y=0;};if(this.colors!==null&&this.colors[y]!==null&&this.colors[y][x]!==null&&this.palette!==null){return this.palette[this.colors[y][x]];}else return null;}else{var $c={};$c.resource=this.columnsBottom[x].Value;$c.start=new DayPilot.Date(this.columnsBottom[x].Start).addTime(y*this.cellDuration).addHours(this.$5b());$c.backColor=this.isBusiness($c)?this.cellBackColor:this.cellBackColorNonBusiness;this.onBeforeCellRender($c);$c.backColor;}};this.isBusiness=function($c){if($c.start.dayOfWeek()===0||$c.start.dayOfWeek()===6){return false;};if(this.cellDuration<720){if($c.start.getHours()<this.businessBeginsHour||$c.start.getHours()>=this.businessEndsHour){return false;}else{return true;}};return true;};this.onBeforeCellRender=function($c){};this.$3t=function(){var $1I=this.nav.header;if($1I&&$1I.rows){for(var y=0;y<$1I.rows.length;y++){var r=$1I.rows[y];for(var x=0;x<r.cells.length;x++){var c=r.cells[x];c.onclick=null;c.onmousemove=null;c.onmouseout=null;}}};if(!this.fasterDispose)DayPilot.pu($1I);};this.$5m=function($14,$1K){var r=($1K)?this.nav.header.insertRow(-1):this.nav.header.rows[$14-1];var $0G=this.$4R($14);var $2l=$0G.length;for(var i=0;i<$2l;i++){var $e=$0G[i];var $2m=$e.getChildren?true:false;var $c=($1K)?r.insertCell(-1):r.cells[i];$c.data=$e;if($14===$b.headerLevels){}else{var $2n=1;if($2m){$2n=$e.getChildrenCount($b.headerLevels-$14+1);};$c.colSpan=$2n;};if($2m){$c.onclick=this.$4a;$c.onmousemove=this.$4b;$c.onmouseout=this.$4c;if($e.ToolTip){$c.title=$e.ToolTip;}};$c.style.overflow='hidden';$c.style.padding='0px';$c.style.border='0px none';$c.style.height=(this.headerHeight)+"px";var $S=($1K)?document.createElement("div"):$c.firstChild;if($1K){$S.setAttribute("unselectable","on");$S.style.MozUserSelect='none';$S.style.KhtmlUserSelect='none';$S.style.WebkitUserSelect='none';$S.style.position='relative';$S.style.height=this.headerHeight+"px";if(!this.cssOnly){$S.className=$b.$3V('colheader');$S.style.cursor='default';$S.style.fontFamily=this.headerFontFamily;$S.style.fontSize=this.headerFontSize;$S.style.color=this.headerFontColor;$S.style.backgroundColor=$e.BackColor;$S.style.textAlign='center';var $1N=document.createElement("div");$1N.style.position='absolute';$1N.style.left='0px';$1N.style.right='0px';$1N.style.top="0px";$1N.style.bottom="0px";$1N.style.padding="2px";$1N.setAttribute("unselectable","on");if($14!==1){$1N.style.borderTop='1px solid '+this.borderColor;};if($b.rtl){if(i===$2l-1){$1N.style.borderLeft="1px solid "+$e.BackColor;}else{$1N.style.borderLeft="1px solid "+this.borderColor;}}else{if(i!==$2l-1){$1N.style.borderRight="1px solid "+this.borderColor;}};if(this.headerClickHandling!=="Disabled"){$1N.style.cursor='pointer';};$S.appendChild($1N);}else{$S.className=$b.$3V('_colheader');var $I=document.createElement("div");$I.className=$b.$3V('_colheader_inner');$S.appendChild($I);};$c.appendChild($S);}else{$S.style.height=this.headerHeight+"px";};if($2m){$S.firstChild.innerHTML=$e.InnerHTML;}}};this.$3H=function(){if(!this.showHeader){return;};var $1d=this.nav.header;var $1K=true;var $0G=this.$4R($b.headerLevels,true);var $2l=$0G.length;if(this.headerCreated&&$1d&&$1d.rows&&$1d.rows.length>0){$1K=$1d.rows[$1d.rows.length-1].cells.length!==$2l;}while(this.headerCreated&&$1d&&$1d.rows&&$1d.rows.length>0&&$1K){if(!this.fasterDispose)DayPilot.pu($1d.rows[0]);$1d.deleteRow(0);};this.headerCreated=true;if(!$1K){var $1T=$b.nav.corner;if(!this.cssOnly){$1T.style.backgroundColor=$b.cornerBackColor;};if(!this.fasterDispose)DayPilot.pu($1T.firstChild);$1T.firstChild.innerHTML=$b.cornerHTML?$b.cornerHTML:'';};for(var i=0;i<$b.headerLevels;i++){this.$5m(i+1,$1K);};if(!this.showAllDayEvents){return;};var r=($1K)?$1d.insertRow(-1):$1d.rows[$b.headerLevels];var w=100/$2l;for(var i=0;i<$2l;i++){var $e=$0G[i];var $c=($1K)?r.insertCell(-1):r.cells[i];$c.data=$e;$c.style.padding='0px';$c.style.border='0px none';$c.style.overflow='hidden';if(!this.cssOnly){$c.style.lineHeight='1.2';};var $S=($1K)?document.createElement("div"):$c.firstChild;if($1K){$S.setAttribute("unselectable","on");$S.style.MozUserSelect='none';$S.style.KhtmlUserSelect='none';$S.style.WebkitUserSelect='none';$S.style.overflow='hidden';$S.style.position="relative";$S.style.height=this.allDayHeaderHeight+"px";if(!this.cssOnly){$S.className=this.$3V("alldayheader");$S.style.textAlign='center';$S.style.backgroundColor=$e.BackColor;$S.style.cursor='default';var $1N=document.createElement("div");$1N.style.position="absolute";$1N.style.left='0px';$1N.style.right='0px';$1N.style.top="0px";$1N.style.bottom="0px";$1N.setAttribute("unselectable","on");$1N.style.borderTop='1px solid '+this.borderColor;$S.appendChild($1N);if($b.rtl){if(i===$2l-1){$1N.style.borderLeft="1px solid "+$e.BackColor;}else{$1N.style.borderLeft="1px solid "+this.borderColor;}}else{if(i!==$2l-1){$1N.style.borderRight="1px solid "+this.borderColor;}}}else{$S.className=this.$3V("_alldayheader");var $I=document.createElement("div");$I.className=this.$3V("_alldayheader_inner");$S.appendChild($I);};$c.appendChild($S);};$S.style.height=this.allDayHeaderHeight+"px";}};this.$3n=function(){if(this.loadingLabelVisible){this.nav.loading.innerHTML=this.loadingLabelText;this.nav.loading.style.top=(this.$41()+5)+"px";this.nav.loading.style.display='';}};this.$3B=function(){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};this.nav.loading.style.display='none';};this.$5n=function(){var $2o=this.nav.scroll;if(!this.initScrollPos)return;$2o.root=this;$2o.onscroll=this.$4w;if($2o.scrollTop===0){$2o.scrollTop=this.initScrollPos-this.$4x();}else{this.$4w();}};this.onCallbackError=function($q,$r){alert("Error!\r\nResult: "+$q+"\r\nContext:"+$r);};this.$3O=function(){var $2p=this.$5e();var $2q=!!this.nav.cornerRight;if($2p!==$2q){if($2p){this.$5g();}else{if(this.nav.fullHeader&&this.nav.fullHeader.rows[0].cells.length===3){var c=this.nav.fullHeader.rows[0].cells[2];if(c.parentNode){c.parentNode.removeChild(c);}};this.nav.cornerRight=null;}};var d=this.nav.cornerRight;if(!d){return;};var w=DayPilot.sw(this.nav.scroll);if(!this.cssOnly){if(w>=3){d.style.width=(w-3)+'px';}}else{if(d){d.style.width=(w)+'px';}};return w;};this.$3T=function($2r){if($2r){this.autoRefreshEnabled=true;};if(!this.autoRefreshEnabled){return;};if(this.autoRefreshCount>=this.autoRefreshMaxCount){return;};this.$3q();var $2s=this.autoRefreshInterval;if(!$2s||$2s<10){throw "The minimum autoRefreshInterval is 10 seconds";};this.autoRefreshTimeout=window.setTimeout(function(){$b.$5o();},this.autoRefreshInterval*1000);};this.$3q=function(){if(this.autoRefreshTimeout){window.clearTimeout(this.autoRefreshTimeout);}};this.$5o=function(){if(!DayPilot.Global.resizing&&!DayPilot.Global.moving&&!DayPilotCalendar.drag&&!DayPilotCalendar.selecting){this.autoRefreshCount++;this.commandCallBack(this.autoRefreshCommand);};if(this.autoRefreshCount<this.autoRefreshMaxCount){this.autoRefreshTimeout=window.setTimeout(function(){$b.$5o();},this.autoRefreshInterval*1000);}};this.$3u=function(){if($b.heightSpec==="Parent100Pct"){$b.setHeight(parseInt($b.nav.top.clientHeight,10));};$b.$3N();$b.$3S();};this.$5p=function(){if(!DayPilotCalendar.globalHandlers){DayPilotCalendar.globalHandlers=true;DayPilot.re(document,'mousemove',DayPilotCalendar.gMouseMove);DayPilot.re(document,'mouseup',DayPilotCalendar.gMouseUp);DayPilot.re(window,'unload',DayPilotCalendar.gUnload);};DayPilot.re(window,'resize',this.$3u);};this.$4W=function(ev){ev=ev||window.event;var $0x=ev.which||ev.button;if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if((this.style.cursor==='n-resize'||this.style.cursor==='s-resize')&&$0x===1){DayPilot.Global.resizing=this;DayPilotCalendar.originalMouse=DayPilot.mc(ev);DayPilotCalendar.originalHeight=this.offsetHeight;DayPilotCalendar.originalTop=this.offsetTop;$b.nav.top.style.cursor=this.style.cursor;}else if((this.style.cursor==='move'||$b.moveBy==='Full')&&$0x===1){DayPilot.Global.moving=this;var $2t=DayPilot.Global.moving.helper={};$2t.oldColumn=$b.columnsBottom[this.event.part.dayIndex].Value;DayPilotCalendar.originalMouse=DayPilot.mc(ev);DayPilotCalendar.originalTop=this.offsetTop;var $0I=DayPilot.mo3(this,ev);if($0I){DayPilotCalendar.moveOffsetY=$0I.y;}else{DayPilotCalendar.moveOffsetY=0;};$b.nav.top.style.cursor=this.style.cursor;};return false;};this.$4X={};var $2u=$b.$4X;$2u.active=false;$2u.start=null;$2u.timeout=null;$2u.startcell=null;this.$4X.getCellCoords=function(x,y){var $2v=DayPilot.abs($b.nav.main);var $2w={x:x-$2v.x,y:y-$2v.y};var w=($b.nav.main.clientWidth/$b.columnsBottom.length);var $2x={x:Math.floor($2w.x/w),y:Math.floor($2w.y/$b.cellHeight),toString:function(){return "x: "+this.x+" y:"+this.y;}};return $2x;};this.$4X.startSelecting=function($2x){var $c=$b.nav.main.rows[$2x.y].cells[$2x.x];$2u.startcell=$2x;$b.clearSelection();DayPilotCalendar.column=DayPilotCalendar.getColumn($c);$b.selectedCells.push($c);DayPilotCalendar.firstSelected=$c;DayPilotCalendar.topSelectedCell=$c;DayPilotCalendar.bottomSelectedCell=$c;$b.$4s();};this.$4X.extendSelection=function($2x){var $c=$b.nav.main.rows[$2x.y].cells[$2x.x];$b.clearSelection();if($2x.y<$2u.startcell.y){$b.selectedCells=DayPilotCalendar.getCellsBelow($c);DayPilotCalendar.topSelectedCell=$b.selectedCells[0];DayPilotCalendar.bottomSelectedCell=DayPilotCalendar.firstSelected;}else{$b.selectedCells=DayPilotCalendar.getCellsAbove($c);DayPilotCalendar.topSelectedCell=DayPilotCalendar.firstSelected;DayPilotCalendar.bottomSelectedCell=$b.selectedCells[0];};$b.$4s();};this.$4X.onCellTouchStart=function(ev){if($2u.active){return;};var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $2x=$2u.getCellCoords(x,y);var $2y=500;$2u.timeout=window.setTimeout(function(){$2u.active=true;$2u.startSelecting($2x);},$2y);};this.$4X.onCellTouchMove=function(ev){if(!$2u.active){window.clearTimeout($2u.timeout);return;};ev.preventDefault();if(!ev.touches[0]){return;};var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $2x=$2u.getCellCoords(x,y);$2u.extendSelection($2x);};this.$4X.onCellTouchEnd=function(ev){if(!$2u.active){window.clearTimeout($2u.timeout);return;};ev.preventDefault();$2u.startcell=null;var $0F=$b.getSelection();$0F.toString=function(){return "start: "+this.start+"\nend: "+this.end;};$b.$4n($0F.start,$0F.end,$0F.resource);window.setTimeout(function(){$2u.active=false;},500);};this.$4X.startMoving=function($S,$2x){DayPilot.Global.moving=$S;var $2t=DayPilot.Global.moving.helper={};$2t.oldColumn=$b.columnsBottom[$S.event.part.dayIndex].Value;DayPilotCalendar.originalMouse=$2x;DayPilotCalendar.originalTop=this.offsetTop;var $2v=DayPilot.abs($S);DayPilotCalendar.moveOffsetY=$2x.y-$2v.y;if(!DayPilotCalendar.movingShadow){DayPilotCalendar.movingShadow=$b.$3U(DayPilot.Global.moving,!$b.$3j.ie,$b.shadow);DayPilotCalendar.movingShadow.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth+1)+'px';}};this.$4X.updateMoving=function($2x){var $27=$b.cellHeight;var $E=0;var $0I=DayPilotCalendar.moveOffsetY;if(!$0I){$0I=$27/2;};var $2a=Math.floor((($2x.y-$0I-$E)+$27/ 2)/ $27)*$27+$E;if($2a<$E){$2a=$E;};var $C=$b.nav.main;var $J=$C.clientHeight;var $G=parseInt(DayPilotCalendar.movingShadow.style.height);if($2a+$G>$J){$2a=$J-$G;};DayPilotCalendar.movingShadow.style.top=$2a+'px';var $D=$C.clientWidth/$C.rows[0].cells.length;var $m=Math.floor($2x.x/$D);if($m<0){$m=0;};var $0T=$b.nav.events;if($m<$0T.rows[0].cells.length&&$m>=0&&DayPilotCalendar.movingShadow.column!==$m){DayPilotCalendar.movingShadow.column=$m;DayPilotCalendar.moveShadow($0T.rows[0].cells[$m]);}};this.$4X.onEventTouchStart=function(ev){if($2u.active){return;};$2u.preventEventTap=false;var $S=this;var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $2x={x:x,y:y,$S:this};var $2v=DayPilot.abs($b.nav.scrollable);$b.coords={x:x-$2v.x,y:y-$2v.y};var $2y=500;$2u.timeout=window.setTimeout(function(){$2u.active=true;$2u.startMoving($S,$2x);},$2y);};this.$4X.onMainTouchMove=function(ev){if($2u.timeout){window.clearTimeout($b.$4X.timeout);};if(DayPilot.Global.moving){ev.preventDefault();var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $2v=DayPilot.abs($b.nav.main);var $2x={x:x-$2v.x,y:y-$2v.y};$2u.updateMoving($2x);return;};$2u.preventEventTap=true;};this.$4X.onMainTouchEnd=function(ev){if(DayPilot.Global.moving){$2u.active=false;ev.preventDefault();var top=DayPilotCalendar.movingShadow.offsetTop;DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);var $2z=DayPilot.Global.moving.event;var $0j=DayPilotCalendar.movingShadow.column;DayPilot.Global.moving=null;DayPilotCalendar.movingShadow=null;$2z.calendar.$4h($2z,$0j,top);}};this.$4X.onEventTouchMove=function(ev){$2u.preventEventTap=true;};this.$4X.onEventTouchEnd=function(ev){if(!$2u.active){if($2u.preventEventTap){return;};ev.preventDefault();$b.$45(this,false);return;};$2u.active=false;if($2u.timeout){window.clearTimeout($b.$4X.timeout);return;}};this.$4U=function(ev){var $2A=5;var $2B=Math.max($b.durationBarWidth,10);var w=5;var $1d=($b.moveBy==='Top');if(typeof(DayPilotCalendar)==='undefined'){return;};var $0I=DayPilot.mo3(this,ev);if(!$0I){return;};var $S=this;if(!$S.active){if($b.cssOnly){DayPilot.Util.addClass($S,$b.$3V("_event_hover"));};DayPilot.Areas.showAreas($S,this.event);};if(DayPilot.Global.resizing||DayPilot.Global.moving){return;};var $2C=this.isFirst;var $2D=this.isLast;if($b.moveBy==="Disabled"||$b.moveBy==="None"){return;};if(!$1d&&$0I.x<=$2B&&this.event.client.moveEnabled()){if($2C){this.style.cursor='move';}else{this.style.cursor='not-allowed';}}else if(!$1d&&$0I.y<=$2A&&this.event.client.resizeEnabled()){if($2C){this.style.cursor="n-resize";this.dpBorder='top';}else{this.style.cursor='not-allowed';}}else if($1d&&$0I.y<=$2B&&this.event.client.moveEnabled()){this.style.cursor="move";}else if(this.offsetHeight-$0I.y<=$2A&&this.event.client.resizeEnabled()){if($2D){this.style.cursor="s-resize";this.dpBorder='bottom';}else{this.style.cursor='not-allowed';}}else if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){if(this.event.client.clickEnabled())this.style.cursor='pointer';else this.style.cursor='default';};if(typeof(DayPilotBubble)!=='undefined'&&$b.bubble&&$b.eventHoverHandling!=='Disabled'){if(this.style.cursor==='default'||this.style.cursor==='pointer'){$b.bubble.showEvent(this.event);}else{}}};this.$4V=function(ev){if($b.cssOnly){DayPilot.Util.removeClass(this,$b.$3V("_event_hover"));};if($b.bubble){$b.bubble.hideOnMouseOut();};DayPilot.Areas.hideAreas(this,ev);};this.$3F=function($0T){if(!$0T){$0T=this.events.list;}else{this.events.list=$0T;};if(!$0T){return;};this.allDay={};this.allDay.events=[];this.allDay.lines=[];var length=$0T.length;var $F=this.$3X(true);this.$3i.pixels={};var $2E=[];this.scrollLabels=[];this.minStart=10000;this.maxEnd=0;this.startDate=new DayPilot.Date(this.startDate);for(var i=0;i<length;i++){var e=$0T[i];e.start=new DayPilot.Date(e.start);e.end=new DayPilot.Date(e.end);};var $2F=this.viewType==='Resources';var $2G=this.startDate;var $2H=this.startDate.addDays(this.days);for(var i=0;i<this.columnsBottom.length;i++){var scroll={};scroll.minEnd=1000000;scroll.maxStart=-1;this.scrollLabels.push(scroll);var $1B=this.columnsBottom[i];$1B.events=[];$1B.lines=[];$1B.blocks=[];var $2I=new DayPilot.Date($1B.Start).addHours(this.$40(true));var $2J=$2I.getTime();var $2K=$2I.addTime($F);var $2L=$2K.getTime();if($2F){$2G=$2I.getDatePart();$2H=$2K.getDatePart();};for(var j=0;j<length;j++){if($2E[j]){continue;};var e=$0T[j];var $03=e.start;var end=e.end;var $2M=$03.getTime();var $2N=end.getTime();if($2N<$2M){continue;};if(e.allday){var $2O=false;if($b.allDayEnd==='Date'){$2O=!($2N<$2G.getTime()||$2M>=$2H.getTime());}else{$2O=!($2N<=$2G.getTime()||$2M>=$2H.getTime());};if($2F){$2O=$2O&&(e.resource===$1B.Value||$1B.Value==="*");};if($2O){var ep=new DayPilot.Event(e,this);ep.part.start=$2G.getTime()<$2M?$03:$2G;ep.part.end=$2H.getTime()>$2N?end:$2H;ep.part.colStart=DayPilot.Date.daysDiff(this.startDate.d,ep.part.start.d);ep.part.colWidth=DayPilot.Date.daysSpan(ep.part.start.d,ep.part.end.d)+1;if($2F){ep.part.colStart=i;ep.part.colWidth=1;};this.allDay.events.push(ep);$2E[j]=true;if($2F&&(ep.part.start.getTime()!==$2M||ep.part.end.getTime()!==$2N)){$2E[j]=false;}};continue;};var $2O=false;if($2F){$2O=($1B.Value===e.resource)&&!($2N<=$2J||$2M>=$2L);}else{$2O=!($2N<=$2J||$2M>=$2L)||($2N===$2M&&$2M===$2J);};if($2O){var ep=new DayPilot.Event(e,$b);ep.part.dayIndex=i;ep.part.start=$2J<$2M?$03:$2I;ep.part.end=$2L>$2N?end:$2K;var $2P=this.$5q(ep.part.start,$1B.Start);var $2Q=this.$5q(ep.part.end,$1B.Start);var top=$2P.top;var $10=$2Q.top;if(top===$10&&($2P.cut||$2Q.cut)){continue;};ep.part.box=$08.useBox($2N-$2M);var $E=0;if(ep.part.box){var $2R=$2Q.boxBottom;ep.part.top=Math.floor(top/this.cellHeight)*this.cellHeight+$E;ep.part.height=Math.max(Math.ceil($2R/this.cellHeight)*this.cellHeight-ep.part.top,this.cellHeight-1);ep.part.barTop=Math.max(top-ep.part.top-1,0);ep.part.barHeight=Math.max($10-top-2,1);}else{ep.part.top=top+$E;ep.part.height=Math.max($10-top,0);ep.part.barTop=0;ep.part.barHeight=Math.max($10-top-2,1);};var $03=ep.part.top;var end=ep.part.top+ep.part.height;if($03>scroll.maxStart){scroll.maxStart=$03;};if(end<scroll.minEnd){scroll.minEnd=end;};if($03<this.minStart){this.minStart=$03;};if(end>this.maxEnd){this.maxEnd=end;};$1B.events.push(ep);if(ep.part.start.getTime()===$2M&&ep.part.end.getTime()===$2N){$2E[j]=true;}}}};for(var i=0;i<this.columnsBottom.length;i++){var $1B=this.columnsBottom[i];$1B.events.sort(this.eventComparer);for(var j=0;j<$1B.events.length;j++){var e=$1B.events[j];$1B.putIntoBlock(e);};for(var j=0;j<$1B.blocks.length;j++){var $18=$1B.blocks[j];$18.events.sort(this.eventComparerCustom);for(var k=0;k<$18.events.length;k++){var e=$18.events[k];$18.putIntoLine(e);}}};this.allDay.events.sort(this.eventComparerCustom);this.allDay.putIntoLine=function(ep){var $1a=this;for(var i=0;i<this.lines.length;i++){var $1b=this.lines[i];if($1b.isFree(ep.part.colStart,ep.part.colWidth)){$1b.push(ep);return i;}};var $1b=[];$1b.isFree=function($03,$19){var end=$03+$19-1;var $J=this.length;for(var i=0;i<$J;i++){var e=this[i];if(!(end<e.part.colStart||$03>e.part.colStart+e.part.colWidth-1)){return false;}};return true;};$1b.push(ep);this.lines.push($1b);return this.lines.length-1;};for(var i=0;i<this.allDay.events.length;i++){var e=this.allDay.events[i];this.allDay.putIntoLine(e);};var $2S=Math.max(this.allDay.lines.length,1);this.allDayHeaderHeight=$2S*(this.allDayEventHeight+2)+2;};this.eventComparer=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $2T=a.start().ticks-b.start().ticks;if($2T!==0){return $2T;};var $2U=b.end().ticks-a.end().ticks;return $2U;};this.eventComparerCustom=function(a,b){if(!a||!b){return 0;};if(!a.data||!b.data||!a.data.sort||!b.data.sort||a.data.sort.length===0||b.data.sort.length===0){return $b.eventComparer(a,b);};var $q=0;var i=0;while($q===0&&a.data.sort[i]&&b.data.sort[i]){if(a.data.sort[i]===b.data.sort[i]){$q=0;}else{$q=$b.stringComparer(a.data.sort[i],b.data.sort[i],$b.sortDirections[i]);};i++;};return $q;};this.stringComparer=function(a,b,$2V){var $2W=($2V!=="desc");var $2X=$2W?-1:1;var $2Y=-$2X;if(a===null&&b===null){return 0;};if(b===null){return $2Y;};if(a===null){return $2X;};var ar=[];ar[0]=a;ar[1]=b;ar.sort();return a===ar[0]?$2X:$2Y;};this.$5r=function(e){for(var i=0;i<$b.elements.events.length;i++){var $S=$b.elements.events[i];if($S.event===e){return $S;}};return null;};this.events.find=function(id){var $2l=$b.events.list.length;for(var i=0;i<$2l;i++){if($b.events.list[i].id===id){return new DayPilot.Event($b.events.list[i],$b);}};return null;};this.events.findRecurrent=function($2Z,$04){var $2l=$b.events.list.length;for(var i=0;i<$2l;i++){if($b.events.list[i].recurrentMasterId===$2Z&&$b.events.list[i].start.getTime()===$04.getTime()){return new DayPilot.Event($b.events.list[i],$b);}};return null;};this.events.update=function(e,$e){var $07={};$07.oldEvent=new DayPilot.Event(e.copy(),$b);$07.newEvent=new DayPilot.Event(e.temp(),$b);var $d=new DayPilot.Action($b,"EventUpdate",$07,$e);e.commit();$b.update();return $d;};this.events.remove=function(e,$e){var $07={};$07.e=new DayPilot.Event(e.data,$b);var $d=new DayPilot.Action($b,"EventRemove",$07,$e);var $2k=DayPilot.indexOf($b.events.list,e.data);$b.events.list.splice($2k,1);$b.update();return $d;};this.events.add=function(e,$e){e.calendar=$b;if(!$b.events.list){$b.events.list=[];};$b.events.list.push(e.data);var $07={};$07.e=e;var $d=new DayPilot.Action($b,"EventAdd",$07,$e);$b.update();return $d;};this.queue={};this.queue.list=[];this.queue.list.ignoreToJSON=true;this.queue.add=function($d){if(!$d){return;};if($d.isAction){$b.queue.list.push($d);}else{throw "DayPilot.Action object required for queue.add()";}};this.queue.notify=function($e){var $07={};$07.actions=$b.queue.list;$b.$3m('Notify',$07,$e,"Notify");$b.queue.list=[];};this.queue.clear=function(){$b.queue.list=[];};this.queue.pop=function(){return $b.queue.list.pop();};this.update=function(){if(!this.columnsBottom){return;};var $30=true;if($30){$b.$3r();this.$5s();this.$3E();this.$3F();$b.$3H();$b.$3I();$b.$3J();$b.$3K();$b.$3L();$b.$3M();$b.$3N();$b.$3O();this.$3Q();this.$3R();$b.$3S();}else{$b.$3r();$b.$3F();$b.$3G();$b.$3Q();$b.$3R();$b.$3S();}};this.$5t=function($31,$32){if(!this.debuggingEnabled){return;};if(!$b.debugMessages){$b.debugMessages=[];};$b.debugMessages.push($31);if(typeof console!=='undefined'){console.log($31);}};this.$5q=function($0o,$03){if(!$03)$03=this.startDate;var $2M=$03.getTime();var $33=$0o.getTime();var $34=this.$3i.pixels[$33+"_"+$2M];if($34){return $34;};$2M=$03.addHours(this.$40(true)).getTime();var $35=this.cellDuration*60*1000;var $36=$33-$2M;var $37=$36%$35;var $38=$36-$37;var $39=$38+$35;if($37===0){$39=$38;};var $q={};$q.cut=false;$q.top=this.$5u($36);$q.boxTop=this.$5u($38);$q.boxBottom=this.$5u($39);this.$3i.pixels[$33+"_"+$2M]=$q;return $q;};this.$5u=function($33){return Math.floor((this.cellHeight*$33)/(1000*60*this.cellDuration));};this.$5s=function(){this.startDate=new DayPilot.Date(this.startDate);this.allDayHeaderHeight=this.allDayEventHeight+4;};this.$3G=function(){if(this.nav.corner){this.nav.corner.style.height=this.$41()+"px";};if(this.nav.cornerRight){this.nav.cornerRight.style.height=this.$41()+"px";};if(this.nav.mid){this.nav.mid.style.height=this.$41()+"px";};if(this.showAllDayEvents){var $1G=this.nav.header.rows[this.nav.header.rows.length-1];for(var i=0;i<$1G.cells.length;i++){var $m=$1G.cells[i];$m.firstChild.style.height=this.allDayHeaderHeight+"px";}}};this.$3N=function(){var sh=this.$51();if(this.nav.scroll&&sh>0){this.nav.scroll.style.height=sh+"px";this.scrollHeight=$b.nav.scroll.clientHeight;}};this.setHeight=function($1q){if(this.heightSpec!=="Parent100Pct"){this.heightSpec="Fixed";};if(this.cssOnly){this.height=$1q-(this.$41());}else{this.height=$1q-(this.$41()+3);};this.$3N();};this.$5v={};var $08=this.$5v;$08.locale=function(){return DayPilot.Locale.find($b.locale);};$08.timeFormat=function(){if($b.timeFormat!=='Auto'){return $b.timeFormat;};return this.locale().timeFormat;};$08.useBox=function($3a){if($b.useEventBoxes==='Always'){return true;};if($b.useEventBoxes==='Never'){return false;};return $3a<$b.cellDuration*60*1000;};$08.notifyType=function(){var $i;if($b.notifyCommit==='Immediate'){$i="Notify";}else if($b.notifyCommit==='Queue'){$i="Queue";}else{throw "Invalid notifyCommit value: "+$b.notifyCommit;};return $i;};this.$5w=function(){return(typeof this.events.list==='undefined')||!this.events.list;};this.$5x=function(){this.$5s();this.$3E();this.$50();this.$3H();this.$3I();this.$3L();this.$3O();this.$5n();this.$5p();this.$3v();DayPilotCalendar.register(this);this.$3u();this.$3T();this.$3m('Init');};this.init=function(){this.nav.top=document.getElementById(id);if(this.nav.top.dp){return;};var $3b=this.$5w();if($3b){this.$5x();return;};this.$5s();this.$3E();if(this.events.list){this.$3F();};this.$50();this.$3H();this.$3I();this.$3L();this.$3P();this.$3O();this.$5n();this.$5p();this.$3v();DayPilotCalendar.register(this);if(this.events.list){this.$3G();this.$3Q();this.$3R();};this.$3u();if(this.messageHTML){this.message(this.messageHTML);};this.$3C(null,false);this.$3T();};this.internal={};this.internal.invokeEvent=this.$4e;this.internal.eventMenuClick=this.$4l;this.internal.timeRangeMenuClick=this.$4m;this.internal.bubbleCallBack=this.$4j;this.internal.findEventDiv=this.$5r;this.internal.eventDeleteDispatch=this.$4d;this.Init=this.init;};var DayPilotCalendar={};DayPilotCalendar.topSelectedCell=null;DayPilotCalendar.bottomSelectedCell=null;DayPilotCalendar.selecting=false;DayPilotCalendar.column=null;DayPilotCalendar.firstSelected=null;DayPilotCalendar.firstMousePos=null;DayPilotCalendar.originalMouse=null;DayPilotCalendar.originalHeight=null;DayPilotCalendar.originalTop=null;DayPilotCalendar.globalHandlers=false;DayPilotCalendar.editing=false;DayPilotCalendar.originalText=null;DayPilotCalendar.register=function($b){if(!DayPilotCalendar.registered){DayPilotCalendar.registered=[];};var r=DayPilotCalendar.registered;for(var i=0;i<r.length;i++){if(r[i]===$b){return;}};r.push($b);};DayPilotCalendar.unregister=function($b){var a=DayPilotCalendar.registered;if(a){var i=DayPilot.indexOf(a,$b);if(i!==-1){a.splice(i,1);};if(a.length===0){a=null;}};if(!a){DayPilot.ue(document,'mousemove',DayPilotCalendar.gMouseMove);DayPilot.ue(document,'mouseup',DayPilotCalendar.gMouseUp);DayPilot.ue(window,'unload',DayPilotCalendar.gUnload);}};DayPilotCalendar.getCellsAbove=function($c){var $o=[];var c=DayPilotCalendar.getColumn($c);var tr=$c.parentNode;var $3c=null;while(tr&&$3c!==DayPilotCalendar.firstSelected){$3c=tr.getElementsByTagName("td")[c];$o.push($3c);tr=tr.previousSibling;while(tr&&tr.tagName!=="TR"){tr=tr.previousSibling;}};return $o;};DayPilotCalendar.getCellsBelow=function($c){var $o=[];var c=DayPilotCalendar.getColumn($c);var tr=$c.parentNode;var $3c=null;while(tr&&$3c!==DayPilotCalendar.firstSelected){$3c=tr.getElementsByTagName("td")[c];$o.push($3c);tr=tr.nextSibling;while(tr&&tr.tagName!=="TR"){tr=tr.nextSibling;}};return $o;};DayPilotCalendar.getColumn=function($c){var i=0;while($c.previousSibling){$c=$c.previousSibling;if($c.tagName==="TD"){i++;}};return i;};DayPilotCalendar.getShadowColumn=function($A){if(!$A){return null;};var $0P=$A.parentNode;while($0P&&$0P.tagName!=="TD"){$0P=$0P.parentNode;};return $0P;};DayPilotCalendar.gMouseMove=function(ev){if(typeof(DayPilotCalendar)==='undefined'){return;};if(ev.insideMainD){return;}else if(ev.srcElement){if(ev.srcElement.inside){return;}};var $0B=DayPilot.mc(ev);if(DayPilotCalendar.drag){document.body.style.cursor='move';if(!DayPilotCalendar.gShadow){DayPilotCalendar.gShadow=DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);};var $H=DayPilotCalendar.gShadow;$H.style.left=$0B.x+'px';$H.style.top=$0B.y+'px';DayPilot.Global.moving=null;DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);DayPilotCalendar.movingShadow=null;};for(var i=0;i<DayPilotCalendar.registered.length;i++){if(DayPilotCalendar.registered[i].$3x){DayPilotCalendar.registered[i].$3x();}}};DayPilotCalendar.gUnload=function(ev){if(!DayPilotCalendar.registered){return;};var r=DayPilotCalendar.registered;for(var i=0;i<r.length;i++){var c=r[i];c.dispose();DayPilotCalendar.unregister(c);}};DayPilotCalendar.gMouseUp=function(e){var e=e||window.event;if(e.preventDefault){e.preventDefault();}else{e.returnValue=false;};e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();};if(DayPilot.Global.resizing){if(!DayPilotCalendar.resizingShadow){DayPilot.Global.resizing.style.cursor='default';DayPilot.Global.resizing.event.calendar.nav.top.style.cursor='auto';DayPilot.Global.resizing=null;return;};var $2z=DayPilot.Global.resizing.event;var $0b=DayPilot.Global.resizing.dpBorder;var $G=DayPilotCalendar.resizingShadow.clientHeight;var top=DayPilotCalendar.resizingShadow.offsetTop;DayPilotCalendar.deleteShadow(DayPilotCalendar.resizingShadow);DayPilotCalendar.resizingShadow=null;DayPilot.Global.resizing.style.cursor='default';$2z.calendar.nav.top.style.cursor='auto';DayPilot.Global.resizing.onclick=null;DayPilot.Global.resizing=null;if($2z.calendar.overlap){return;};$2z.calendar.$4f($2z,$G,top,$0b);}else if(DayPilot.Global.moving){if(!DayPilotCalendar.movingShadow){DayPilot.Global.moving.event.calendar.nav.top.style.cursor='auto';DayPilot.Global.moving=null;return;};var $3d=DayPilot.Global.moving.helper.oldColumn;var top=DayPilotCalendar.movingShadow.offsetTop;DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);var $2z=DayPilot.Global.moving.event;var $0j=DayPilotCalendar.movingShadow.column;var $0k=DayPilotCalendar.drag;DayPilot.Global.moving.event.calendar.nav.top.style.cursor='auto';DayPilotCalendar.drag=null;DayPilot.Global.moving=null;DayPilotCalendar.movingShadow=null;if($0k){if(!$2z.calendar.todo){$2z.calendar.todo={};};$2z.calendar.todo.del=$0k.element;};if($2z.calendar.overlap){return;};var ev=e||window.event;$2z.calendar.$4h($2z,$0j,top,ev,$0k);};if(DayPilotCalendar.drag){DayPilotCalendar.drag=null;document.body.style.cursor=null;};if(DayPilotCalendar.gShadow){document.body.removeChild(DayPilotCalendar.gShadow);DayPilotCalendar.gShadow=null;};DayPilotCalendar.moveOffsetY=null;};DayPilotCalendar.dragStart=function(element,$F,id,$1N,$i){DayPilot.us(element);var $0k=DayPilotCalendar.drag={};$0k.element=element;$0k.duration=$F;$0k.text=$1N;$0k.id=id;$0k.shadowType=$i?$i:'Fill';return false;};DayPilotCalendar.deleteShadow=function($H){if(!$H){return;};if(!$H.parentNode){return;};$H.parentNode.removeChild($H);};DayPilotCalendar.createGShadow=function($i){var $H=document.createElement('div');$H.setAttribute('unselectable','on');$H.style.position='absolute';$H.style.width='100px';$H.style.height='20px';$H.style.border='2px dotted #666666';$H.style.zIndex=101;if($i==='Fill'){$H.style.backgroundColor="#aaaaaa";$H.style.opacity=0.5;$H.style.filter="alpha(opacity=50)";$H.style.border='2px solid #aaaaaa';};document.body.appendChild($H);return $H;};DayPilotCalendar.moveShadow=function($m){var $H=DayPilotCalendar.movingShadow;$H.parentNode.removeChild($H);$m.firstChild.appendChild($H);$H.style.left='0px';$H.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth)+'px';};DayPilotCalendar.Column=function($3e,name,$0o){this.value=$3e;this.name=name;this.date=new DayPilot.Date($0o);};DayPilot.CalendarVisible.dragStart=DayPilotCalendar.dragStart;DayPilot.CalendarVisible.Calendar=DayPilotCalendar.Calendar;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotCalendar=function($3f){var $0z=null;var j=this.each(function(){if(this.daypilot){return;};var $3g=new DayPilot.Calendar(this.id);this.daypilot=$3g;for(var name in $3f){$3g[name]=$3f[name];};$3g.Init();if(!$0z){$0z=$3g;}});if(this.length===1){return $0z;}else{return j;}};})(jQuery);};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();


if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(){if(typeof DayPilot.$!=='undefined'){return;};DayPilot.$=function(id){return document.getElementById(id);};DayPilot.mo=function(t,ev){ev=ev||window.event;if(ev.layerX){var $a={x:ev.layerX,y:ev.layerY};if(!t){return $a;};return $a;};if(ev.offsetX){return{x:ev.offsetX,y:ev.offsetY};};return null;};DayPilot.isKhtml=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("KHTML")!==-1);DayPilot.isIE=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!==-1);DayPilot.isIE7=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE 7")!==-1);DayPilot.isIEQuirks=DayPilot.isIE&&(document.compatMode&&document.compatMode==="BackCompat");DayPilot.mo2=function($b,ev){ev=ev||window.event;if(typeof(ev.offsetX)!=='undefined'){var $a={x:ev.offsetX+1,y:ev.offsetY+1};if(!$b){return $a;};var $c=ev.srcElement;while($c&&$c!==$b){if($c.tagName!=='SPAN'){$a.x+=$c.offsetLeft;if($c.offsetTop>0){$a.y+=$c.offsetTop-$c.scrollTop;}};$c=$c.offsetParent;};if($c){return $a;};return null;};if(typeof(ev.layerX)!=='undefined'){var $a={x:ev.layerX,y:ev.layerY,$d:ev.target};if(!$b){return $a;};var $c=ev.target;while($c&&$c.style.position!=='absolute'&&$c.style.position!=='relative'){$c=$c.parentNode;if(DayPilot.isKhtml){$a.y+=$c.scrollTop;}}while($c&&$c!==$b){$a.x+=$c.offsetLeft;$a.y+=$c.offsetTop-$c.scrollTop;$c=$c.offsetParent;};if($c){return $a;};return null;};return null;};DayPilot.mo3=function($b,ev){ev=ev||window.event;var $e=DayPilot.page(ev);if($e){var $f=DayPilot.abs($b);return{x:$e.x-$f.x,y:$e.y-$f.y};};return DayPilot.mo2($b,ev);};DayPilot.mc=function(ev){if(ev.pageX||ev.pageY){return{x:ev.pageX,y:ev.pageY};};return{x:ev.clientX+document.documentElement.scrollLeft,y:ev.clientY+document.documentElement.scrollTop};};DayPilot.page=function(ev){ev=ev||window.event;if(typeof ev.pageX!=='undefined'){return{x:ev.pageX,y:ev.pageY};};if(typeof ev.clientX!=='undefined'){return{x:ev.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:ev.clientY+document.body.scrollTop+document.documentElement.scrollTop};};return null;};DayPilot.abs=function(element,$g){if(!element){return null;};var r={x:element.offsetLeft,y:element.offsetTop,w:element.clientWidth,h:element.clientHeight,toString:function(){return "x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h;}};if(element.getBoundingClientRect){var b=null;try{b=element.getBoundingClientRect();}catch(e){b={top:element.offsetTop,$h:element.offsetLeft};};r.x=b.left;r.y=b.top;var d=DayPilot.doc();r.x-=d.clientLeft||0;r.y-=d.clientTop||0;var $i=DayPilot.pageOffset();r.x+=$i.x;r.y+=$i.y;if($g){var $j=DayPilot.absOffsetBased(element,false);var $g=DayPilot.absOffsetBased(element,true);r.x+=$g.x-$j.x;r.y+=$g.y-$j.y;r.w=$g.w;r.h=$g.h;};return r;}else{return DayPilot.absOffsetBased(element,$g);}};DayPilot.isArray=function(o){return Object.prototype.toString.call(o)==='[object Array]';};DayPilot.absOffsetBased=function(element,$g){var r={x:element.offsetLeft,y:element.offsetTop,w:element.clientWidth,h:element.clientHeight,toString:function(){return "x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h;}};while(DayPilot.op(element)){element=DayPilot.op(element);r.x-=element.scrollLeft;r.y-=element.scrollTop;if($g){if(r.x<0){r.w+=r.x;r.x=0;};if(r.y<0){r.h+=r.y;r.y=0;};if(element.scrollLeft>0&&r.x+r.w>element.clientWidth){r.w-=r.x+r.w-element.clientWidth;};if(element.scrollTop&&r.y+r.h>element.clientHeight){r.h-=r.y+r.h-element.clientHeight;}};r.x+=element.offsetLeft;r.y+=element.offsetTop;};var $i=DayPilot.pageOffset();r.x+=$i.x;r.y+=$i.y;return r;};DayPilot.wd=function(){var $k=DayPilot.isIEQuirks;var $l=document.documentElement.clientHeight;if($k){$l=document.body.clientHeight;};var $m=document.documentElement.clientWidth;if($k){$m=document.body.clientWidth;};var $n=(document.documentElement&&document.documentElement.scrollTop)||document.body.scrollTop;var $o=(document.documentElement&&document.documentElement.scrollLeft)||document.body.scrollLeft;var $p={};$p.width=$m;$p.height=$l;$p.scrollTop=$n;$p.scrollLeft=$o;return $p;};DayPilot.op=function(element){try{return element.offsetParent;}catch(e){return document.body;}};DayPilot.distance=function($q,$r){return Math.sqrt(Math.pow($q.x-$r.x,2)+Math.pow($q.y-$r.y,2));};DayPilot.doc=function(){var de=document.documentElement;return(de&&de.clientHeight)?de:document.body;};DayPilot.pageOffset=function(){if(typeof pageXOffset!=='undefined'){return{x:pageXOffset,y:pageYOffset};};var d=DayPilot.doc();return{x:d.scrollLeft,y:d.scrollTop};};DayPilot.ac=function(e,$s){if(!$s){var $s=[];};for(var i=0;e.children&&i<e.children.length;i++){$s.push(e.children[i]);DayPilot.ac(e.children[i],$s);};return $s;};DayPilot.indexOf=function($t,$u){if(!$t||!$t.length){return -1;};for(var i=0;i<$t.length;i++){if($t[i]===$u){return i;}};return -1;};DayPilot.rfa=function($t,$u){var i=DayPilot.indexOf($t,$u);if(i===-1){return;};$t.splice(i,1);};DayPilot.debug=function($v,$w){if(!DayPilot.debugMessages){DayPilot.debugMessages=[];};DayPilot.debugMessages.push($v);if(typeof console!=='undefined'){console.log($v);}};DayPilot.debug.show=function(){alert("Log:\n"+DayPilot.debugMessages.join("\n"));};DayPilot.debug.clear=function(){DayPilot.debugMessages=[];};DayPilot.re=function(el,ev,$x){if(el.addEventListener){el.addEventListener(ev,$x,false);}else if(el.attachEvent){el.attachEvent("on"+ev,$x);}};DayPilot.ue=function(el,ev,$x){if(el.removeEventListener){el.removeEventListener(ev,$x,false);}else if(el.detachEvent){el.detachEvent("on"+ev,$x);}};DayPilot.tr=function($y){if(!$y)return '';return $y.replace(/^\s+|\s+$/g,"");};DayPilot.ds=function(d){return DayPilot.Date.toStringSortable(d);};DayPilot.gs=function(el,$z){var x=el;if(x.currentStyle)var y=x.currentStyle[$z];else if(window.getComputedStyle)var y=document.defaultView.getComputedStyle(x,null).getPropertyValue($z);if(typeof(y)==='undefined')y='';return y;};DayPilot.ea=function(a){var $A="";for(var i=0;i<a.length;i++){if(a[i]||typeof(a[i])==='number'){if(a[i].isDayPilotDate){a[i]=a[i].toStringSortable();}else if(a[i].getFullYear){a[i]=DayPilot.ds(a[i]);};$A+=encodeURIComponent(a[i]);};if(i+1<a.length){$A+='&';}};return $A;};DayPilot.he=function(str){var $p=str.replace(/&/g,"&amp;");$p=$p.replace(/</g,"&lt;");$p=$p.replace(/>/g,"&gt;");$p=$p.replace(/"/g,"&quot;");return $p;};DayPilot.ci=function($B){var i=$B.cellIndex;if(i&&i>0)return i;var tr=$B.parentNode;var $C=tr.cells.length;for(i=0;i<$C;i++){if(tr.cells[i]===$B)return i;};return null;};DayPilot.us=function(element){if(element){element.setAttribute("unselectable","on");element.style.MozUserSelect='none';for(var i=0;i<element.childNodes.length;i++){if(element.childNodes[i].nodeType===1){DayPilot.us(element.childNodes[i]);}}}};DayPilot.pu=function(d){var a=d.attributes,i,l,n;if(a){l=a.length;for(i=0;i<l;i+=1){if(!a[i]){continue;};n=a[i].name;if(typeof d[n]==='function'){d[n]=null;}}};a=d.childNodes;if(a){l=a.length;for(i=0;i<l;i+=1){var $s=DayPilot.pu(d.childNodes[i]);}}};DayPilot.puc=function(d){var a=d.childNodes,i,l;if(a){var l=a.length;for(i=0;i<l;i+=1){DayPilot.pu(d.childNodes[i]);}}};DayPilot.de=function(e){if(!e){return;};if(!e.parentNode){return;};e.parentNode.removeChild(e);};DayPilot.gr=function($B){var i=0;var tr=$B.parentNode;while(tr.previousSibling){tr=tr.previousSibling;if(tr.tagName==="TR"){i++;}};return i;};DayPilot.fade=function(element,$D,end){var $E=50;var $g=element.style.display!=='none';var $F=$D>0;var $G=$D<0;if($D===0){return;};if($F&&!$g){element.target=parseFloat(element.style.opacity);element.opacity=0;element.style.opacity=0;element.style.filter="alpha(opacity=0)";element.style.display='';}else if($G&&!element.target){element.target=element.style.opacity;}else{var $c=element.opacity;var $H=Math.floor(10*($c+$D))/10;if($F&&$H>element.target){$H=element.target;};if($G&&$H<0){$H=0;};var ie=$H*100;element.opacity=$H;element.style.opacity=$H;element.style.filter="alpha(opacity="+ie+")";};if(($F&&(element.opacity>=element.target||element.opacity>=1))||($G&&element.opacity<=0)){element.target=null;if($G){element.style.opacity=element.target;element.opacity=element.target;var $I=element.target?"alpha(opacity="+(element.target*100)+")":null;element.style.filter=$I;element.style.display='none';};if(end&&typeof end==='function'){end();}}else{this.messageTimeout=setTimeout(function(){DayPilot.fade(element,$D,end);},$E);}};DayPilot.sw=function(element){if(!element){return 0;};return element.offsetWidth-element.clientWidth;};DayPilot.sh=function(element){if(!element){return 0;};return element.offsetHeight-element.clientHeight;};DayPilot.guid=function(){var S4=function(){return(((1+Math.random())*0x10000)|0).toString(16).substring(1);};return(""+S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4());};DayPilot.ua=function($t){var u={},a=[];for(var i=0,l=$t.length;i<l;++i){if($t[i]in u)continue;a.push($t[i]);u[$t[i]]=1;};return a;};(function(){DayPilot.pop=wave;function wave($J,$K){var $b={w:$J.offsetWidth,h:$J.offsetHeight,x:parseInt($J.style.left),y:parseInt($J.style.top)};$b.height=$J.style.height;$b.width=$J.style.width;$b.top=$J.style.top;$b.left=$J.style.left;$b.toString=function(){return "w: "+this.w+" h:"+this.h};var $L={};$L.finished=null;$L.vertical='center';$L.horizontal='center';if($K){for(var name in $K){$L[name]=$K[name];}};$J.style.visibility='hidden';$J.style.display='';var $M=[];var $N;var $D=0.08;$N=0.1;for(var i=$N;i<1.2;i+=$D){$M.push(i);$N=i;};$D=0.03;for(var i=$N;i>0.8;i-=$D){$M.push(i);$N=i;};for(var i=$N;i<=1;i+=$D){$M.push(i);$N=i;};$M.div=$J;$M.i=0;$M.target=$b;$M.config=$L;doStep($M);};function doStep($M){var $J=$M.div;var $O=$M[$M.i];var $P=$O*$M.target.h;var top;switch($M.config.vertical){case "center":top=$M.target.y-($P-$M.target.h)/2;break;case "top":top=$M.target.y;break;case "bottom":top=$M.target.y-($P-$M.target.h);break;default:throw "Unexpected 'vertical' value.";};var $Q=$O*$M.target.w;var $h;switch($M.config.horizontal){case "left":$h=$M.target.x;break;case "center":$h=$M.target.x-($Q-$M.target.w)/2;break;case "right":$h=$M.target.x-($Q-$M.target.w);break;default:throw "Unexpected 'horizontal' value.";};var wd=DayPilot.wd();var $R=(wd.height+wd.scrollTop)-(top+$P);if($R<0){top+=$R;};var $S=(wd.width)-($h+$Q);if($S<0){$h+=$S;};$J.style.height=$P+"px";$J.style.top=top+"px";$J.style.width=$Q+"px";$J.style.left=$h+"px";$J.style.visibility='visible';$M.i++;if($M.i<$M.length-1){setTimeout((function($M){return function(){doStep($M);};})($M),10);}else{$J.style.width=$M.target.width;$J.style.height=$M.target.height;$J.style.top=$M.target.top;$J.style.left=$M.target.left;if(typeof $M.config.finished==='function'){$M.config.finished();}}}})();DayPilot.Util={};DayPilot.Util.addClass=function($u,name){if(!$u){return;};if(!$u.className){$u.className=name;return;};var $T=new RegExp("(^|\\s)"+name+"($|\\s)");if(!$T.test($u.className)){$u.className=$u.className+' '+name;}};DayPilot.Util.removeClass=function($u,name){if(!$u){return;};var $T=new RegExp("(^|\\s)"+name+"($|\\s)");$u.className=$u.className.replace($T,' ').replace(/^\s\s*/,'').replace(/\s\s*$/,'');};DayPilot.Util.props=function(o){var t=[];for(a in o){t.push(a);t.push(o[a]);};return t.join("-");};DayPilot.Areas={};DayPilot.Areas.showAreas=function($J,e,ev){if(DayPilot.Global.resizing){return;};if(DayPilot.Global.moving){return;};if(DayPilot.Areas.all&&DayPilot.Areas.all.length>0){for(var i=0;i<DayPilot.Areas.all.length;i++){var d=DayPilot.Areas.all[i];if(d!==$J){DayPilot.Areas.hideAreas(d,ev);}}};if($J.active){return;};$J.active={};var $U=e.areas;if(!$U&&e.data&&e.data.areas){$U=e.data.areas;};if(!$U||$U.length===0){return;};if($J.areas&&$J.areas.length>0){return;};$J.areas=[];for(var i=0;i<$U.length;i++){var $V=$U[i];if($V.v!=='Hover'){continue;};var a=DayPilot.Areas.createArea($J,e,$V);$J.areas.push(a);$J.appendChild(a);DayPilot.Areas.all.push($J);};$J.active.children=DayPilot.ac($J);};DayPilot.Areas.createArea=function($J,e,$V){var a=document.createElement("div");a.style.position="absolute";if(typeof $V.w!=='undefined'){a.style.width=$V.w+"px";};if(typeof $V.h!=='undefined'){a.style.height=$V.h+"px";};if(typeof $V.right!=='undefined'){a.style.right=$V.right+"px";};if(typeof $V.top!=='undefined'){a.style.top=$V.top+"px";};if(typeof $V.left!=='undefined'){a.style.left=$V.left+"px";};if(typeof $V.bottom!=='undefined'){a.style.bottom=$V.bottom+"px";};if(typeof $V.html!=='undefined'&&$V.html){a.innerHTML=$V.html;};if($V.css){a.className=$V.css;};if($V.action==="ResizeEnd"||$V.action==="ResizeStart"||$V.action==="Move"){if(e.calendar.isCalendar){switch($V.action){case "ResizeEnd":$V.cursor="s-resize";$V.dpBorder="bottom";break;case "ResizeStart":$V.cursor="n-resize";$V.dpBorder="top";break;case "Move":$V.cursor="move";break;}};if(e.calendar.isScheduler||e.calendar.isMonth){switch($V.action){case "ResizeEnd":$V.cursor="e-resize";$V.dpBorder="right";break;case "ResizeStart":$V.cursor="w-resize";$V.dpBorder="left";break;case "Move":$V.cursor="move";break;}};a.onmousemove=(function($J,e,$V){return function(ev){var ev=ev||window.event;$J.style.cursor=$V.cursor;if($V.dpBorder)$J.dpBorder=$V.dpBorder;ev.cancelBubble=true;};})($J,e,$V);a.onmouseout=(function($J,e,$V){return function(ev){$J.style.cursor='';};})($J,e,$V);};if($V.action==="Bubble"&&e.isEvent){a.onmousemove=(function($J,e,$V){return function(ev){if(e.calendar.bubble){e.calendar.bubble.showEvent(e);}};})($J,e,$V);a.onmouseout=(function($J,e,$V){return function(ev){if(typeof DayPilot.Bubble!=="undefined"){if(e.calendar.bubble){e.calendar.bubble.hideOnMouseOut();}}};})($J,e,$V);};a.onmousedown=(function($J,e,$V){return function(ev){if(!e.calendar){return;};if(e.calendar.isMonth){if($V.action==="Move"||$V.action==="ResizeEnd"||$V.action==="ResizeStart"){return;};ev=ev||window.event;ev.cancelBubble=true;}};})($J,e,$V);a.onclick=(function($J,e,$V){return function(ev){var ev=ev||window.event;switch($V.action){case "JavaScript":var f=$V.js;if(typeof f==='string'){f=eval("0, "+$V.js);};if(typeof f==='function'){f(e);};break;case "ContextMenu":var m=$V.menu;if(typeof m==='string'){m=eval(m);};if(m&&m.show){m.show(e);};break;case "CallBack":alert("callback not implemented yet, id: "+$V.id);break;};ev.cancelBubble=true;;};})($J,e,$V);return a;};DayPilot.Areas.all=[];DayPilot.Areas.hideAreas=function($J,ev){if(!$J){return;};if(!$J||!$J.active){return;};var $W=$J.active;var $U=$J.areas;if($W&&$W.children){var ev=ev||window.event;if(ev){var $b=ev.toElement||ev.relatedTarget;if(~DayPilot.indexOf($W.children,$b)){return;}}};if(!$U||$U.length===0){$J.active=null;return;};for(var i=0;i<$U.length;i++){var a=$U[i];$J.removeChild(a);};$J.active=null;$J.areas=[];DayPilot.rfa(DayPilot.Areas.all,$J);$W.children=null;};DayPilot.Areas.hideAll=function(ev){if(!DayPilot.Areas.all||DayPilot.Areas.all.length===0){return;};for(var i=0;i<DayPilot.Areas.all.length;i++){DayPilot.Areas.hideAreas(DayPilot.Areas.all[i],ev);}};DayPilot.Action=function($X,$Y,$Z,$00){this.calendar=$X;this.isAction=true;this.action=$Y;this.params=$Z;this.data=$00;this.notify=function(){$X.internal.invokeEvent("Immediate",this.action,this.params,this.data);};this.auto=function(){$X.internal.invokeEvent("Notify",this.action,this.params,this.data);};this.queue=function(){$X.queue.add(this);};this.toJSON=function(){var $01={};$01.name=this.action;$01.params=this.params;$01.data=this.data;return $01;};};DayPilot.Selection=function($02,end,$03,$04){this.type='selection';this.start=$02.isDayPilotDate?$02:new DayPilot.Date($02);this.end=end.isDayPilotDate?end:new DayPilot.Date(end);this.resource=$03;this.root=$04;this.toJSON=function($05){var $01={};$01.start=this.start;$01.end=this.end;$01.resource=this.resource;return $01;};};DayPilot.Event=function($00,$X,$06){var e=this;this.calendar=$X;this.data=$00?$00:{};this.part=$06?$06:{};if(typeof this.data.id==='undefined'){this.data.id=this.data.value;};var $07={};var $08=["id","text","start","end","resource"];this.isEvent=true;this.temp=function(){if($07.dirty){return $07;};for(var i=0;i<$08.length;i++){$07[$08[i]]=e.data[$08[i]];};$07.dirty=true;return $07;};this.copy=function(){var $p={};for(var i=0;i<$08.length;i++){$p[$08[i]]=e.data[$08[i]];};return $p;};this.commit=function(){if(!$07.dirty){return;};for(var i=0;i<$08.length;i++){e.data[$08[i]]=$07[$08[i]];};$07.dirty=false;};this.dirty=function(){return $07.dirty;};this.id=function($09){if(typeof $09==='undefined'){return e.data.id;}else{this.temp().id=$09;}};this.value=function($09){if(typeof $09==='undefined'){return e.id();}else{e.id($09);}};this.text=function($09){if(typeof $09==='undefined'){return e.data.text;}else{this.temp().text=$09;this.client.innerHTML($09);}};this.start=function($09){if(typeof $09==='undefined'){return new DayPilot.Date(e.data.start);}else{this.temp().start=new DayPilot.Date($09);}};this.end=function($09){if(typeof $09==='undefined'){return new DayPilot.Date(e.data.end);}else{this.temp().end=new DayPilot.Date($09);}};this.partStart=function(){return new DayPilot.Date(this.part.start);};this.partEnd=function(){return new DayPilot.Date(this.part.end);};this.row=function(){return this.resource();};this.allday=function(){if(typeof $09==='undefined'){return e.data.allday;}else{this.temp().allday=$09;}};this.isAllDay=this.allday;this.resource=function($09){if(typeof $09==='undefined'){return e.data.resource;}else{this.temp().resource=$09;}};this.recurrent=function(){return e.data.recurrent;};this.recurrentMasterId=function(){return e.data.recurrentMasterId;};this.useBox=function(){return this.part.box;};this.staticBubbleHTML=function(){return e.data.staticBubbleHTML;};this.tag=function($0a){var $0b=e.data.tag;if(!$0b){return null;};if(!$0a){return e.data.tag;};var $0c=e.calendar.tagFields;var $0d=-1;for(var i=0;i<$0c.length;i++){if($0a===$0c[i])$0d=i;};if($0d===-1){throw "Field name not found.";};return $0b[$0d];};this.client={};this.client.innerHTML=function($09){if(typeof $09==='undefined'){if(e.cache&&typeof e.cache.innerHTML!=="undefined"){return e.cache.innerHTML;};if(typeof e.data.innerHTML!=="undefined"){return e.data.innerHTML;};return e.data.text;}else{e.data.innerHTML=$09;}};this.client.header=function($09){if(typeof $09==='undefined'){return e.data.header;}else{e.data.header=$09;}};this.client.cssClass=function($09){if(typeof $09==='undefined'){return e.data.cssClass;}else{e.data.cssClass=$09;}};this.client.toolTip=function($09){if(typeof $09==='undefined'){if(e.cache&&typeof e.cache.toolTip!=="undefined"){return e.cache.toolTip;};return typeof e.data.toolTip!=='undefined'?e.data.toolTip:e.data.text;}else{e.data.toolTip=$09;}};this.client.backColor=function($09){if(typeof $09==='undefined'){if(e.cache&&typeof e.cache.backColor!=="undefined"){return e.cache.backColor;};return typeof e.data.backColor!=="undefined"?e.data.backColor:e.calendar.eventBackColor;}else{e.data.backColor=$09;}};this.client.borderColor=function($09){if(typeof $09==='undefined'){if(e.cache&&typeof e.cache.borderColor!=="undefined"){return e.cache.borderColor;};return typeof e.data.borderColor!=="undefined"?e.data.borderColor:e.calendar.eventBorderColor;}else{e.data.borderColor=$09;}};this.client.barColor=function($09){if(typeof $09==='undefined'){if(e.cache&&typeof e.cache.barColor!=="undefined"){return e.cache.barColor;};return typeof e.data.barColor!=="undefined"?e.data.barColor:e.calendar.durationBarColor;}else{e.data.barColor=$09;}};this.client.barVisible=function($09){if(typeof $09==='undefined'){return e.calendar.durationBarVisible&&!e.data.barHidden;}else{e.data.barHidden=!$09;}};this.client.contextMenu=function($09){if(typeof $09==='undefined'){if(e.oContextMenu){return e.oContextMenu;};return(e.data.contextMenu)?eval(e.data.contextMenu):null;}else{e.oContextMenu=$09;}};this.client.moveEnabled=function($09){if(typeof $09==='undefined'){return e.calendar.eventMoveHandling!=='Disabled'&&!e.data.moveDisabled;}else{e.data.moveDisabled=!$09;}};this.client.resizeEnabled=function($09){if(typeof $09==='undefined'){return e.calendar.eventResizeHandling!=='Disabled'&&!e.data.resizeDisabled;}else{e.data.resizeDisabled=!$09;}};this.client.rightClickEnabled=function($09){if(typeof $09==='undefined'){return e.calendar.rightClickHandling!=='Disabled'&&!e.data.rightClickDisabled;}else{e.data.rightClickDisabled=!$09;}};this.client.clickEnabled=function($09){if(typeof $09==='undefined'){return e.calendar.clickHandling!=='Disabled'&&!e.data.clickDisabled;}else{e.data.clickDisabled=!$09;}};this.client.deleteEnabled=function($09){if(typeof $09==='undefined'){return e.calendar.eventDeleteHandling!=='Disabled'&&!e.data.deleteDisabled;}else{e.data.deleteDisabled=!$09;}};this.client.doubleClickEnabled=function($09){if(typeof $09==='undefined'){return e.calendar.doubleClickHandling!=='Disabled'&&!e.data.doubleClickDisabled;}else{e.data.doubleClickDisabled=!$09;}};this.client.deleteClickEnabled=function($09){if(typeof $09==='undefined'){return e.calendar.eventDeleteHandling!=='Disabled'&&!e.data.deleteDisabled;}else{e.data.deleteDisabled=!$09;}};this.toJSON=function($05){var $01={};$01.value=this.id();$01.id=this.id();$01.text=this.text();$01.start=this.start();$01.end=this.end();$01.resource=this.resource();$01.isAllDay=false;$01.recurrentMasterId=this.recurrentMasterId();$01.tag={};if(e.calendar.tagFields){var $0c=e.calendar.tagFields;for(var i=0;i<$0c.length;i++){$01.tag[$0c[i]]=this.tag($0c[i]);}};return $01;};};DayPilot.EventData=function(e){this.value=function(){return id;};this.tag=function(){return null;};this.start=function(){return new Date(0);};this.end=function(){return new Date($0e*1000);};this.text=function(){return $0f;};this.isAllDay=function(){return false;};this.allday=this.isAllDay;};DayPilot.request=function($0g,$0h,$0i,$0j){var $0k=DayPilot.createXmlHttp();if(!$0k){return;};$0k.open("POST",$0g,true);$0k.setRequestHeader('Content-type','text/plain');$0k.onreadystatechange=function(){if($0k.readyState!==4)return;if($0k.status!==200&&$0k.status!==304){if($0j){$0j($0k);}else{alert('HTTP error '+$0k.status);};return;};$0h($0k);};if($0k.readyState===4){return;};if(typeof $0i==='object'){$0i=DayPilot.JSON.stringify($0i);};$0k.send($0i);};DayPilot.createXmlHttp=function(){var $0l;try{$0l=new XMLHttpRequest();}catch(e){try{$0l=new ActiveXObject("Microsoft.XMLHTTP");}catch(e){}};return $0l;};DayPilot.Date=function($0m,$0n){if(typeof $0m==='undefined'){this.isDayPilotDate=true;this.d=DayPilot.Date.fromLocal();this.ticks=this.d.getTime();return;};if($0m.isDayPilotDate){return $0m;};var $0o=DayPilot.Date.Cache.Ctor;if($0o[$0m]){return $0o[$0m];};if(typeof $0m==="string"){var $p=DayPilot.Date.fromStringSortable($0m);$0o[$0m]=$p;return $p;};if(!$0m.getFullYear){throw "date parameter is not a Date object: "+$0m;};if($0n){this.isDayPilotDate=true;this.d=DayPilot.Date.fromLocal($0m);this.ticks=this.d.getTime();}else{this.isDayPilotDate=true;this.d=$0m;this.ticks=this.d.getTime();}};DayPilot.Date.Cache={};DayPilot.Date.Cache.Parsing={};DayPilot.Date.Cache.Ctor={};DayPilot.Date.prototype.addDays=function($0p){return new DayPilot.Date(DayPilot.Date.addDays(this.d,$0p));};DayPilot.Date.prototype.addHours=function($0q){return this.addTime($0q*60*60*1000);};DayPilot.Date.prototype.addMilliseconds=function($0r){return this.addTime($0r);};DayPilot.Date.prototype.addMinutes=function($0s){return this.addTime($0s*60*1000);};DayPilot.Date.prototype.addMonths=function($0t){return new DayPilot.Date(DayPilot.Date.addMonths(this.d,$0t));};DayPilot.Date.prototype.addSeconds=function($0u){return this.addTime($0u*1000);};DayPilot.Date.prototype.addTime=function($0v){return new DayPilot.Date(DayPilot.Date.addTime(this.d,$0v));};DayPilot.Date.prototype.addYears=function($0w){var n=this.clone();n.d.setUTCFullYear(this.getYear()+$0w);return n;};DayPilot.Date.prototype.clone=function(){return new DayPilot.Date(DayPilot.Date.clone(this.d));};DayPilot.Date.prototype.dayOfWeek=function(){return this.d.getUTCDay();};DayPilot.Date.prototype.getDayOfWeek=function(){return this.d.getUTCDay();};DayPilot.Date.prototype.daysInMonth=function(){return DayPilot.Date.daysInMonth(this.d);};DayPilot.Date.prototype.dayOfYear=function(){return Math.ceil((this.getDatePart().getTime()-this.firstDayOfYear().getTime())/86400000)+1;};DayPilot.Date.prototype.equals=function($0x){if($0x===null){return false;};if($0x.isDayPilotDate){return DayPilot.Date.equals(this.d,$0x.d);}else{throw "The parameter must be a DayPilot.Date object (DayPilot.Date.equals())";}};DayPilot.Date.prototype.firstDayOfMonth=function(){var $0y=DayPilot.Date.firstDayOfMonth(this.getYear(),this.getMonth()+1);return new DayPilot.Date($0y);};DayPilot.Date.prototype.firstDayOfYear=function(){var $0z=this.getYear();var d=new Date();d.setUTCFullYear($0z,0,1);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return new DayPilot.Date(d);};DayPilot.Date.prototype.firstDayOfWeek=function($0A){var $0y=DayPilot.Date.firstDayOfWeek(this.d,$0A);return new DayPilot.Date($0y);};DayPilot.Date.prototype.getDay=function(){return this.d.getUTCDate();};DayPilot.Date.prototype.getDatePart=function(){return new DayPilot.Date(DayPilot.Date.getDate(this.d));};DayPilot.Date.prototype.getYear=function(){return this.d.getUTCFullYear();};DayPilot.Date.prototype.getHours=function(){return this.d.getUTCHours();};DayPilot.Date.prototype.getMilliseconds=function(){return this.d.getUTCMilliseconds();};DayPilot.Date.prototype.getMinutes=function(){return this.d.getUTCMinutes();};DayPilot.Date.prototype.getMonth=function(){return this.d.getUTCMonth();};DayPilot.Date.prototype.getSeconds=function(){return this.d.getUTCSeconds();};DayPilot.Date.prototype.getTotalTicks=function(){return this.getTime();};DayPilot.Date.prototype.getTime=function(){return this.ticks;};DayPilot.Date.prototype.getTimePart=function(){return DayPilot.Date.getTime(this.d);};DayPilot.Date.prototype.lastDayOfMonth=function(){var $0y=DayPilot.Date.lastDayOfMonth(this.getYear(),this.getMonth()+1);return new DayPilot.Date($0y);};DayPilot.Date.prototype.weekNumber=function(){var $0B=this.firstDayOfYear();var $0p=(this.getTime()-$0B.getTime())/86400000;return Math.ceil(($0p+$0B.dayOfWeek()+1)/7);};DayPilot.Date.prototype.local=function(){if(typeof this.offset==='undefined'){return new DayPilot.Date(this.d);};return this.addMinutes(this.offset);};DayPilot.Date.prototype.weekNumberISO=function(){var $0C=false;var $0D=this.dayOfYear();var $0E=this.firstDayOfYear().dayOfWeek();var $0F=this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();if($0E===0){$0E=7;};if($0F===0){$0F=7;};var $0G=8-($0E);if($0E===4||$0F===4){$0C=true;};var $0H=Math.ceil(($0D-($0G))/7.0);var $0I=$0H;if($0G>=4){$0I=$0I+1;};if($0I>52&&!$0C){$0I=1;};if($0I===0){$0I=this.firstDayOfYear().addDays(-1).weekNumberISO();};return $0I;};DayPilot.Date.prototype.toDateLocal=function(){return DayPilot.Date.toLocal(this.d);};DayPilot.Date.prototype.toJSON=function(){return this.toStringSortable();};DayPilot.Date.prototype.toString=function($0J,$0K){if(typeof $0J==='undefined'){return this.toStringSortable();};return new $0L($0J,$0K).print(this);};DayPilot.Date.prototype.toStringSortable=function(){return DayPilot.Date.toStringSortable(this.d);};DayPilot.Date.parse=function(str,$0J){var p=new $0L($0J);return p.parse(str);};DayPilot.Date.fromStringSortable=function($0M){var $p;if(!$0M){throw "Can't create DayPilot.Date from empty string";};var $C=$0M.length;var $0m=$C===10;var $0N=$C=19;var $0O=$C===25;if(!$0m&&!$0N&&!$0O){throw "Invalid string format (use '2010-01-01', '2010-01-01T00:00:00', or '2010-01-01T00:00:00+00:00'.";};if(DayPilot.Date.Cache.Parsing[$0M]){return DayPilot.Date.Cache.Parsing[$0M];};var $0z=$0M.substring(0,4);var $0P=$0M.substring(5,7);var $0Q=$0M.substring(8,10);var d=new Date();d.setUTCFullYear($0z,$0P-1,$0Q);if($0m){d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);$p=new DayPilot.Date(d);DayPilot.Date.Cache.Parsing[$0M]=$p;return $p;};var $0q=$0M.substring(11,13);var $0s=$0M.substring(14,16);var $0u=$0M.substring(17,19);d.setUTCHours($0q);d.setUTCMinutes($0s);d.setUTCSeconds($0u);d.setUTCMilliseconds(0);var $p=new DayPilot.Date(d);if($0N){DayPilot.Date.Cache.Parsing[$0M]=$p;return $p;};var $0R=$0M[20];var $0S=$0M.substring(21,23);var $0T=$0M.substring(24);var $0U=$0S*60+$0T;if($0R==="-"){$0U=-$0U;};$p=$p.addMinutes(-$0U);$p.offset=$0V;DayPilot.Date.Cache.Parsing[$0M]=$p;return $p;};DayPilot.Date.addDays=function($0m,$0p){var d=new Date();d.setTime($0m.getTime()+$0p*24*60*60*1000);return d;};DayPilot.Date.addMinutes=function($0m,$0s){var d=new Date();d.setTime($0m.getTime()+$0s*60*1000);return d;};DayPilot.Date.addMonths=function($0m,$0t){if($0t===0)return $0m;var y=$0m.getUTCFullYear();var m=$0m.getUTCMonth()+1;if($0t>0){while($0t>=12){$0t-=12;y++;};if($0t>12-m){y++;m=$0t-(12-m);}else{m+=$0t;}}else{while($0t<=-12){$0t+=12;y--;};if(m<=$0t){y--;m=12-($0t+m);}else{m=m+$0t;}};var d=DayPilot.Date.clone($0m);d.setUTCFullYear(y);d.setUTCMonth(m-1);return d;};DayPilot.Date.addTime=function($0m,$0W){var d=new Date();d.setTime($0m.getTime()+$0W);return d;};DayPilot.Date.clone=function($0X){var d=new Date();return DayPilot.Date.dateFromTicks($0X.getTime());};DayPilot.Date.daysDiff=function($0B,$0Y){if($0B.getTime()>$0Y.getTime()){return null;};var i=0;var $0Z=DayPilot.Date.getDate($0B);var $10=DayPilot.Date.getDate($0Y);while($0Z<$10){$0Z=DayPilot.Date.addDays($0Z,1);i++;};return i;};DayPilot.Date.daysInMonth=function($0z,$0P){if($0z.getUTCFullYear){$0P=$0z.getUTCMonth()+1;$0z=$0z.getUTCFullYear();};var m=[31,28,31,30,31,30,31,31,30,31,30,31];if($0P!==2)return m[$0P-1];if($0z%4!==0)return m[1];if($0z%100===0&&$0z%400!==0)return m[1];return m[1]+1;};DayPilot.Date.daysSpan=function($0B,$0Y){if($0B.getTime()===$0Y.getTime()){return 0;};var $11=DayPilot.Date.daysDiff($0B,$0Y);if(DayPilot.Date.equals($0Y,DayPilot.Date.getDate($0Y))){$11--;};return $11;};DayPilot.Date.diff=function($0B,$0Y){if(!($0B&&$0Y&&$0B.getTime&&$0Y.getTime)){throw "Both compared objects must be Date objects (DayPilot.Date.diff).";};return $0B.getTime()-$0Y.getTime();};DayPilot.Date.equals=function($0B,$0Y){return $0B.getTime()===$0Y.getTime();};DayPilot.Date.fromLocal=function($12){if(!$12){$12=new Date();};var d=new Date();d.setUTCFullYear($12.getFullYear(),$12.getMonth(),$12.getDate());d.setUTCHours($12.getHours());d.setUTCMinutes($12.getMinutes());d.setUTCSeconds($12.getSeconds());d.setUTCMilliseconds($12.getMilliseconds());return d;};DayPilot.Date.firstDayOfMonth=function($0z,$0P){var d=new Date();d.setUTCFullYear($0z,$0P-1,1);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return d;};DayPilot.Date.firstDayOfWeek=function(d,$0A){var $0Q=d.getUTCDay();while($0Q!==$0A){d=DayPilot.Date.addDays(d,-1);$0Q=d.getUTCDay();};return d;};DayPilot.Date.dateFromTicks=function($0v){var d=new Date();d.setTime($0v);return d;};DayPilot.Date.getDate=function($0X){var d=DayPilot.Date.clone($0X);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return d;};DayPilot.Date.getStart=function($0z,$0P,$0A){var $13=DayPilot.Date.firstDayOfMonth($0z,$0P);d=DayPilot.Date.firstDayOfWeek($13,$0A);return d;};DayPilot.Date.getTime=function($0X){var $0m=DayPilot.Date.getDate($0X);return DayPilot.Date.diff($0X,$0m);};DayPilot.Date.hours=function($0m,$14){var $15=$0m.getUTCMinutes();if($15<10)$15="0"+$15;var $16=$0m.getUTCHours();if($14){var am=$16<12;var $16=$16%12;if($16===0){$16=12;};var $17=am?"AM":"PM";return $16+':'+$15+' '+$17;}else{return $16+':'+$15;}};DayPilot.Date.lastDayOfMonth=function($0z,$0P){var d=DayPilot.Date.firstDayOfMonth($0z,$0P);var length=DayPilot.Date.daysInMonth($0z,$0P);d.setUTCDate(length);return d;};DayPilot.Date.max=function($0B,$0Y){if($0B.getTime()>$0Y.getTime()){return $0B;}else{return $0Y;}};DayPilot.Date.min=function($0B,$0Y){if($0B.getTime()<$0Y.getTime()){return $0B;}else{return $0Y;}};DayPilot.Date.today=function(){var $18=new Date();var d=new Date();d.setUTCFullYear($18.getFullYear());d.setUTCMonth($18.getMonth());d.setUTCDate($18.getDate());return d;};DayPilot.Date.toLocal=function($0m){if(!$0m){$0m=new Date();};var d=new Date();d.setFullYear($0m.getUTCFullYear(),$0m.getUTCMonth(),$0m.getUTCDate());d.setHours($0m.getUTCHours());d.setMinutes($0m.getUTCMinutes());d.setSeconds($0m.getUTCSeconds());d.setMilliseconds($0m.getUTCMilliseconds());return d;};DayPilot.Date.toStringSortable=function($0m){if($0m.isDayPilotDate){return $0m.toStringSortable();};var d=$0m;var $0Y=d.getUTCSeconds();if($0Y<10)$0Y="0"+$0Y;var $15=d.getUTCMinutes();if($15<10)$15="0"+$15;var $16=d.getUTCHours();if($16<10)$16="0"+$16;var $0Q=d.getUTCDate();if($0Q<10)$0Q="0"+$0Q;var $0P=d.getUTCMonth()+1;if($0P<10)$0P="0"+$0P;var $0z=d.getUTCFullYear();if($0z<=0){throw "The minimum year supported is 1.";};if($0z<10){$0z="000"+$0z;}else if($0z<100){$0z="00"+$0z;}else if($0z<1000){$0z="0"+$0z;};return $0z+"-"+$0P+"-"+$0Q+'T'+$16+":"+$15+":"+$0Y;};var $0L=function($0J,$0K){if(typeof $0K==="string"){$0K=DayPilot.Locale.find($0K);};var $0K=$0K||DayPilot.Locale.US;var $19=[{"seq":"yyyy","expr":"[0-9]{4,4};","str":function(d){return d.getYear();}},{"seq":"MMMM","expr":"[a-z]*","str":function(d){var r=$0K.monthNames[d.getMonth()];return r;}},{"seq":"MM","expr":"[0-9]{2,2};","str":function(d){var r=d.getMonth()+1;return r<10?"0"+r:r;}},{"seq":"M","expr":"[0-9]{1,2};","str":function(d){var r=d.getMonth()+1;return r;}},{"seq":"dddd","expr":"[a-z]*","str":function(d){var r=$0K.dayNames[d.getDayOfWeek()];return r;}},{"seq":"dd","expr":"[0-9]{2,2};","str":function(d){var r=d.getDay();return r<10?"0"+r:r;}},{"seq":"d","expr":"[0-9]{1,2};","str":function(d){var r=d.getDay();return r;}},{"seq":"m","expr":"[0-9]{1,2};","str":function(d){var r=d.getMinutes();return r;}},{"seq":"mm","expr":"[0-9]{2,2};","str":function(d){var r=d.getMinutes();return r<10?"0"+r:r;}},{"seq":"H","expr":"[0-9]{1,2};","str":function(d){var r=d.getHours();return r;}},{"seq":"HH","expr":"[0-9]{2,2};","str":function(d){var r=d.getHours();return r<10?"0"+r:r;}},{"seq":"h","expr":"[0-9]{1,2};","str":function(d){var $16=d.getHours();var $16=$16%12;if($16===0){$16=12;};return $16;}},{"seq":"hh","expr":"[0-9]{2,2};","str":function(d){var $16=d.getHours();var $16=$16%12;if($16===0){$16=12;};var r=$16;return r<10?"0"+r:r;}},{"seq":"tt","expr":"(AM|PM)","str":function(d){var $16=d.getHours();var am=$16<12;return am?"AM":"PM";}},{"seq":"s","expr":"[0-9]{1,2};","str":function(d){var r=d.getSeconds();return r;}},{"seq":"ss","expr":"[0-9]{2,2};","str":function(d){var r=d.getSeconds();return r<10?"0"+r:r;}}];var escape=function($0f){return $0f.replace(/[-[\]{};()*+?.,\\^$|#\s]/g,"\\$&");};this.init=function(){this.year=this.findSequence("yyyy");this.month=this.findSequence("MM")||this.findSequence("M");this.day=this.findSequence("dd")||this.findSequence("d");this.hours=this.findSequence("HH")||this.findSequence("H");this.minutes=this.findSequence("mm")||this.findSequence("m");this.seconds=this.findSequence("ss")||this.findSequence("s");};this.findSequence=function($1a){var $0d=$0J.indexOf($1a);if($0d===-1){return null;};return{"findValue":function($1b){var $1c=escape($0J);for(var i=0;i<$19.length;i++){var $C=$19[i].length;var $1d=($1a===$19[i].seq);var $1e=$19[i].expr;if($1d){$1e="("+$1e+")";};$1c=$1c.replace($19[i].seq,$1e);};try{var r=new RegExp($1c);var $t=r.exec($1b);if(!$t){return null;};return parseInt($t[1]);}catch(e){alert("unable to create regex from: "+$1c);}}};};this.print=function($0m){var find=function(t){for(var i=0;i<$19.length;i++){if($19[i].seq===t){return $19[i];}};return null;};var $1f=$0J.length<=0;var $1g=0;var $1h=[];while(!$1f){var $1i=$0J.substring($1g);var $1j=/(.)\1*/.exec($1i);if($1j&&$1j.length>0){var $1k=$1j[0];var q=find($1k);if(q){$1h.push(q);}else{$1h.push($1k);};$1g+=$1k.length;$1f=$0J.length<=$1g;}else{$1f=true;}};for(var i=0;i<$1h.length;i++){var c=$1h[i];if(typeof c!=='string'){$1h[i]=c.str($0m);}};return $1h.join("");};this.parse=function($1b){var $0z=this.year.findValue($1b);if(!$0z){return null;};var $0P=this.month.findValue($1b);var $0Q=this.day.findValue($1b);var $0q=this.hours?this.hours.findValue($1b):0;var $0s=this.minutes?this.minutes.findValue($1b):0;var $0u=this.seconds?this.seconds.findValue($1b):0;var d=new Date();d.setUTCFullYear($0z,$0P-1,$0Q);d.setUTCHours($0q);d.setUTCMinutes($0s);d.setUTCSeconds($0u);d.setUTCMilliseconds(0);return new DayPilot.Date(d);};this.init();};DayPilot.Action=function($X,$Y,$Z,$00){this.calendar=$X;this.isAction=true;this.action=$Y;this.params=$Z;this.data=$00;this.notify=function(){$X.invokeEvent("Immediate",this.action,this.params,this.data);};this.auto=function(){$X.invokeEvent("Notify",this.action,this.params,this.data);};this.queue=function(){$X.queue.add(this);};this.toJSON=function(){var $01={};$01.name=this.action;$01.params=this.params;$01.data=this.data;return $01;};};DayPilot.Locale=function(id,$L){this.id=id;this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];this.dayNamesShort=["Su","Mo","Tu","We","Th","Fr","Sa"];this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];this.datePattern="M/d/yyyy";this.timePattern="H:mm";this.dateTimePattern="M/d/yyyy H:mm";this.timeFormat="Clock12Hours";this.weekStarts=0;if($L){for(var name in $L){this[name]=$L[name];}}};DayPilot.Locale.all={};DayPilot.Locale.find=function(id){if(!id){return null;};var $1l=id.toLowerCase();if($1l.length>2){$1l[2]='-';};return DayPilot.Locale.all[$1l];};DayPilot.Locale.register=function($0K){DayPilot.Locale.all[$0K.id]=$0K;};DayPilot.Locale.register(new DayPilot.Locale('de-de',{'dayNames':['Sonntag','Montag','Dienstag','Mittwoch','Donnerstag','Freitag','Samstag'],'dayNamesShort':['So','Mo','Di','Mi','Do','Fr','Sa'],'monthNames':['Januar','Februar','März','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember',''],'timePattern':'HH:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('en-au',{'dayNames':['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],'dayNamesShort':['Su','Mo','Tu','We','Th','Fr','Sa'],'monthNames':['January','February','March','April','May','June','July','August','September','October','November','December',''],'timePattern':'h:mm tt','datePattern':'d/MM/yyyy','dateTimePattern':'d/MM/yyyy h:mm tt','timeFormat':'Clock12Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('en-ca',{'dayNames':['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],'dayNamesShort':['Su','Mo','Tu','We','Th','Fr','Sa'],'monthNames':['January','February','March','April','May','June','July','August','September','October','November','December',''],'timePattern':'h:mm tt','datePattern':'yyyy-MM-dd','dateTimePattern':'yyyy-MM-dd h:mm tt','timeFormat':'Clock12Hours','weekStarts':0}));DayPilot.Locale.register(new DayPilot.Locale('en-gb',{'dayNames':['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],'dayNamesShort':['Su','Mo','Tu','We','Th','Fr','Sa'],'monthNames':['January','February','March','April','May','June','July','August','September','October','November','December',''],'timePattern':'HH:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('en-us',{'dayNames':['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],'dayNamesShort':['Su','Mo','Tu','We','Th','Fr','Sa'],'monthNames':['January','February','March','April','May','June','July','August','September','October','November','December',''],'timePattern':'h:mm tt','datePattern':'M/d/yyyy','dateTimePattern':'M/d/yyyy h:mm tt','timeFormat':'Clock12Hours','weekStarts':0}));DayPilot.Locale.register(new DayPilot.Locale('es-es',{'dayNames':['domingo','lunes','martes','miércoles','jueves','viernes','sábado'],'dayNamesShort':['D','L','M','X','J','V','S'],'monthNames':['enero','febrero','marzo','abril','mayo','junio','julio','agosto','septiembre','octubre','noviembre','diciembre',''],'timePattern':'H:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('es-mx',{'dayNames':['domingo','lunes','martes','miércoles','jueves','viernes','sábado'],'dayNamesShort':['do.','lu.','ma.','mi.','ju.','vi.','sá.'],'monthNames':['enero','febrero','marzo','abril','mayo','junio','julio','agosto','septiembre','octubre','noviembre','diciembre',''],'timePattern':'hh:mm tt','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy hh:mm tt','timeFormat':'Clock12Hours','weekStarts':0}));DayPilot.Locale.register(new DayPilot.Locale('fr-fr',{'dayNames':['dimanche','lundi','mardi','mercredi','jeudi','vendredi','samedi'],'dayNamesShort':['di','lu','ma','me','je','ve','sa'],'monthNames':['janvier','février','mars','avril','mai','juin','juillet','août','septembre','octobre','novembre','décembre',''],'timePattern':'HH:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('it-it',{'dayNames':['domenica','lunedì','martedì','mercoledì','giovedì','venerdì','sabato'],'dayNamesShort':['do','lu','ma','me','gi','ve','sa'],'monthNames':['gennaio','febbraio','marzo','aprile','maggio','giugno','luglio','agosto','settembre','ottobre','novembre','dicembre',''],'timePattern':'HH.mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH.mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('ja-jp',{'dayNames':['日曜日','月曜日','火曜日','水曜日','木曜日','金曜日','土曜日'],'dayNamesShort':['日','月','火','水','木','金','土'],'monthNames':['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月',''],'timePattern':'H:mm','datePattern':'yyyy/MM/dd','dateTimePattern':'yyyy/MM/dd H:mm','timeFormat':'Clock24Hours','weekStarts':0}));DayPilot.Locale.register(new DayPilot.Locale('pt-br',{'dayNames':['domingo','segunda-feira','terça-feira','quarta-feira','quinta-feira','sexta-feira','sábado'],'dayNamesShort':['D','S','T','Q','Q','S','S'],'monthNames':['janeiro','fevereiro','março','abril','maio','junho','julho','agosto','setembro','outubro','novembro','dezembro',''],'timePattern':'HH:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':0}));DayPilot.Locale.register(new DayPilot.Locale('ru-ru',{'dayNames':['воскресенье','понедельник','вторник','среда','четверг','пятница','суббота'],'dayNamesShort':['Вс','Пн','Вт','Ср','Чт','Пт','Сб'],'monthNames':['Январь','Февраль','Март','Апрель','Май','Июнь','Июль','Август','Сентябрь','Октябрь','Ноябрь','Декабрь',''],'timePattern':'H:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('zh-cn',{'dayNames':['星期日','星期一','星期二','星期三','星期四','星期五','星期六'],'dayNamesShort':['日','一','二','三','四','五','六'],'monthNames':['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月',''],'timePattern':'H:mm','datePattern':'yyyy/M/d','dateTimePattern':'yyyy/M/d H:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('sv-se',{'dayNames':['söndag','måndag','tisdag','onsdag','torsdag','fredag','lördag'],'dayNamesShort':['sö','må','ti','on','to','fr','lö'],'monthNames':['januari','februari','mars','april','maj','juni','juli','augusti','september','oktober','november','december',''],'timePattern':'HH:mm','datePattern':'yyyy-MM-dd','dateTimePattern':'yyyy-MM-dd HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('da-dk',{'dayNames':['søndag','mandag','tirsdag','onsdag','torsdag','fredag','lørdag'],'dayNamesShort':['sø','ma','ti','on','to','fr','lø'],'monthNames':['januar','februar','marts','april','maj','juni','juli','august','september','oktober','november','december',''],'timePattern':'HH:mm','datePattern':'dd-MM-yyyy','dateTimePattern':'dd-MM-yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('nb-no',{'dayNames':['søndag','mandag','tirsdag','onsdag','torsdag','fredag','lørdag'],'dayNamesShort':['sø','ma','ti','on','to','fr','lø'],'monthNames':['januar','februar','mars','april','mai','juni','juli','august','september','oktober','november','desember',''],'timePattern':'HH:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('nn-no',{'dayNames':['søndag','måndag','tysdag','onsdag','torsdag','fredag','laurdag'],'dayNamesShort':['sø','må','ty','on','to','fr','la'],'monthNames':['januar','februar','mars','april','mai','juni','juli','august','september','oktober','november','desember',''],'timePattern':'HH:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('fi-fi',{'dayNames':['sunnuntai','maanantai','tiistai','keskiviikko','torstai','perjantai','lauantai'],'dayNamesShort':['su','ma','ti','ke','to','pe','la'],'monthNames':['tammikuu','helmikuu','maaliskuu','huhtikuu','toukokuu','kesäkuu','heinäkuu','elokuu','syyskuu','lokakuu','marraskuu','joulukuu',''],'timePattern':'H:mm','datePattern':'d.M.yyyy','dateTimePattern':'d.M.yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('nl-nl',{'dayNames':['zondag','maandag','dinsdag','woensdag','donderdag','vrijdag','zaterdag'],'dayNamesShort':['zo','ma','di','wo','do','vr','za'],'monthNames':['januari','februari','maart','april','mei','juni','juli','augustus','september','oktober','november','december',''],'timePattern':'HH:mm','datePattern':'d-M-yyyy','dateTimePattern':'d-M-yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('cs-cz',{'dayNames':['neděle','pondělí','úterý','středa','čtvrtek','pátek','sobota'],'dayNamesShort':['ne','po','út','st','čt','pá','so'],'monthNames':['leden','únor','březen','duben','květen','červen','červenec','srpen','září','říjen','listopad','prosinec',''],'timePattern':'H:mm','datePattern':'d. M. yyyy','dateTimePattern':'d. M. yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.US=DayPilot.Locale.find("en-us");})();DayPilot.JSON={};(function(){function f(n){return n<10?'0'+n:n;};if(typeof Date.prototype.toJSON2!=='function'){Date.prototype.toJSON2=function($05){return this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+f(this.getUTCSeconds())+'';};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function($05){return this.valueOf();};};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$1m=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$1n,$1o,$1p={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},$1q;function quote($0M){$1m.lastIndex=0;return $1m.test($0M)?'"'+$0M.replace($1m,function(a){var c=$1p[a];if(typeof c==='string'){return c;};return '\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+$0M+'"';};function str($05,$1r){var i,k,v,length,$1s=$1n,$1t,$1u=$1r[$05];if($1u&&typeof $1u==='object'&&typeof $1u.toJSON2==='function'){$1u=$1u.toJSON2($05);}else if($1u&&typeof $1u==='object'&&typeof $1u.toJSON==='function'&&!$1u.ignoreToJSON){$1u=$1u.toJSON($05);};if(typeof $1q==='function'){$1u=$1q.call($1r,$05,$1u);};switch(typeof $1u){case 'string':return quote($1u);case 'number':return isFinite($1u)?String($1u):'null';case 'boolean':case 'null':return String($1u);case 'object':if(!$1u){return 'null';};$1n+=$1o;$1t=[];if(typeof $1u.length==='number'&&!$1u.propertyIsEnumerable('length')){length=$1u.length;for(i=0;i<length;i+=1){$1t[i]=str(i,$1u)||'null';};v=$1t.length===0?'[]':$1n?'[\n'+$1n+$1t.join(',\n'+$1n)+'\n'+$1s+']':'['+$1t.join(',')+']';$1n=$1s;return v;};if($1q&&typeof $1q==='object'){length=$1q.length;for(i=0;i<length;i+=1){k=$1q[i];if(typeof k==='string'){v=str(k,$1u);if(v){$1t.push(quote(k)+($1n?': ':':')+v);}}}}else{for(k in $1u){if(Object.hasOwnProperty.call($1u,k)){v=str(k,$1u);if(v){$1t.push(quote(k)+($1n?': ':':')+v);}}}};v=($1t.length===0)?'{\u007D':$1n?'{\n'+$1n+$1t.join(',\n'+$1n)+'\n'+$1s+'\u007D':'{'+$1t.join(',')+'\u007D';$1n=$1s;return v;}};if(typeof DayPilot.JSON.stringify!=='function'){DayPilot.JSON.stringify=function($1u,$1v,$1w){var i;$1n='';$1o='';if(typeof $1w==='number'){for(i=0;i<$1w;i+=1){$1o+=' ';}}else if(typeof $1w==='string'){$1o=$1w;};$1q=$1v;if($1v&&typeof $1v!=='function'&&(typeof $1v!=='object'||typeof $1v.length!=='number')){throw new Error('JSON.stringify');};return str('',{'':$1u});};};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();


if(typeof DayPilot==='undefined'){var DayPilot={};};(function(){if(typeof DayPilot.DatePicker!=='undefined'){return;};DayPilot.DatePicker=function(id,$a,$b){this.v='178';var $c="navigator";var $d=this;var $e=$a||"M/d/yyyy";var element=(id&&id.nodeType&&id.nodeType===1)?id:document.getElementById(id);var navigator=new DayPilot.Navigator($c);navigator.timeRangeSelectedHandling="JavaScript";navigator.cssOnly=true;navigator.cssClassPrefix="navigator_white";navigator.weekStarts=1;navigator.onTimeRangeSelected=function($f){element.value=$f.toString($e);$d.close();if($b)$b($f);};this.navigator=navigator;this.close=function(){this.div.innerHTML='';document.body.removeChild(this.div);};this.show=function(){var $g=document.getElementById($c);if($g){$g.innerHTML='';document.body.removeChild($g);return;};var $h=DayPilot.abs(element);var $i=element.offsetHeight;var $j=document.createElement("div");$j.style.position="absolute";$j.style.left=$h.x+"px";$j.style.top=($h.y+$i)+"px";$j.id=$c;document.body.appendChild($j);this.div=$j;var $k=DayPilot.Date.parse(element.value,$e)||new DayPilot.Date().getDatePart();navigator.startDate=$k;navigator.selectionStart=$k;navigator.Init();};};})();

if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotMenu==='undefined'){var DayPilotMenu=DayPilot.MenuVisible={};};(function(){if(typeof DayPilot.Menu!=='undefined'){return;};var DayPilotMenu={};DayPilotMenu.mouse=null;DayPilotMenu.menu=null;DayPilotMenu.clickRegistered=false;DayPilot.Menu=function($a){var $b=this;this.v='178';this.zIndex=10;this.useShadow=true;this.cssClassPrefix=null;this.cssOnly=true;this.menuTitle=null;this.showMenuTitle=false;if($a&&DayPilot.isArray($a)){this.items=$a;};this.show=function(e,$c){var $d=(typeof e.value==='function')?e.value():null;if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();};if(!$c){DayPilotMenu.menuClean();};this.submenu=null;if(DayPilotMenu.mouse===null)return;var $e=document.createElement("div");$e.style.position="absolute";$e.style.top="0px";$e.style.left="0px";$e.style.display='none';$e.style.overflow='hidden';$e.style.zIndex=this.zIndex+1;$e.className=this.applyCssClass('main');$e.onclick=function(){this.parentNode.removeChild(this);};if(!this.items||this.items.length===0){throw "No menu items defined.";};if(this.showMenuTitle){var title=document.createElement("div");title.innerHTML=this.menuTitle;title.className=this.applyCssClass("title");$e.appendChild(title);};for(var i=0;i<this.items.length;i++){var mi=this.items[i];var $f=document.createElement("div");if(typeof mi==='undefined'){continue;};if(mi.text==='-'){var $g=document.createElement("div");$f.appendChild($g);}else{var $h=document.createElement("a");$h.style.position='relative';$h.style.display="block";if(mi.href){$h.href=mi.href.replace(/\x7B0\x7D/gim,$d);$h.setAttribute("target",mi.target);}else if(mi.onclick){$h.item=mi;$h.onclick=mi.onclick;}else if(mi.command){var $i=function(mi,$h){return function(){var $j=$h.source;var $f=mi;$f.action=$f.action?$f.action:'CallBack';var $k=$j.calendar||$j.root;switch($j.type){case 'resource':$k.internal.resourceHeaderMenuClick($f.command,$j,$f.action);return;case 'selection':$k.internal.timeRangeMenuClick($f.command,$j,$f.action);return;default:$k.internal.eventMenuClick($f.command,$j,$f.action);return;}};};$h.onclick=$i(mi,$h);};$h.source=e;var $l=document.createElement("span");$l.innerHTML=mi.text;$h.appendChild($l);if(mi.image){var $m=document.createElement("img");$m.src=mi.image;$m.style.position='absolute';$m.style.top='0px';$m.style.left='0px';$h.appendChild($m);};var $n=function(mi,$h){return function(){var $j=$h.source;var $f=mi;setTimeout(function(){if($b.submenu&&$b.submenu.item===$f){return;};if($b.submenu&&$b.submenu.item!==$f){$b.submenu.menu.hide();$b.submenu=null;};if(!$f.items){return;};var $o=$b.cloneOptions();$o.items=$f.items;$b.submenu={};$b.submenu.menu=new DayPilot.Menu($o);$b.submenu.menu.show($j,true);$b.submenu.item=$f;},500);};};$h.onmouseover=$n(mi,$h);$f.appendChild($h);};$e.appendChild($f);};$e.onclick=function(e){window.setTimeout(function(){DayPilotMenu.menuClean();},100);};$e.onmousedown=function(e){if(!e)var e=window.event;e.cancelBubble=true;if(e.stopPropagation)e.stopPropagation();};$e.oncontextmenu=function(){return false;};document.body.appendChild($e);$e.style.display='';var $p=$e.clientHeight;var $q=$e.offsetWidth;$e.style.display='none';var $r=document.documentElement.clientHeight;DayPilotMenu.mouse.x+=1;DayPilotMenu.mouse.y+=1;if(DayPilotMenu.mouse.clientY>$r-$p&&$r!==0){var $s=DayPilotMenu.mouse.clientY-($r-$p)+5;$e.style.top=(DayPilotMenu.mouse.y-$s)+'px';}else{$e.style.top=DayPilotMenu.mouse.y+'px';};var $t=document.documentElement.clientWidth;if(DayPilotMenu.mouse.clientX>$t-$q&&$t!==0){var $u=DayPilotMenu.mouse.clientX-($t-$q)+5;$e.style.left=(DayPilotMenu.mouse.x-$u)+'px';}else{$e.style.left=DayPilotMenu.mouse.x+'px';};$e.style.display='';this.addShadow($e);this.div=$e;if(!$c){DayPilot.Menu.active=this;};return;};this.applyCssClass=function($v){if(this.cssClassPrefix){return this.cssClassPrefix+(this.cssOnly?"_":"")+$v;}else{return "";}};this.cloneOptions=function(){var $o={};var $w=['cssOnly','cssClassPrefix','useShadow','zIndex'];for(var i=0;i<$w.length;i++){var p=$w[i];$o[p]=this[p];};return $o;};this.hide=function(){if(this.submenu){this.submenu.menu.hide();};this.removeShadow();document.body.removeChild(this.div);};this.addShadow=function($x){if(!this.useShadow||this.cssOnly){return;};if(!$x){return;};if(this.shadows&&this.shadows.length>0){this.removeShadow();};this.shadows=[];for(var i=0;i<5;i++){var $y=document.createElement('div');$y.style.position='absolute';$y.style.width=$x.offsetWidth+'px';$y.style.height=$x.offsetHeight+'px';$y.style.top=$x.offsetTop+i+'px';$y.style.left=$x.offsetLeft+i+'px';$y.style.zIndex=this.zIndex;$y.style.filter='alpha(opacity:10)';$y.style.opacity=0.1;$y.style.backgroundColor='#000000';document.body.appendChild($y);this.shadows.push($y);}};this.removeShadow=function(){if(!this.shadows){return;};for(var i=0;i<this.shadows.length;i++){document.body.removeChild(this.shadows[i]);};this.shadows=[];};var $o=DayPilot.isArray($a)?null:$a;if($o){for(var name in $o){this[name]=$o[name];}};DayPilot.re(document.body,'mousemove',DayPilotMenu.mouseMove);if(!DayPilotMenu.clickRegistered){DayPilot.re(document,'mousedown',DayPilotMenu.menuClean);DayPilotMenu.clickRegistered=true;}};DayPilotMenu.menuClean=function(ev){if(typeof(DayPilot.Menu.active)==='undefined')return;if(DayPilot.Menu.active){DayPilot.Menu.active.hide();DayPilot.Menu.active=null;}};DayPilotMenu.mouseMove=function(ev){if(typeof(DayPilotMenu)==='undefined')return;DayPilotMenu.mouse=DayPilotMenu.mousePosition(ev);};DayPilotMenu.mousePosition=function(e){var $z=0;var $A=0;if(!e)var e=window.event;if(e.pageX||e.pageY){$z=e.pageX;$A=e.pageY;}else if(e.clientX||e.clientY){$z=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;$A=e.clientY+document.body.scrollTop+document.documentElement.scrollTop;};var $B={};$B.x=$z;$B.y=$A;$B.clientY=e.clientY;$B.clientX=e.clientX;return $B;};DayPilot.MenuVisible.Menu=DayPilotMenu.Menu;if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();


if(typeof(DayPilot)==='undefined'){DayPilot={};};(function(){DayPilot.ModalStatic={};DayPilot.ModalStatic.list=[];DayPilot.ModalStatic.hide=function(){if(this.list.length>0){var $a=this.list.pop();if($a){$a.hide();}}};DayPilot.ModalStatic.remove=function($b){var $c=DayPilot.ModalStatic.list;for(var i=0;i<$c.length;i++){if($c[i]===$b){$c.splice(i,1);return;}}};DayPilot.ModalStatic.close=function($d){DayPilot.ModalStatic.result($d);DayPilot.ModalStatic.hide();};DayPilot.ModalStatic.result=function(r){var $c=DayPilot.ModalStatic.list;if($c.length>0){$c[$c.length-1].result=r;}};DayPilot.ModalStatic.displayed=function($b){var $c=DayPilot.ModalStatic.list;for(var i=0;i<$c.length;i++){if($c[i]===$b){return true;}};return false;};var $e=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!==-1);DayPilot.Modal=function(){this.autoStretch=true;this.autoStretchFirstLoadOnly=false;this.border="1px solid black";this.corners='Rounded';this.className=null;this.dragDrop=true;this.height=200;this.maxHeight=null;this.opacity=30;this.scrollWithPage=true;this.top=20;this.useIframe=true;this.width=300;this.zIndex=null;this.closed=null;var $f=this;this.id='_'+new Date().getTime()+'n'+(Math.random()*10);this.registered=false;this.start=null;this.coords=null;this.showHtml=function($g){if(DayPilot.ModalStatic.displayed(this)){throw "This modal dialog is already displayed.";};if(!this.div){this.create();};this.update();if(this.useIframe){var $h=function(p,$i){return function(){p.setInnerHTML(p.id+"iframe",$i);};};window.setTimeout($h(this,$g),0);}else{this.div.innerHTML=$g;};this.register();};this.rounded=function(){return this.corners&&this.corners.toLowerCase()==='rounded';};this.showUrl=function($j){if(DayPilot.ModalStatic.displayed(this)){throw "This modal dialog is already displayed.";};this.useIframe=true;if(!this.div){this.create();};this.re(this.iframe,"load",this.onIframeLoad);this.iframe.src=$j;this.update();this.register();};this.update=function(){var $k=window;var $l=document;var scrollY=$k.pageYOffset?$k.pageYOffset:(($l.documentElement&&$l.documentElement.scrollTop)?$l.documentElement.scrollTop:$l.body.scrollTop);var $m=function(){return $f.windowRect().y;};this.hideDiv.style.filter="alpha(opacity="+this.opacity+")";this.hideDiv.style.opacity="0."+this.opacity;this.hideDiv.style.backgroundColor="black";if(this.zIndex){this.hideDiv.style.zIndex=this.zIndex;};this.hideDiv.style.display='';window.setTimeout(function(){$f.hide.onclick=function(){$f.hide();};},500);this.div.className=this.className;this.div.style.border=this.border;if(this.rounded()){this.div.style.MozBorderRadius="5px";this.div.style.webkitBorderRadius="5px";this.div.style.borderRadius="5px";};this.div.style.marginLeft='-'+Math.floor(this.width/2)+"px";this.div.style.position='absolute';this.div.style.top=(scrollY+this.top)+'px';this.div.style.width=this.width+'px';if(this.zIndex){this.div.style.zIndex=this.zIndex;};if(this.height){this.div.style.height=this.height+'px';};if(this.useIframe&&this.height){this.iframe.style.height=(this.height)+'px';};this.div.style.display='';DayPilot.ModalStatic.list.push(this);};this.onIframeLoad=function(){$f.iframe.contentWindow.modal=$f;if($f.autoStretch){$f.stretch();}};this.stretch=function(){var $m=function(){return $f.windowRect().y;};var $n=this.maxHeight||$m()-2*this.top;for(var h=this.height;h<$n&&this.hasScrollbar();h+=10){this.iframe.style.height=(h)+'px';this.div.style.height=h+'px';};if(this.autoStretchFirstLoadOnly){this.ue(this.iframe,"load",this.onIframeLoad);}};this.hasScrollbar=function(){var document=this.iframe.contentWindow.document;var $o=document.compatMode==='BackCompat'?document.body:document.documentElement;var $p=$o.scrollHeight>$o.clientHeight;var $q=$o.scrollWidth>$o.clientWidth;return $p;};this.windowRect=function(){var $l=document;if($l.compatMode==="CSS1Compat"&&$l.documentElement&&$l.documentElement.clientWidth){var x=$l.documentElement.clientWidth;var y=$l.documentElement.clientHeight;return{x:x,y:y};}else{var x=$l.body.clientWidth;var y=$l.body.clientHeight;return{x:x,y:y};}};this.register=function(){if(this.registered){return;};this.re(window,'resize',this.resize);this.re(window,'scroll',this.resize);if(this.dragDrop){this.re(document,'mousemove',this.drag);this.re(document,'mouseup',this.drop);};this.registered=true;};this.drag=function(e){if(!$f.coords){return;};var e=e||window.event;var $r=$f.mc(e);var x=$r.x-$f.coords.x;var y=$r.y-$f.coords.y;$f.div.style.marginLeft='0px';$f.div.style.top=($f.start.y+y)+"px";$f.div.style.left=($f.start.x+x)+"px";};this.drop=function(e){if(!$f.coords){return;};$f.unmaskIframe();$f.coords=null;};this.maskIframe=function(){if(!this.useIframe){return;};var $s=80;var $t=document.createElement("div");$t.style.backgroundColor="#ffffff";$t.style.filter="alpha(opacity="+$s+")";$t.style.opacity="0."+$s;$t.style.width="100%";$t.style.height=this.height+"px";$t.style.position="absolute";$t.style.left='0px';$t.style.top='0px';this.div.appendChild($t);this.mask=$t;};this.unmaskIframe=function(){if(!this.useIframe){return;};this.div.removeChild(this.mask);this.mask=null;};this.resize=function(){if(!$f.hideDiv){return;};if(!$f.div){return;};if($f.hideDiv.style.display==='none'){return;};if($f.div.style.display==='none'){return;};var scrollY=window.pageYOffset?window.pageYOffset:((document.documentElement&&document.documentElement.scrollTop)?document.documentElement.scrollTop:document.body.scrollTop);if(!$f.scrollWithPage){$f.div.style.top=(scrollY+$f.top)+'px';}};this.re=function(el,ev,$u){if(el.addEventListener){el.addEventListener(ev,$u,false);}else if(el.attachEvent){el.attachEvent("on"+ev,$u);}};this.ue=function(el,ev,$u){if(el.removeEventListener){el.removeEventListener(ev,$u,false);}else if(el.detachEvent){el.detachEvent("on"+ev,$u);}};this.mc=function(ev){if(ev.pageX||ev.pageY){return{x:ev.pageX,y:ev.pageY};};return{x:ev.clientX+document.documentElement.scrollLeft,y:ev.clientY+document.documentElement.scrollTop};};this.abs=function(element){var r={x:element.offsetLeft,y:element.offsetTop};while(element.offsetParent){element=element.offsetParent;r.x+=element.offsetLeft;r.y+=element.offsetTop;};return r;};this.create=function(){var $v=document.createElement("div");$v.id=this.id+"hide";$v.style.position='fixed';$v.style.left="0px";$v.style.top="0px";$v.style.right="0px";$v.style.bottom="0px";$v.style.backgroundColor="black";$v.style.opacity=0.50;$v.oncontextmenu=function(){return false;};document.body.appendChild($v);var $w=document.createElement("div");$w.id=this.id+'popup';$w.style.position='fixed';$w.style.left='50%';$w.style.top='0px';$w.style.backgroundColor='white';$w.style.width="50px";$w.style.height="50px";if(this.dragDrop){$w.onmousedown=this.dragStart;};var $x=50;var $y=null;if(this.useIframe){$y=document.createElement("iframe");$y.id=this.id+"iframe";$y.name=this.id+"iframe";$y.frameBorder='0';$y.style.width='100%';$y.style.height=$x+'px';$w.appendChild($y);};document.body.appendChild($w);this.div=$w;this.iframe=$y;this.hideDiv=$v;};this.dragStart=function(e){$f.maskIframe();$f.coords=$f.mc(e||window.event);$f.start={x:$f.div.offsetLeft,y:$f.div.offsetTop};};this.setInnerHTML=function(id,$i){var $z=window.frames[id];var $l=$z.contentWindow||$z.document||$z.contentDocument;if($l.document){$l=$l.document;};$l.body.innerHTML=$i;};this.close=function($d){this.result=$d;this.hide();};this.hide=function(){if(this.div){this.div.style.display='none';this.hideDiv.style.display='none';if(!this.useIframe){this.div.innerHTML=null;}};DayPilot.ModalStatic.remove(this);if(this.closed){this.closed();}};};})();


if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotMonth==='undefined'){var DayPilotMonth=DayPilot.MonthVisible={};};(function(){var $a=function(){};if(typeof DayPilot.Month!=='undefined'){return;};var DayPilotMonth={};DayPilot.Month=function($b){this.v='178';this.nav={};this.nav.top=document.getElementById($b);var $c=this;this.id=$b;this.isMonth=true;this.hideUntilInit=true;this.startDate=new DayPilot.Date();this.width='100%';this.cellHeight=100;this.cellMarginBottom=0;this.allowMultiSelect=true;this.autoRefreshCommand='refresh';this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.eventFontColor="#000000";this.eventFontFamily="Tahoma";this.eventFontSize="11px";this.headerBackColor='#ECE9D8';this.headerFontColor='#000000';this.headerFontFamily="Tahoma";this.headerFontSize="10pt";this.headerHeight=20;this.weekStarts=1;this.innerBorderColor='#cccccc';this.borderColor='black';this.eventHeight=25;this.cellHeaderHeight=16;this.numberFormat="0.00";this.clientState={};this.afterRender=function(){};this.backColor='#FFFFD5';this.nonBusinessBackColor='#FFF4BC';this.cellHeaderBackColor='';this.cellHeaderFontColor='#000000';this.cellHeaderFontFamily='Tahoma';this.cellHeaderFontSize='10pt';this.cssOnly=true;this.eventBackColor='White';this.eventBorderColor='Black';this.eventCorners="Regular";this.eventFontColor='#000000';this.eventFontFamily='Tahoma';this.eventFontSize='11px';this.cellWidth=14.285;this.lineSpace=1;this.locale="en-us";this.messageHideAfter=5000;this.notifyCommit='Immediate';this.eventMoveToPosition=false;this.eventTextLayer='Top';this.eventStartTime=true;this.eventEndTime=true;this.eventTextAlignment='Center';this.eventTextLeftIndent=20;this.showWeekend=true;this.cellMode=false;this.shadowType="Fill";this.eventTimeFontColor='gray';this.eventTimeFontFamily='Tahoma';this.eventTimeFontSize='8pt';this.viewType='Month';this.weeks=1;this.eventClickHandling='Disabled';this.eventDoubleClickHandling='Disabled';this.eventMoveHandling='Disabled';this.eventResizeHandling='Disabled';this.eventRightClickHandling='ContextMenu';this.timeRangeSelectedHandling='Diabled';this.timeRangeDoubleClickHandling='Disabled';this.onTimeRangeDoubleClick=function(){};this.backendUrl=null;this.cellEvents=[];this.elements={};this.elements.events=[];this.cache={};this.cache.events={};this.events={};this.autoRefreshCount=0;this.$1A=function($d,$e){var $d=eval("("+$d+")");if($d.BubbleGuid){var $f=$d.BubbleGuid;var $g=this.bubbles[$f];delete this.bubbles[$f];$c.$1B();if(typeof $d.Result.BubbleHTML!=='undefined'){$g.updateView($d.Result.BubbleHTML,$g);};return;};if(typeof $d.ClientState!=='undefined'){$c.clientState=$d.ClientState;};if($d.UpdateType==="None"){$c.$1C($d.CallBackData,true);if($d.Message){$c.message($d.Message);};return;};if($d.VsUpdate){var $h=document.createElement("input");$h.type='hidden';$h.name=$c.id+"_vsupdate";$h.id=$h.name;$h.value=$d.VsUpdate;$c.vsph.innerHTML='';$c.vsph.appendChild($h);};$c.events.list=$d.Events;if(typeof $d.TagFields!=='undefined'){$c.tagFields=$d.TagFields;};if(typeof $d.SortDirections!=='undefined'){$c.sortDirections=$d.SortDirections;};if($d.UpdateType==="Full"){$c.cellProperties=$d.CellProperties;$c.headerProperties=$d.HeaderProperties;$c.startDate=$d.StartDate;if(typeof $d.ShowWeekend!=='undefined'){$c.showWeekend=$d.ShowWeekend;};$c.headerBackColor=$d.HeaderBackColor?$d.HeaderBackColor:$c.headerBackColor;$c.backColor=$d.BackColor?$d.BackColor:$c.backColor;$c.nonBusinessBackColor=$d.NonBusinessBackColor?$d.NonBusinessBackColor:$c.nonBusinessBackColor;$c.locale=$d.Locale?$d.Locale:$c.locale;$c.timeFormat=$d.TimeFormat?$d.TimeFormat:$c.timeFormat;if(typeof $d.WeekStarts!=='undefined'){$c.weekStarts=$d.WeekStarts;};$c.hashes=$d.Hashes;};$c.multiselect.clear(true);$c.multiselect.initList=$d.SelectedEvents;$c.$1D();$c.$1E();$c.$1F();if($d.UpdateType==="Full"){$c.$1G();$c.$1H();};$c.$1I();$c.$1J();$c.$1K();$c.$1C($d.CallBackData,true);$c.$1L();if($d.Message){$c.message($d.Message);}};this.$1C=function($i,$j){var $k=function($i,$l){return function(){if($c.afterRender){$c.afterRender($i,$l);}};};window.setTimeout($k($i,$j),0);};this.$1M=function($m){if(this.cssClassPrefix){return this.cssClassPrefix+$m;}else{return "";}};this.$1F=function(){if(this.cellMode){this.$1N();}else{this.$1O();}};this.$1B=function(){};this.$1O=function(){if(!this.events.list){return;};for(var x=0;x<this.events.list.length;x++){var e=this.events.list[x];e.start=new DayPilot.Date(e.start).d;e.end=new DayPilot.Date(e.end).d;if(e.start.getTime()>e.end.getTime()){continue;};for(var i=0;i<this.rows.length;i++){var $n=this.rows[i];if($n.belongsHere(e)){var ep=new DayPilot.Event(e,$c);$n.events.push(ep);}}};for(var ri=0;ri<this.rows.length;ri++){var $n=this.rows[ri];$n.events.sort(this.eventComparerCustom);for(var ei=0;ei<this.rows[ri].events.length;ei++){var ev=$n.events[ei];var $o=$n.getStartColumn(ev);var $p=$n.getWidth(ev);$n.putIntoLine(ev,$o,$p,ri);}}};this.$1N=function(){this.cellEvents=[];for(var x=0;x<this.$1P();x++){this.cellEvents[x]=[];for(var y=0;y<this.rows.length;y++){var $q={};var d=DayPilot.Date.addDays(this.firstDate,y*7+x);$q.start=d;$q.end=DayPilot.Date.addDays(d,1);$q.events=[];this.cellEvents[x][y]=$q;}};for(var i=0;i<this.events.list.length;i++){var e=this.events.list[i];e.start=new DayPilot.Date(e.start);e.end=new DayPilot.Date(e.start);if(e.start.getTime()>e.end.getTime()){continue;};for(var x=0;x<this.$1P();x++){for(var y=0;y<this.rows.length;y++){var $q=this.cellEvents[x][y];if(e.start.getTime()>=$q.start.getTime()&&e.start.getTime()<$q.end.getTime()){var ep=new DayPilot.Event(e,$c);$q.events.push(ep);}}}};for(var x=0;x<this.$1P();x++){for(var y=0;y<this.rows.length;y++){var $q=this.cellEvents[x][y];$q.events.sort(this.eventComparerCustom);}}};this.$1D=function(){for(var i=0;i<this.elements.events.length;i++){var e=this.elements.events[i];e.event=null;e.click=null;e.parentNode.removeChild(e);};this.elements.events=[];};this.$1K=function(){this.cache.events={};if(this.cellMode){this.$1Q();}else{this.$1R();};this.multiselect.redraw();};this.$1Q=function(){this.elements.events=[];for(var x=0;x<this.$1P();x++){for(var y=0;y<this.rows.length;y++){var $q=this.cellEvents[x][y];var $r=this.cells[x][y];for(var i=0;i<$q.events.length;i++){var ep=$q.events[i];ep.part.colStart=x;ep.part.colWidth=1;ep.part.row=y;ep.part.line=i;ep.part.startsHere=true;ep.part.endsHere=true;this.$1S(ep);}}}};this.$1R=function(){this.elements.events=[];for(var ri=0;ri<this.rows.length;ri++){var $n=this.rows[ri];for(var li=0;li<$n.lines.length;li++){var $s=$n.lines[li];for(var pi=0;pi<$s.length;pi++){this.$1S($s[pi]);}}}};this.eventComparer=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $t=a.start().ticks-b.start().ticks;if($t!==0){return $t;};var $u=b.end().ticks-a.end().ticks;return $u;};this.eventComparerCustom=function(a,b){if(!a||!b){return 0;};if(!a.data||!b.data||!a.data.sort||!b.data.sort||a.data.sort.length===0||b.data.sort.length===0){return $c.eventComparer(a,b);};var $d=0;var i=0;while($d===0&&a.data.sort[i]&&b.data.sort[i]){if(a.data.sort[i]===b.data.sort[i]){$d=0;}else{$d=$c.stringComparer(a.data.sort[i],b.data.sort[i],$c.sortDirections[i]);};i++;};return $d;};this.stringComparer=function(a,b,$v){var $w=($v!=="desc");var $x=$w?-1:1;var $y=-$x;if(a===null&&b===null){return 0;};if(b===null){return $y;};if(a===null){return $x;};var ar=[];ar[0]=a;ar[1]=b;ar.sort();return a===ar[0]?$x:$y;};this.$1T=function(x,y,$s,$z,$A,e){if(!$A){$A=0;};var $B=$z;this.shadow={};this.shadow.list=[];this.shadow.start={x:x,y:y};this.shadow.width=$z;if(this.eventMoveToPosition){$B=1;this.shadow.position=$s;};var $C=y*7+x-$A;if($C<0){$B+=$C;x=0;y=0;};var $D=$A;while($D>=7){y--;$D-=7;};if($D>x){var $E=7-this.$1P();if($D>(x+$E)){y--;x=x+7-$D;}else{$B=$B-$D+x;x=0;}}else{x-=$D;};if(y<0){y=0;x=0;};var $F=null;if(DayPilotMonth.resizingEvent){$F='w-resize';}else if(DayPilotMonth.movingEvent){$F="move";};this.nav.top.style.cursor=$F;while($B>0&&y<this.rows.length){var $G=Math.min(this.$1P()-x,$B);var $n=this.rows[y];var top=this.$1U(y);var $H=$n.getHeight();if(this.eventMoveToPosition){top=this.$1V(y,$s);$H=2;};var $I=document.createElement("div");$I.setAttribute("unselectable","on");$I.style.position='absolute';$I.style.left=(this.$1W()*x)+'%';$I.style.width=(this.$1W()*$G)+'%';$I.style.top=(top)+'px';$I.style.height=($H)+'px';$I.style.cursor=$F;var $J=document.createElement("div");$J.setAttribute("unselectable","on");$I.appendChild($J);if(this.cssOnly){$I.className=this.$1M("_shadow");$J.className=this.$1M("_shadow_inner");};if(!this.cssOnly){$J.style.position="absolute";$J.style.top="0px";$J.style.right="0px";$J.style.left="0px";$J.style.bottom="0px";if(this.shadowType==='Fill'){$J.style.backgroundColor="#aaaaaa";$J.style.opacity=0.5;$J.style.filter="alpha(opacity=50)";if(e&&e.event){$J.style.overflow='hidden';$J.style.fontSize=this.eventFontSize;$J.style.fontFamily=this.eventFontFamily;$J.style.color=this.eventFontColor;$J.innerHTML=e.event.client.innerHTML()?e.event.client.innerHTML():e.event.text();}}else{$J.style.border='2px dotted #666666';}};this.nav.top.appendChild($I);this.shadow.list.push($I);$B-=($G+7-this.$1P());x=0;y++;}};this.$1X=function(){if(this.shadow){for(var i=0;i<this.shadow.list.length;i++){this.nav.top.removeChild(this.shadow.list[i]);};this.shadow=null;this.nav.top.style.cursor='';}};this.$1V=function($n,$s){var top=this.headerHeight;for(var i=0;i<$n;i++){top+=this.rows[i].getHeight();};top+=this.cellHeaderHeight;top+=$s*$K.lineHeight();return top;};this.$1Y=function(x,y){return DayPilot.Date.addDays(this.firstDate,y*7+x);};this.$1S=function(ep,$L){var $L=this.cellMode;var ev=ep.data;var $n=ep.part.row;var $s=ep.part.line;var $o=ep.part.colStart;var $p=ep.part.colWidth;var $M=$L?0:this.$1W()*($o);var $z=$L?100:this.$1W()*($p);var top=$L?$s*$K.lineHeight():this.$1V($n,$s);var e=document.createElement("div");e.setAttribute("unselectable","on");e.style.height=this.eventHeight+'px';if(!this.cssOnly){e.style.fontFamily=this.eventFontFamily;}else{e.style.position="relative";e.style.overflow="hidden";e.className=this.$1M("_event");};if(ep.client.cssClass()){DayPilot.Util.addClass(e,ep.client.cssClass());};e.event=ep;if($L){e.style.marginRight="2px";e.style.marginBottom="2px";}else{e.style.width=$z+'%';e.style.position='absolute';e.style.left=$M+'%';e.style.top=top+'px';};if(this.showToolTip){e.title=ep.client.toolTip();};e.onclick=this.$1Z;;e.ondblclick=this.$20;e.oncontextmenu=this.$21;e.onmousedown=this.$22;e.onmousemove=this.$23;e.onmouseout=this.$24;e.ontouchstart=$N.onEventTouchStart;e.ontouchmove=$N.onEventTouchMove;e.ontouchend=$N.onEventTouchEnd;var back=(ep.client.backColor())?ep.client.backColor():this.eventBackColor;if(!this.cssOnly){var $O=document.createElement("div");$O.setAttribute("unselectable","on");$O.style.height=(this.eventHeight-2)+'px';$O.style.overflow='hidden';$O.style.position="absolute";$O.style.left="2px";$O.style.right="2px";$O.style.paddingLeft='2px';$O.style.border='1px solid '+$c.eventBorderColor;$O.style.backgroundColor=back;$O.style.fontFamily="";$O.className=this.$1M("event");if($K.rounded()){$O.style.MozBorderRadius="5px";$O.style.webkitBorderRadius="5px";$O.style.borderRadius="5px";};var $J=[];var $P=this.eventTextLayer==='Top';var $Q=this.eventStartTime;var $R=this.eventEndTime;var $S=this.eventTextAlignment;var $T=this.eventTextLeftIndent;var $U=this.eventTextLayer==='Floats';if($U){if($Q){$J.push("<div unselectable='on' style='float:left; font-size:");$J.push(this.eventTimeFontSize);$J.push(";color:");$J.push(this.eventTimeFontColor);$J.push(";font-family:");$J.push(this.eventTimeFontFamily);$J.push("'>");$J.push(DayPilot.Date.hours(ep.start().d,$c.timeFormat==='Clock12Hours'));$J.push("</div>");};if($R){$J.push("<div unselectable='on' style='float:right;font-size:");$J.push(this.eventTimeFontSize);$J.push(";color:");$J.push(this.eventTimeFontColor);$J.push(";font-family:");$J.push(this.eventTimeFontFamily);$J.push("'>");$J.push(DayPilot.Date.hours(ep.end().d,$c.timeFormat==='Clock12Hours'));$J.push("</div>");};$J.push("<div unselectable='on' style='");$J.push("font-size:");$J.push(this.eventFontSize);$J.push(";color:");$J.push(this.eventFontColor);$J.push(";font-family:");$J.push(this.eventFontFamily);if($S==='Center'){$J.push(";text-align:center;");};$J.push("'>");if(ep.client.innerHTML()){$J.push(ep.client.innerHTML());}else{$J.push(ep.text());};$J.push("</div>");}else{if($Q){if($S==='Left'){$J.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:");$J.push(this.eventTimeFontSize);$J.push(";color:");$J.push(this.eventTimeFontColor);$J.push(";font-family:");$J.push(this.eventTimeFontFamily);$J.push(";text-align:right;");$J.push("width:");$J.push($T-4);$J.push("px;");$J.push("><span style='background-color:");}else{$J.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:");$J.push(this.eventTimeFontSize);$J.push(";color:");$J.push(this.eventTimeFontColor);$J.push(";font-family:");$J.push(this.eventTimeFontFamily);$J.push(";'><span style='background-color:");};$J.push(back);$J.push("' unselectable='on'>");if(ep.part.startsHere){$J.push(DayPilot.Date.hours(ep.start().d,$c.timeFormat==='Clock12Hours'));}else{$J.push("~");};$J.push("</span></div></div>");};if($R){$J.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:");$J.push(this.eventTimeFontSize);$J.push(";color:");$J.push(this.eventTimeFontColor);$J.push(";font-family:");$J.push(this.eventTimeFontFamily);$J.push(";'><span style='background-color:");$J.push(back);$J.push("' unselectable='on'>");if(ep.part.endsHere){$J.push(DayPilot.Date.hours(ep.end().d,$c.timeFormat==='Clock12Hours'));}else{$J.push("~");};$J.push("</span></div></div>");};if($S==='Left'){var $M=$Q?$T:0;$J.push("<div style='margin-top:0px;height:");$J.push(this.eventHeight-2);$J.push("px;");$J.push(";overflow:hidden;text-align:left;padding-left:");$J.push($M);$J.push("px;font-size:");$J.push(this.eventFontSize);$J.push(";color:");$J.push(this.eventFontColor);$J.push(";font-family:");$J.push(this.eventFontFamily);$J.push("' unselectable='on'>");if(ep.client.innerHTML()){$J.push(ep.client.innerHTML());}else{$J.push(ep.text());};$J.push("</div>");}else if($S==='Center'){if($P){$J.push("<div style='position:absolute; text-align:center; width: 98%; height:1px; font-size: 1px;'>");$J.push("<span style='background-color:");$J.push(back);$J.push(";font-size:");$J.push(this.eventFontSize);$J.push(";color:");$J.push(this.eventFontColor);$J.push(";font-family:");$J.push(this.eventFontFamily);$J.push("' unselectable='on'>");if(ep.client.innerHTML()){$J.push(ep.client.innerHTML());}else{$J.push(ep.text());};$J.push("</span>");$J.push("</div>");}else{$J.push("<div style='margin-top:0px;height:");$J.push(this.eventHeight-2);$J.push("px;");$J.push(";overflow:hidden;text-align:center;font-size:");$J.push(this.eventFontSize);$J.push(";color:");$J.push(this.eventFontColor);$J.push(";font-family:");$J.push(this.eventFontFamily);$J.push("' unselectable='on'>");if(ep.client.innerHTML()){$J.push(ep.client.innerHTML());}else{$J.push(ep.text());};$J.push("</div>");}}};$O.innerHTML=$J.join('');e.appendChild($O);}else{if(!ep.part.startsHere){DayPilot.Util.addClass(e,this.$1M("_event_continueleft"));};if(!ep.part.endsHere){DayPilot.Util.addClass(e,this.$1M("_event_continueright"));};var $O=document.createElement("div");$O.setAttribute("unselectable","on");$O.className=this.$1M("_event_inner");if(ep.client.innerHTML()){$O.innerHTML=ep.client.innerHTML();}else{$O.innerHTML=ep.text();};e.appendChild($O);};if(ep.data.areas){var $V=ep.data.areas;for(var i=0;i<$V.length;i++){var $W=$V[i];if($W.v!=='Visible'){continue;};var a=DayPilot.Areas.createArea(e,ep,$W);e.appendChild(a);}};this.elements.events.push(e);if($L){this.cells[$o][$n].body.appendChild(e);}else{this.nav.events.appendChild(e);};if($c.multiselect.$25(e.event)){$c.multiselect.add(e.event,true);};if($c.afterEventRender){$c.afterEventRender(e.event,e);}};this.$1Z=function(ev){if($N.start){return;};$c.$26(this,ev);};this.$20=function(ev){$c.$27(this,ev);};this.$23=function(ev){var e=this;var ep=e.event;if(typeof(DayPilotMonth)==='undefined'){return;};if(DayPilotMonth.movingEvent||DayPilotMonth.resizingEvent){return;};var $A=DayPilot.mo3(e,ev);if(!$A){return;};DayPilot.Areas.showAreas(e,e.event);if($c.cssOnly){$c.$28(e.event).each(function($r){DayPilot.Util.addClass($r,$c.$1M("_event_hover"));});};var $X=6;if(!$c.cellMode&&$A.x<=$X&&ep.client.resizeEnabled()){if(ep.part.startsHere){e.style.cursor="w-resize";e.dpBorder='left';}else{e.style.cursor='not-allowed';}}else if(!$c.cellMode&&e.clientWidth-$A.x<=$X&&ep.client.resizeEnabled()){if(ep.part.endsHere){e.style.cursor="e-resize";e.dpBorder='right';}else{e.style.cursor='not-allowed';}}else{e.style.cursor='default';};if(typeof(DayPilotBubble)!=='undefined'&&$c.bubble&&$c.eventHoverHandling!=='Disabled'){if(!DayPilotMonth.movingEvent&&!DayPilotMonth.resizingEvent){$c.bubble.showEvent(e.event);}else{DayPilotBubble.hideActive();}}};this.$24=function(ev){var e=this;if(typeof(DayPilotBubble)!=='undefined'&&$c.bubble){$c.bubble.hideOnMouseOut();};e.style.cursor='';if($c.cssOnly){$c.$28(e.event).each(function($r){DayPilot.Util.removeClass($r,$c.$1M("_event_hover"));});};DayPilot.Areas.hideAreas(e,ev);};this.$21=function(){var e=this;$c.$29(e.event);return false;};this.$22=function(ev){if($N.start){return;};var e=this;var ep=e.event;var $n=ep.part.row;var $o=ep.part.colStart;var $s=ep.part.line;var $p=ep.part.colWidth;ev=ev||window.event;var $Y=ev.which||ev.button;ev.cancelBubble=true;if(ev.stopPropagation){ev.stopPropagation();};if($Y===1){if(typeof(DayPilotBubble)!=='undefined'&&$c.bubble){DayPilotBubble.hideActive();};DayPilotMonth.movingEvent=null;if(this.style.cursor==='w-resize'||this.style.cursor==='e-resize'){var $Z={};$Z.start={};$Z.start.x=$o;$Z.start.y=$n;$Z.event=e.event;$Z.width=DayPilot.Date.daysSpan($Z.event.start().d,$Z.event.end().d)+1;$Z.direction=this.style.cursor;DayPilotMonth.resizingEvent=$Z;}else if(this.style.cursor==='move'||ep.client.moveEnabled()){$c.$1X();var $00=DayPilot.mo2($c.nav.top,ev);if(!$00){return;};var $q=$c.$2a($00.x,$00.y);var $C=DayPilot.Date.daysDiff(ep.start(),$c.rows[$n].start);var $A=($q.y*7+$q.x)-($n*7+$o);if($C){$A+=$C;};var $01={};$01.start={};$01.start.x=$o;$01.start.y=$n;$01.start.line=$s;$01.offset=$c.eventMoveToPosition?0:$A;$01.colWidth=$p;$01.event=e.event;$01.coords=$00;DayPilotMonth.movingEvent=$01;}}};this.$2b={};var $N=$c.$2b;$N.active=false;$N.start=false;$N.timeouts=[];$N.onEventTouchStart=function(ev){if($N.active||$N.start){return;};$N.clearTimeouts();$N.start=true;$N.active=false;var $r=this;var $02=500;$N.timeouts.push(window.setTimeout(function(){$N.active=true;$N.start=false;var $00=$N.relativeCoords(ev);$N.startMoving($r,$00);ev.preventDefault();},$02));ev.stopPropagation();};$N.onEventTouchMove=function(ev){$N.clearTimeouts();$N.start=false;};$N.onEventTouchEnd=function(ev){$N.clearTimeouts();if($N.start){$c.$2c(this,false);};window.setTimeout(function(){$N.start=false;$N.active=false;},500);};$N.onMainTouchStart=function(ev){if($N.active||$N.start){return;};$N.clearTimeouts();$N.start=true;$N.active=false;var $02=500;$N.timeouts.push(window.setTimeout(function(){$N.active=true;$N.start=false;ev.preventDefault();var $00=$N.relativeCoords(ev);$N.startRange($00);},$02));};$N.onMainTouchMove=function(ev){$N.clearTimeouts();$N.start=false;if($N.active){ev.preventDefault();var $00=$N.relativeCoords(ev);if($N.moving){$N.updateMoving($00);return;};if($N.range){$N.updateRange($00);}}};$N.onMainTouchEnd=function(ev){$N.clearTimeouts();if($N.active){if($N.moving){var $03=$N.moving;var e=$N.moving.event;var $04=$c.shadow.start;var $05=$c.shadow.position;var $A=$N.moving.offset;$c.$1X();$N.moving=null;$c.$2d(e,$04.x,$04.y,$A,ev,$05);};if($N.range){var $06=$N.range;var $04=new DayPilot.Date($c.$1Y($06.from.x,$06.from.y));var end=$04.addDays($06.width);$N.range=null;$c.$2e($04,end);}};window.setTimeout(function(){$N.start=false;$N.active=false;},500);};$N.clearTimeouts=function(){for(var i=0;i<$N.timeouts.length;i++){clearTimeout($N.timeouts[i]);};$N.timeouts=[];};$N.relativeCoords=function(ev){var $07=$c.nav.top;var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $00={x:x,y:y};var $08=DayPilot.abs($07);var $00={x:x-$08.x,y:y-$08.y,toString:function(){return "x: "+this.x+", y:"+this.y;}};return $00;};$N.startMoving=function($r,$00){$c.$1X();ep=$r.event;var $q=$c.$2a($00.x,$00.y);var $C=DayPilot.Date.daysDiff(ep.start(),$c.rows[ep.part.row].start);var $A=($q.y*7+$q.x)-(ep.part.row*7+ep.part.colStart);if($C){$A+=$C;};var $01={};$01.start={};$01.start.x=ep.part.colStart;$01.start.y=ep.part.row;$01.start.line=ep.part.line;$01.offset=$c.eventMoveToPosition?0:$A;$01.colWidth=ep.part.colWidth;$01.event=ep;$01.coords=$00;$N.moving=$01;$N.updateMoving($00);};$N.updateMoving=function($00){var $q=$c.$2a($00.x,$00.y);var $09=$c.$2f($q);$c.$1X();var event=$N.moving.event;var $A=$N.moving.offset;var $z=$c.cellMode?1:DayPilot.Date.daysSpan(event.start().d,event.end().d)+1;if($z<1){$z=1;};$c.$1T($q.x,$q.y,$09,$z,$A,event);};$N.startRange=function($00){$c.$1X();var $q=$c.$2a($00.x,$00.y);var $0a={};$0a.start={};$0a.start.x=$q.x;$0a.start.y=$q.y;$0a.x=$q.x;$0a.y=$q.y;$0a.width=1;$N.range=$0a;$N.updateRange($00);};$N.updateRange=function($00){$c.$1X();var $04=$N.range.start;var $q=$c.$2a($00.x,$00.y);var $0b=$04.y*7+$04.x;var $0c=$q.y*7+$q.x;var $z=Math.abs($0c-$0b)+1;if($z<1){$z=1;};var $0d=$0b<$0c?$04:$q;$N.range.width=$z;$N.range.from={x:$0d.x,y:$0d.y};$c.$1T($0d.x,$0d.y,0,$z,0,null);};this.isWeekend=function($0e){var $0f=0;var $0g=6;if($0e.dayOfWeek()===$0f){return true;};if($0e.dayOfWeek()===$0g){return true;};return false;};this.$2g=function(){var $0h=this.startDate.lastDayOfMonth();if(this.showWeekend){return $0h;}while(this.isWeekend($0h)){$0h=$0h.addDays(-1);};return $0h;};this.$1E=function(){if(typeof this.startDate==='string'){this.startDate=DayPilot.Date.fromStringSortable(this.startDate);};if(this.viewType==='Month'){this.startDate=this.startDate.firstDayOfMonth();}else{this.startDate=this.startDate.getDatePart();};this.firstDate=this.startDate.firstDayOfWeek($K.getWeekStart());if(!this.showWeekend){var $0i=this.startDate.addMonths(-1).getMonth();var $0j=new DayPilot.Date(this.firstDate).addDays(6);while(this.isWeekend($0j)){$0j=$0j.addDays(-1);};if($0j.getMonth()===$0i){this.firstDate=DayPilot.Date.addDays(this.firstDate,7);}};var $0k=this.startDate;var $0l;if(this.viewType==='Month'){var $0m=this.$2g().d;var $0n=DayPilot.Date.daysDiff(this.firstDate,$0m)+1;$0l=Math.ceil($0n/7);}else{$0l=this.weeks;};this.days=$0l*7;this.rows=[];for(var x=0;x<$0l;x++){var r={};r.start=DayPilot.Date.addDays(this.firstDate,x*7);r.end=DayPilot.Date.addDays(r.start,this.$1P());r.events=[];r.lines=[];r.index=x;r.minHeight=this.cellHeight;r.calendar=this;r.belongsHere=function(ev){if(ev.end.getTime()===ev.start.getTime()&&ev.start.getTime()===this.start.getTime()){return true;};return !(ev.end.getTime()<=this.start.getTime()||ev.start.getTime()>=this.end.getTime());};r.getPartStart=function(ep){return DayPilot.Date.max(this.start,ep.start());};r.getPartEnd=function(ep){return DayPilot.Date.min(this.end,ep.end());};r.getStartColumn=function(ep){var $0o=this.getPartStart(ep);return DayPilot.Date.daysDiff(this.start,$0o);};r.getWidth=function(ep){return DayPilot.Date.daysSpan(this.getPartStart(ep),this.getPartEnd(ep))+1;};r.putIntoLine=function(ep,$o,$p,$n){var $0p=this;for(var i=0;i<this.lines.length;i++){var $s=this.lines[i];if($s.isFree($o,$p)){$s.addEvent(ep,$o,$p,$n,i);return i;}};var $s=[];$s.isFree=function($o,$p){var $0q=true;for(var i=0;i<this.length;i++){var ep=this[i];if(!($o+$p-1<ep.part.colStart||$o>ep.part.colStart+ep.part.colWidth-1)){$0q=false;}};return $0q;};$s.addEvent=function(ep,$o,$p,$n,$0r){ep.part.colStart=$o;ep.part.colWidth=$p;ep.part.row=$n;ep.part.line=$0r;ep.part.startsHere=$0p.start.getTime()<=ep.start().getTime();ep.part.endsHere=$0p.end.getTime()>=ep.end().getTime();this.push(ep);};$s.addEvent(ep,$o,$p,$n,this.lines.length);this.lines.push($s);return this.lines.length-1;};r.getStart=function(){var $04=0;for(var i=0;i<$c.rows.length&&i<this.index;i++){$04+=$c.rows[i].getHeight();}};r.getHeight=function(){return Math.max(this.lines.length*$K.lineHeight()+$c.cellHeaderHeight+$c.cellMarginBottom,this.calendar.cellHeight);};this.rows.push(r);};this.endDate=DayPilot.Date.addDays(this.firstDate,$0l*7);};this.$2h=function(){var $H=this.headerHeight;for(var i=0;i<this.rows.length;i++){$H+=this.rows[i].getHeight();};return $H;};this.$2i=function($04,end){var $0s=(end.y*7+end.x)-($04.y*7+$04.x);return $0s+1;};this.$2j=function(){var $0t=this.nav.top;this.nav.top.dp=this;$0t.setAttribute("unselectable","on");$0t.style.MozUserSelect='none';$0t.style.KhtmlUserSelect='none';$0t.style.WebkitUserSelect='none';$0t.style.position='relative';if(this.width){$0t.style.width=this.width;};$0t.style.height=this.$2h()+'px';$0t.onselectstart=function(e){return false;};if(this.cssOnly){$0t.className=this.$1M("_main");}else{$0t.style.border="1px solid "+this.borderColor;};if(this.hideUntilInit){$0t.style.visibility='hidden';};var $0u=document.createElement("div");this.nav.cells=$0u;$0u.style.position="absolute";$0u.style.left="0px";$0u.style.right="0px";$0u.setAttribute("unselectable","on");$0t.appendChild($0u);var $0v=document.createElement("div");this.nav.events=$0v;$0v.style.position="absolute";$0v.style.left="0px";$0v.style.right="0px";$0v.setAttribute("unselectable","on");$0t.appendChild($0v);$0t.onmousemove=this.$2k;$0t.ontouchstart=$N.onMainTouchStart;$0t.ontouchmove=$N.onMainTouchMove;$0t.ontouchend=$N.onMainTouchEnd;this.vsph=document.createElement("div");this.vsph.style.display='none';this.nav.top.appendChild(this.vsph);};this.$2k=function(ev){if(DayPilotMonth.resizingEvent){var $00=DayPilot.mo2($c.nav.top,ev);if(!$00){return;};var $q=$c.$2a($00.x,$00.y);$c.$1X();var $Z=DayPilotMonth.resizingEvent;var $0w=$Z.start;var $z,$04;if($Z.direction==='w-resize'){$04=$q;var $0x=$Z.event.end().d;if(DayPilot.Date.getDate($0x).getTime()===$0x.getTime()){$0x=DayPilot.Date.addDays($0x,-1);};var end=$c.$2l($0x);$z=$c.$2i($q,end);}else{$04=$c.$2l($Z.event.start().d);$z=$c.$2i($04,$q);};if($z<1){$z=1;};$c.$1T($04.x,$04.y,0,$z);}else if(DayPilotMonth.movingEvent){var $00=DayPilot.mo2($c.nav.top,ev);if(!$00){return;};if($00.x===DayPilotMonth.movingEvent.coords.x&&$00.y===DayPilotMonth.movingEvent.coords.y){return;};var $q=$c.$2a($00.x,$00.y);var $09=$c.$2f($q);$c.$1X();var event=DayPilotMonth.movingEvent.event;var $A=DayPilotMonth.movingEvent.offset;var $z=$c.cellMode?1:DayPilot.Date.daysSpan(event.start().d,event.end().d)+1;if($z<1){$z=1;};$c.$1T($q.x,$q.y,$09,$z,$A,event);}else if(DayPilotMonth.timeRangeSelecting){var $00=DayPilot.mo2($c.nav.top,ev);if(!$00){return;};DayPilotMonth.cancelCellClick=true;var $q=$c.$2a($00.x,$00.y);$c.$1X();var $04=DayPilotMonth.timeRangeSelecting;var $0b=$04.y*7+$04.x;var $0c=$q.y*7+$q.x;var $z=Math.abs($0c-$0b)+1;if($z<1){$z=1;};var $0d=$0b<$0c?$04:$q;DayPilotMonth.timeRangeSelecting.from={x:$0d.x,y:$0d.y};DayPilotMonth.timeRangeSelecting.width=$z;DayPilotMonth.timeRangeSelecting.moved=true;$c.$1T($0d.x,$0d.y,0,$z,0,null);}};this.$2f=function($q){var y=$q.relativeY;var $n=$c.rows[$q.y];var top=$c.cellHeaderHeight;var lh=$K.lineHeight();var $0y=$n.lines.length;for(var i=0;i<$n.lines.length;i++){var $s=$n.lines[i];if($s.isFree($q.x,1)){$0y=i;break;}};var $0z=Math.floor((y-top+lh/ 2)/ lh);var $0z=Math.min($0y,$0z);var $0z=Math.max(0,$0z);return $0z;};this.message=function($0A,$0B,$0C,$0D){if($0A===null){return;};var $0B=$0B||this.messageHideAfter||2000;var $0C=$0C||"#ffffff";var $0D=$0D||"#000000";var $0E=0.8;var top=this.headerHeight;var $M=1;var $0F=0;var $r;if(!this.nav.message){$r=document.createElement("div");$r.setAttribute("unselectable","on");$r.style.position="absolute";$r.style.right="0px";$r.style.left="0px";$r.style.top=top+"px";$r.style.opacity=$0E;$r.style.filter="alpha(opacity="+($0E*100)+")";$r.style.display='none';if(!this.cssOnly){$r.style.textAlign="left";};var $O=document.createElement("div");$O.setAttribute("unselectable","on");$O.onclick=function(){$c.nav.message.style.display='none';};if(!this.cssOnly){$O.style.padding="5px";}else{$O.className=this.$1M("_message");};$r.appendChild($O);var close=document.createElement("div");close.setAttribute("unselectable","on");close.style.position="absolute";if(!this.cssOnly){close.style.top="5px";close.style.right=(DayPilot.sw($c.nav.scroll)+5)+"px";close.style.color=$0C;close.style.lineHeight="100%";close.style.cursor="pointer";close.style.fontWeight="bold";close.innerHTML="X";}else{close.className=this.$1M("_message_close");};close.onclick=function(){$c.nav.message.style.display='none';};$r.appendChild(close);this.nav.top.appendChild($r);this.nav.message=$r;};var $0G=function(){$c.nav.message.style.opacity=$0E;var $O=$c.nav.message.firstChild;if(!$c.cssOnly){$O.style.backgroundColor=$0D;$O.style.color=$0C;};$O.innerHTML=$0A;var end=function(){$c.messageTimeout=setTimeout($c.$2m,$0B);};DayPilot.fade($c.nav.message,0.2,end);};if(this.nav.message.style.display!=='none'){clearTimeout($c.messageTimeout);DayPilot.fade($c.nav.message,-0.2,$0G);}else{$0G();}};this.message.show=function($0A){$c.message($0A);};this.message.hide=function(){$c.$2m();};this.$2m=function(){var end=function(){$c.nav.message.style.display='none';};DayPilot.fade($c.nav.message,-0.2,end);};this.$1I=function(){this.nav.top.style.height=this.$2h()+'px';for(var x=0;x<this.cells.length;x++){for(var y=0;y<this.cells[x].length;y++){this.cells[x][y].style.top=this.$1U(y)+'px';this.cells[x][y].style.height=this.rows[y].getHeight()+'px';}}};this.$2a=function(x,y){var $0H=Math.floor(this.nav.top.clientWidth/this.$1P());var $0I=Math.min(Math.floor(x/$0H),this.$1P()-1);var $n=null;var $H=this.headerHeight;var $0J=0;for(var i=0;i<this.rows.length;i++){var $0K=$H;$H+=this.rows[i].getHeight();if(y<$H){$0J=y-$0K;$n=i;break;}};if($n===null){$n=this.rows.length-1;};var $q={};$q.x=$0I;$q.y=$n;$q.relativeY=$0J;return $q;};this.$2l=function($0e){var $z=DayPilot.Date.daysDiff(this.firstDate,$0e);var $q={x:0,y:0};while($z>=7){$q.y++;$z-=7;};$q.x=$z;return $q;};this.$1H=function(){var $0L=document.createElement("div");$0L.oncontextmenu=function(){return false;};this.nav.cells.appendChild($0L);this.cells=[];for(var x=0;x<this.$1P();x++){this.cells[x]=[];var $0M=this.headerProperties?this.headerProperties[x]:null;var $0N=document.createElement("div");$0N.setAttribute("unselectable","on");$0N.style.position='absolute';$0N.style.left=(this.$1W()*x)+'%';$0N.style.width=(this.$1W())+'%';$0N.style.top='0px';$0N.style.height=(this.headerHeight)+'px';var $0O=x+$K.getWeekStart();if($0O>6){$0O-=7;};(function(x){$0N.onclick=function(){$c.$2n(x);};})($0O);var $O=document.createElement("div");$O.setAttribute("unselectable","on");$O.className=this.$1M("_header_inner");$O.innerHTML=$0M?$0M.InnerHTML:$K.locale().dayNames[$0O];$0N.appendChild($O);if(!this.cssOnly){$O.style.position="absolute";$O.style.top="0px";$O.style.bottom="0px";$O.style.left="0px";$O.style.right="0px";$O.style.backgroundColor=$0M?$0M.BackColor:this.headerBackColor;$O.style.fontFamily=this.headerFontFamily;$O.style.fontSize=this.headerFontSize;$O.style.color=this.headerFontColor;$O.style.textAlign='center';$O.style.cursor='default';$O.className=this.$1M("header");if(x!==this.$1P()-1){$O.style.borderRight='1px solid '+this.borderColor;};$O.innerHTML=$0M?$0M.InnerHTML:$K.locale().dayNames[$0O];}else{$0N.className=this.$1M("_header");};$0L.appendChild($0N);for(var y=0;y<this.rows.length;y++){this.$2o(x,y,$0L);}};var $r=document.createElement("div");$r.style.position='absolute';$r.style.padding='2px';$r.style.top='0px';$r.style.left='0px';$r.style.backgroundColor="#FF6600";$r.style.color="white";$r.innerHTML="\u0044\u0045\u004D\u004F";if(this.numberFormat)this.nav.top.appendChild($r);};this.$1G=function(){for(var x=0;x<this.cells.length;x++){for(var y=0;y<this.cells[x].length;y++){this.cells[x][y].onclick=null;}};this.nav.cells.innerHTML='';};this.$2o=function(x,y,$0L){var $n=this.rows[y];var d=DayPilot.Date.addDays(this.firstDate,y*7+x);var $0P=this.cellProperties?this.cellProperties[y*this.$1P()+x]:null;var $q=document.createElement("div");$q.setAttribute("unselectable","on");$q.style.position='absolute';$q.style.cursor='default';$q.style.left=(this.$1W()*x)+'%';$q.style.width=(this.$1W())+'%';$q.style.top=(this.$1U(y))+'px';$q.style.height=($n.getHeight())+'px';$q.d=d;$q.x=x;$q.y=y;$q.properties=$0P;var $0i=this.startDate.addMonths(-1).getMonth();var $0Q=this.startDate.addMonths(1).getMonth();var $0R=this.startDate.getMonth();var $O=document.createElement("div");$O.setAttribute("unselectable","on");$q.appendChild($O);if(this.cssOnly){$O.className=this.$1M("_cell_inner");};if(!this.cssOnly){$O.style.position="absolute";$O.style.left="0px";$O.style.right="0px";$O.style.top="0px";$O.style.bottom="0px";if(d.getUTCMonth()===$0R){$q.className=this.$1M("cell");}else if(d.getUTCMonth()===$0i){$q.className=this.$1M("cell")+" "+this.$1M("previous");}else if(d.getUTCMonth()===$0Q){$q.className=this.$1M("cell")+" "+this.$1M("next");};if($0P){$O.style.backgroundColor=$0P["BackColor"];$O.className+=" "+this.$1M($0P["CssClass"]);if($0P["BackImage"]){$O.style.backgroundImage="url('"+$0P["BackImage"]+"')";};if($0P["BackRepeat"]){$O.style.backgroundRepeat=$0P["BackRepeat"];}}else{$O.style.backgroundColor=this.$2p(d);};if(x!==this.$1P()-1){$O.style.borderRight='1px solid '+this.innerBorderColor;};if(y===0){$O.style.borderTop='1px solid '+this.borderColor;};$O.style.borderBottom='1px solid '+this.innerBorderColor;}else{$O.className=this.$1M("_cell_inner");if(d.getUTCMonth()===$0R){$q.className=this.$1M("_cell");}else if(d.getUTCMonth()===$0i){$q.className=this.$1M("_cell")+" "+this.$1M("_previous");}else if(d.getUTCMonth()===$0Q){$q.className=this.$1M("_cell")+" "+this.$1M("_next");}else{$a();};if($0P){if($0P["CssClass"]){DayPilot.Util.addClass($q,$0P.CssClass);};if($0P["BackColor"]){$O.style.backgroundColor=$0P["BackColor"];};if($0P["BackImage"]){$O.style.backgroundImage="url('"+$0P["BackImage"]+"')";};if($0P["BackRepeat"]){$O.style.backgroundRepeat=$0P["BackRepeat"];}}};$q.onmousedown=this.$2q;$q.onmousemove=this.$2r;$q.onmouseout=this.$2s;$q.oncontextmenu=this.$2t;$q.onclick=this.$2u;$q.ondblclick=this.$2v;var $0S=document.createElement("div");$0S.setAttribute("unselectable","on");$0S.style.height=this.cellHeaderHeight+"px";if(!this.cssOnly){if($0P&&$0P["HeaderBackColor"]){$0S.style.backgroundColor=$0P["HeaderBackColor"];}else if(this.cellHeaderBackColor){$0S.style.backgroundColor=this.cellHeaderBackColor;};$0S.style.paddingRight='2px';$0S.style.textAlign="right";$0S.style.fontFamily=this.cellHeaderFontFamily;$0S.style.fontSize=this.cellHeaderFontSize;$0S.style.color=this.cellHeaderFontColor;$0S.className=this.$1M("cellheader");}else{$0S.className=this.$1M("_cell_header");};if($0P){$0S.innerHTML=$0P["HeaderText"];}else{var $0e=d.getUTCDate();if($0e===1){$0S.innerHTML=$K.locale().monthNames[d.getUTCMonth()]+' '+$0e;}else{$0S.innerHTML=$0e;}};$O.appendChild($0S);if($0P&&$0P["HTML"]){var $0A=document.createElement("div");$0A.setAttribute("unselectable","on");$0A.style.height=($n.getHeight()-this.cellHeaderHeight)+'px';$0A.style.overflow='hidden';$0A.innerHTML=$0P["HTML"];$O.appendChild($0A);};if(this.cellMode){var $0T=document.createElement("div");$0T.setAttribute("unselectable","on");$0T.style.height=(this.cellHeight-this.cellHeaderHeight)+"px";$0T.style.overflow='auto';$0T.style.position='relative';var $J=document.createElement('div');$J.setAttribute("unselectable","on");$J.style.paddingTop="1px";$J.style.paddingBottom="1px";$0T.appendChild($J);$O.appendChild($0T);$q.body=$J;$q.scrolling=$0T;};var $0U=false;if($0U){if(!$q.properties){$q.properties={};};$q.properties.areas=[{"w":17,"h":17,"v":"Visible","js":"alert('static area');","action":"JavaScript","right":16,"css":"event_action_menu","top":2},{"w":17,"h":17,"v":"Hover","js":"alert('hover area');","action":"JavaScript","right":36,"css":"event_action_menu","top":2}];};if($q.properties){var $V=$q.properties.areas||[];for(var i=0;i<$V.length;i++){var $W=$V[i];if($W.v!=='Visible'){continue;};var a=DayPilot.Areas.createArea($q,$q.properties,$W);$q.appendChild(a);}};this.cells[x][y]=$q;$0L.appendChild($q);};this.$2r=function(){var c=this;if(c.properties){DayPilot.Areas.showAreas(c,c.properties);}};this.$2s=function(ev){var c=this;if(c.properties){DayPilot.Areas.hideAreas(c,ev);}};this.$2t=function(){var d=this.d;var go=function(d){var $04=new DayPilot.Date(d);var end=$04.addDays(1);var $0V=new DayPilot.Selection($04,end,null,$c);if($c.contextMenuSelection){$c.contextMenuSelection.show($0V);}};go(d);};this.$2v=function(){var d=this.d;if($c.timeouts){for(var $0W in $c.timeouts){window.clearTimeout($c.timeouts[$0W]);};$c.timeouts=null;};if($c.timeRangeDoubleClickHandling!=='Disabled'){var $04=new DayPilot.Date(d);var end=$04.addDays(1);$c.$2w($04,end);}};this.$2u=function(){if(DayPilotMonth.cancelCellClick){return;};var d=this.d;var $0X=function(d){var $04=new DayPilot.Date(d);var end=$04.addDays(1);$c.$2e($04,end);};if($c.timeRangeSelectedHandling!=='Disabled'&&$c.timeRangeDoubleClickHandling==='Disabled'){$0X(d);return;};if(!$c.timeouts){$c.timeouts=[];};var $0Y=function(d){return function(){$0X(d);};};$c.timeouts.push(window.setTimeout($0Y(d),300));};this.$2q=function(e){var $q=this;var x=$q.x;var y=$q.y;DayPilotMonth.cancelCellClick=false;if($q.scrolling){var $A=DayPilot.mo3($q.scrolling,e);var sw=DayPilot.sw($q.scrolling);var $z=$q.scrolling.offsetWidth;if($A.x>$z-sw){return;}};if($c.timeRangeSelectedHandling!=='Disabled'){$c.$1X();DayPilotMonth.timeRangeSelecting={"root":$c,"x":x,"y":y,"from":{x:x,y:y},"width":1};}};this.$1P=function(){if(this.showWeekend){return 7;}else{return 5;}};this.$1W=function(){if(this.showWeekend){return 14.285;}else{return 20;}};this.$2p=function(d){if(d.getUTCDay()===6||d.getUTCDay()===0){return this.nonBusinessBackColor;};return this.backColor;};this.$1U=function($0r){var top=this.headerHeight;for(var i=0;i<$0r;i++){top+=this.rows[i].getHeight();};return top;};this.clearSelection=function(){this.$1X();};this.$2x=function($0Z,$i,$10){var $11={};$11.action=$0Z;$11.parameters=$10;$11.data=$i;$11.header=this.$2y();var $12="JSON"+DayPilot.JSON.stringify($11);__doPostBack($c.uniqueID,$12);};this.$2z=function($0Z,$10,$i,$13){if(typeof $13==='undefined'){$13="CallBack";};var $11={};$11.action=$0Z;$11.type=$13;$11.parameters=$10;$11.data=$i;$11.header=this.$2y();var $12="JSON"+DayPilot.JSON.stringify($11);if(this.backendUrl){DayPilot.request(this.backendUrl,this.$2A,$12,this.ajaxError);}else{WebForm_DoCallback(this.uniqueID,$12,this.$1A,null,this.callbackError,true);}};this.$2A=function($14){$c.$1A($14.responseText);};this.$2y=function(){var h={};h.v=this.v;h.control="dpm";h.id=this.id;h.visibleStart=new DayPilot.Date(this.firstDate);h.visibleEnd=h.visibleStart.addDays(this.days);h.clientState=this.clientState;h.cssOnly=$c.cssOnly;h.cssClassPrefix=$c.cssClassPrefix;h.startDate=$c.startDate;h.showWeekend=this.showWeekend;h.headerBackColor=this.headerBackColor;h.backColor=this.backColor;h.nonBusinessBackColor=this.nonBusinessBackColor;h.locale=this.locale;h.timeFormat=this.timeFormat;h.weekStarts=this.weekStarts;h.viewType=this.viewType;h.weeks=this.weeks;h.selected=$c.multiselect.events();h.hashes=$c.hashes;return h;};this.$2B=function($13,$0Z,$15,$i){if($13==='PostBack'){$c.postBack2($0Z,$15,$i);}else if($13==='CallBack'){$c.$2z($0Z,$15,$i,"CallBack");}else if($13==='Immediate'){$c.$2z($0Z,$15,$i,"Notify");}else if($13==='Queue'){$c.queue.add(new DayPilot.Action(this,$0Z,$15,$i));}else if($13==='Notify'){if($K.notifyType()==='Notify'){$c.$2z($0Z,$15,$i,"Notify");}else{$c.queue.add(new DayPilot.Action($c,$0Z,$15,$i));}}else{throw "Invalid event invocation type";}};this.$2C=function($16,$g){var $f=$c.$2D($g);var $15={};$15.args=$16;$15.guid=$f;$c.$2z("Bubble",$15);};this.$2D=function($g){var $f=DayPilot.guid();if(!this.bubbles){this.bubbles=[];};this.bubbles[$f]=$g;return $f;};this.eventClickPostBack=function(e,$i){this.$2x("EventClick",$i,e);};this.eventClickCallBack=function(e,$i){this.$2z('EventClick',e,$i);};this.$26=function($r,e){DayPilotMonth.movingEvent=null;DayPilotMonth.resizingEvent=null;var e=e||window.event;var $17=e.ctrlKey;e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();};if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if($c.eventDoubleClickHandling==='Disabled'){$c.$2c($r,$17);return;};if(!$c.timeouts){$c.timeouts=[];}else{for(var $0W in $c.timeouts){window.clearTimeout($c.timeouts[$0W]);};$c.timeouts=[];};var $18=function($r,$17){return function(){$c.$2c($r,$17);};};$c.timeouts.push(window.setTimeout($18($r,$17),300));};this.$2c=function($r,$17){var e=$r.event;if(!e.client.clickEnabled()){return;};switch($c.eventClickHandling){case 'PostBack':$c.eventClickPostBack(e);break;case 'CallBack':$c.eventClickCallBack(e);break;case 'JavaScript':$c.onEventClick(e);break;case 'Select':$c.$2E($r,e,$17);break;case 'ContextMenu':var $19=e.client.contextMenu();if($19){$19.show(e);}else{if($c.contextMenu){$c.contextMenu.show(e);}};break;}};this.eventDoubleClickPostBack=function(e,$i){this.$2x('EventDoubleClick',$i,e);};this.eventDoubleClickCallBack=function(e,$i){this.$2z('EventDoubleClick',e,$i);};this.$27=function($r,ev){if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if($c.timeouts){for(var $0W in $c.timeouts){window.clearTimeout($c.timeouts[$0W]);};$c.timeouts=null;};var e=$r.event;switch($c.eventDoubleClickHandling){case 'PostBack':$c.eventDoubleClickPostBack(e);break;case 'CallBack':$c.eventDoubleClickCallBack(e);break;case 'JavaScript':$c.onEventDoubleClick(e);break;case 'Select':$c.$2E($r,e);break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;}};this.$2E=function($r,e,$17){var m=$c.multiselect;m.previous=m.events();m.$2F($r,$17);var $1a=m.isSelected(e)?"selected":"deselected";$c.$2G(e,$1a);};this.eventSelectPostBack=function(e,$1a,$i){var $15={};$15.e=e;$15.change=$1a;this.$2x('EventSelect',$i,$15);};this.eventSelectCallBack=function(e,$1a,$i){var $15={};$15.e=e;$15.change=$1a;this.$2z('EventSelect',$15,$i);};this.$2G=function(e,$1a){switch($c.eventSelectHandling){case 'PostBack':$c.eventSelectPostBack(e,$1a);break;case 'CallBack':__theFormPostData="";__theFormPostCollection=[];if(WebForm_InitCallback){WebForm_InitCallback();};$c.eventSelectCallBack(e,$1a);break;case 'JavaScript':$c.onEventSelect(e,$1a);break;}};this.eventRightClickPostBack=function(e,$i){this.$2x("EventRightClick",$i,e);};this.eventRightClickCallBack=function(e,$i){this.$2z('EventRightClick',e,$i);};this.$29=function(e){this.event=e;if(!e.client.rightClickEnabled()){return false;};switch($c.eventRightClickHandling){case 'PostBack':$c.eventRightClickPostBack(e);break;case 'CallBack':$c.eventRightClickCallBack(e);break;case 'JavaScript':$c.onEventRightClick(e);break;case 'ContextMenu':var $19=e.client.contextMenu();if($19){$19.show(e);}else{if($c.contextMenu){$c.contextMenu.show(e);}};break;};return false;};this.eventMenuClickPostBack=function(e,$1b,$i){var $15={};$15.e=e;$15.command=$1b;this.$2x('EventMenuClick',$i,$15);};this.eventMenuClickCallBack=function(e,$1b,$i){var $15={};$15.e=e;$15.command=$1b;this.$2z('EventMenuClick',$15,$i);};this.$2H=function($1b,e,$1c){switch($1c){case 'PostBack':$c.eventMenuClickPostBack(e,$1b);break;case 'CallBack':$c.eventMenuClickCallBack(e,$1b);break;}};this.eventMovePostBack=function(e,$1d,$1e,$i,$05){if(!$1d)throw 'newStart is null';if(!$1e)throw 'newEnd is null';var $15={};$15.e=e;$15.newStart=$1d;$15.newEnd=$1e;$15.position=$05;this.$2x('EventMove',$i,$15);};this.eventMoveCallBack=function(e,$1d,$1e,$i,$05){if(!$1d)throw 'newStart is null';if(!$1e)throw 'newEnd is null';var $15={};$15.e=e;$15.newStart=$1d;$15.newEnd=$1e;$15.position=$05;this.$2z('EventMove',$15,$i);};this.$2d=function(e,x,y,$A,ev,$05){var $1f=DayPilot.Date.getTime(e.start().d);var $0x=DayPilot.Date.getDate(e.end().d);if($0x.getTime()!==e.end().d.getTime()){$0x=DayPilot.Date.addDays($0x,1);};var $1g=DayPilot.Date.diff(e.end().d,$0x);var $1h=this.$1Y(x,y);$1h=DayPilot.Date.addDays($1h,-$A);var $z=DayPilot.Date.daysSpan(e.start().d,e.end().d)+1;var $1i=DayPilot.Date.addDays($1h,$z);var $1d=new DayPilot.Date(DayPilot.Date.addTime($1h,$1f));var $1e=new DayPilot.Date(DayPilot.Date.addTime($1i,$1g));switch($c.eventMoveHandling){case 'PostBack':$c.eventMovePostBack(e,$1d,$1e,null,$05);break;case 'CallBack':$c.eventMoveCallBack(e,$1d,$1e,null,$05);break;case 'JavaScript':$c.onEventMove(e,$1d,$1e,ev.ctrlKey,ev.shiftKey,$05);break;case 'Notify':$c.eventMoveNotify(e,$1d,$1e,null,$05);break;}};this.eventMoveNotify=function(e,$1d,$1e,$i,$s){var $1j=new DayPilot.Event(e.copy(),this);e.start($1d);e.end($1e);e.commit();$c.update();this.$2I("Notify",$1j,$1d,$1e,$i,$s);};this.$2I=function($13,e,$1d,$1e,$i,$s){var $15={};$15.e=e;$15.newStart=$1d;$15.newEnd=$1e;$15.position=$s;this.$2B($13,"EventMove",$15,$i);};this.eventResizePostBack=function(e,$1d,$1e,$i){if(!$1d)throw 'newStart is null';if(!$1e)throw 'newEnd is null';var $15={};$15.e=e;$15.newStart=$1d;$15.newEnd=$1e;this.$2x('EventResize',$i,$15);};this.eventResizeCallBack=function(e,$1d,$1e,$i){if(!$1d)throw 'newStart is null';if(!$1e)throw 'newEnd is null';var $15={};$15.e=e;$15.newStart=$1d;$15.newEnd=$1e;this.$2z('EventResize',$15,$i);};this.$2J=function(e,$04,$z){var $1f=DayPilot.Date.getTime(e.start().d);var $0x=DayPilot.Date.getDate(e.end().d);if(!DayPilot.Date.equals($0x,e.end().d)){$0x=DayPilot.Date.addDays($0x,1);};var $1g=DayPilot.Date.diff(e.end().d,$0x);var $1h=this.$1Y($04.x,$04.y);var $1i=DayPilot.Date.addDays($1h,$z);var $1d=new DayPilot.Date(DayPilot.Date.addTime($1h,$1f));var $1e=new DayPilot.Date(DayPilot.Date.addTime($1i,$1g));switch($c.eventResizeHandling){case 'PostBack':$c.eventResizePostBack(e,$1d,$1e);break;case 'CallBack':$c.eventResizeCallBack(e,$1d,$1e);break;case 'JavaScript':$c.onEventResize(e,$1d,$1e);break;case 'Notify':$c.eventResizeNotify(e,$1d,$1e);break;}};this.eventResizeNotify=function(e,$1d,$1e,$i){var $1j=new DayPilot.Event(e.copy(),this);e.start($1d);e.end($1e);e.commit();$c.update();this.$2K("Notify",$1j,$1d,$1e,$i);};this.$2K=function($13,e,$1d,$1e,$i){var $15={};$15.e=e;$15.newStart=$1d;$15.newEnd=$1e;this.$2B($13,"EventResize",$15,$i);};this.timeRangeSelectedPostBack=function($04,end,$i){var $0a={};$0a.start=$04;$0a.end=end;this.$2x('TimeRangeSelected',$i,$0a);};this.timeRangeSelectedCallBack=function($04,end,$i){var $0a={};$0a.start=$04;$0a.end=end;this.$2z('TimeRangeSelected',$0a,$i);};this.$2e=function($04,end){switch($c.timeRangeSelectedHandling){case 'PostBack':$c.timeRangeSelectedPostBack($04,end);$c.clearSelection();break;case 'CallBack':$c.timeRangeSelectedCallBack($04,end);$c.clearSelection();break;case 'JavaScript':$c.onTimeRangeSelected($04,end);break;}};this.timeRangeMenuClickPostBack=function(e,$1b,$i){var $15={};$15.selection=e;$15.command=$1b;this.$2x("TimeRangeMenuClick",$i,$15);};this.timeRangeMenuClickCallBack=function(e,$1b,$i){var $15={};$15.selection=e;$15.command=$1b;this.$2z("TimeRangeMenuClick",$15,$i);};this.$2L=function($1b,e,$1c){switch($1c){case 'PostBack':$c.timeRangeMenuClickPostBack(e,$1b);break;case 'CallBack':$c.timeRangeMenuClickCallBack(e,$1b);break;}};this.headerClickPostBack=function(c,$i){this.$2x('HeaderClick',$i,c);};this.headerClickCallBack=function(c,$i){this.$2z('HeaderClick',c,$i);};this.$2n=function(x){var $i=this.data;var c={$0S:x};switch($c.headerClickHandling){case 'PostBack':$c.headerClickPostBack(c);break;case 'CallBack':$c.headerClickCallBack(c);break;case 'JavaScript':$c.onHeaderClick(c);break;}};this.timeRangeDoubleClickPostBack=function($04,end,$i){var $0a={};$0a.start=$04;$0a.end=end;this.$2x('TimeRangeDoubleClick',$i,$0a);};this.timeRangeDoubleClickCallBack=function($04,end,$i){var $0a={};$0a.start=$04;$0a.end=end;this.$2z('TimeRangeDoubleClick',$0a,$i);};this.$2w=function($04,end){switch($c.timeRangeDoubleClickHandling){case 'PostBack':$c.timeRangeDoubleClickPostBack($04,end);break;case 'CallBack':$c.timeRangeDoubleClickCallBack($04,end);break;case 'JavaScript':$c.onTimeRangeDoubleClick($04,end);break;}};this.commandCallBack=function($1b,$i){this.$2M();var $15={};$15.command=$1b;this.$2z('Command',$15,$i);};this.$2N=function(e){for(var i=0;i<$c.elements.events.length;i++){var $r=$c.elements.events[i];if($r.event===e){return $r;}};return null;};this.$28=function(e){var $d={};$d.list=[];$d.each=function(m){if(!m){return;};for(var i=0;i<this.list.length;i++){m(this.list[i]);}};for(var i=0;i<this.elements.events.length;i++){var $r=this.elements.events[i];if($r.event.data===e.data){$d.list.push($r);}};return $d;};this.$2O={};var $K=this.$2O;$K.lineHeight=function(){return $c.eventHeight+$c.lineSpace;};$K.rounded=function(){return $c.eventCorners==="Rounded";};$K.loadFromServer=function(){return(typeof $c.events.list==='undefined')||(!$c.events.list);};$K.locale=function(){return DayPilot.Locale.find($c.locale);};$K.getWeekStart=function(){if($c.showWeekend){return $c.weekStarts;}else{return 1;}};$K.notifyType=function(){var $13;if($c.notifyCommit==='Immediate'){$13="Notify";}else if($c.notifyCommit==='Queue'){$13="Queue";}else{throw "Invalid notifyCommit value: "+$c.notifyCommit;};return $13;};this.multiselect={};this.multiselect.initList=[];this.multiselect.list=[];this.multiselect.divs=[];this.multiselect.previous=[];this.multiselect.$2P=function(){var m=$c.multiselect;return DayPilot.JSON.stringify(m.events());};this.multiselect.events=function(){var m=$c.multiselect;var $0v=[];$0v.ignoreToJSON=true;for(var i=0;i<m.list.length;i++){$0v.push(m.list[i]);};return $0v;};this.multiselect.$2Q=function(){};this.multiselect.$2F=function($r,$1k){var m=$c.multiselect;if(m.isSelected($r.event)){if($c.allowMultiSelect){if($1k){m.remove($r.event,true);}else{var $0n=m.list.length;m.clear(true);if($0n>1){m.add($r.event,true);}}}else{m.clear(true);}}else{if($c.allowMultiSelect){if($1k){m.add($r.event,true);}else{m.clear(true);m.add($r.event,true);}}else{m.clear(true);m.add($r.event,true);}};m.redraw();m.$2Q();};this.multiselect.$25=function(ev){var m=$c.multiselect;return m.$2R(ev,m.initList);};this.multiselect.$2S=function(){var m=$c.multiselect;var $1l=[];for(var i=0;i<m.list.length;i++){var event=m.list[i];$1l.push(event.value());};alert($1l.join("\n"));};this.multiselect.add=function(ev,$1m){var m=$c.multiselect;if(m.indexOf(ev)===-1){m.list.push(ev);};if($1m){return;};m.redraw();};this.multiselect.remove=function(ev,$1m){var m=$c.multiselect;var i=m.indexOf(ev);if(i!==-1){m.list.splice(i,1);}};this.multiselect.clear=function($1m){var m=$c.multiselect;m.list=[];if($1m){return;};m.redraw();};this.multiselect.redraw=function(){var m=$c.multiselect;for(var i=0;i<$c.elements.events.length;i++){var $r=$c.elements.events[i];if(m.isSelected($r.event)){m.$2T($r);}else{m.$2U($r);}}};this.multiselect.$2T=function($r){var m=$c.multiselect;var cn=$c.cssOnly?$c.$1M("_selected"):$c.$1M("selected");var $r=m.$2V($r);DayPilot.Util.addClass($r,cn);m.divs.push($r);};this.multiselect.$2V=function($r){if($c.cssOnly){return $r;};return $r.firstChild;};this.multiselect.$2W=function(){var m=$c.multiselect;for(var i=0;i<m.divs.length;i++){var $r=m.divs[i];m.$2U($r,true);};m.divs=[];};this.multiselect.$2U=function($r,$1n){var m=$c.multiselect;var cn=$c.cssOnly?$c.$1M("_selected"):$c.$1M("selected");var c=m.$2V($r);if(c&&c.className&&c.className.indexOf(cn)!==-1){c.className=c.className.replace(cn,"");};if($1n){return;};var i=DayPilot.indexOf(m.divs,$r);if(i!==-1){m.divs.splice(i,1);}};this.multiselect.isSelected=function(ev){return $c.multiselect.$2R(ev,$c.multiselect.list);};this.multiselect.indexOf=function(ev){return DayPilot.indexOf($c.multiselect.list,ev);};this.multiselect.$2R=function(e,$1l){if(!$1l){return false;};for(var i=0;i<$1l.length;i++){var ei=$1l[i];if(e===ei){return true;};if(typeof ei.value==='function'){if(ei.value()!==null&&e.value()!==null&&ei.value()===e.value()){return true;};if(ei.value()===null&&e.value()===null&&ei.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start()){return true;}}else{if(ei.value!==null&&e.value()!==null&&ei.value===e.value()){return true;};if(ei.value===null&&e.value()===null&&ei.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start){return true;}}};return false;};this.events.find=function(id){var $1o=$c.events.list.length;for(var i=0;i<$1o;i++){if($c.events.list[i].id===id){return new DayPilot.Event($c.events.list[i],$c);}};return null;};this.events.findRecurrent=function($1p,$1q){var $1o=$c.events.list.length;for(var i=0;i<$1o;i++){if($c.events.list[i].recurrentMasterId===$1p&&$c.events.list[i].start.getTime()===$1q.getTime()){return new DayPilot.Event($c.events.list[i],$c);}};return null;};this.events.update=function(e,$i){var $15={};$15.oldEvent=new DayPilot.Event(e.copy(),$c);$15.newEvent=new DayPilot.Event(e.temp(),$c);var $0Z=new DayPilot.Action($c,"EventUpdate",$15,$i);e.commit();$c.update();return $0Z;};this.events.remove=function(e,$i){var $15={};$15.e=new DayPilot.Event(e.data,$c);var $0Z=new DayPilot.Action($c,"EventRemove",$15,$i);var $0r=DayPilot.indexOf($c.events.list,e.data);$c.events.list.splice($0r,1);$c.update();return $0Z;};this.events.add=function(e,$i){e.calendar=$c;if(!$c.events.list){$c.events.list=[];};$c.events.list.push(e.data);var $15={};$15.e=e;var $0Z=new DayPilot.Action($c,"EventAdd",$15,$i);$c.update();return $0Z;};this.queue={};this.queue.list=[];this.queue.list.ignoreToJSON=true;this.queue.add=function($0Z){if(!$0Z){return;};if($0Z.isAction){$c.queue.list.push($0Z);}else{throw "DayPilot.Action object required for queue.add()";}};this.queue.notify=function($i){var $15={};$15.actions=$c.queue.list;$c.$2z('Notify',$15,$i,"Notify");$c.queue.list=[];};this.queue.clear=function(){$c.queue.list=[];};this.queue.pop=function(){return $c.queue.list.pop();};this.$1L=function($1r){if($1r){this.autoRefreshEnabled=true;};if(!this.autoRefreshEnabled){return;};if(this.autoRefreshCount>=this.autoRefreshMaxCount){return;};this.$2M();var $1s=this.autoRefreshInterval;if(!$1s||$1s<10){throw "The minimum autoRefreshInterval is 10 seconds";};this.autoRefreshTimeout=window.setTimeout(function(){$c.$2X();},this.autoRefreshInterval*1000);};this.$2M=function(){if(this.autoRefreshTimeout){window.clearTimeout(this.autoRefreshTimeout);}};this.$2X=function(){if(!DayPilotMonth.eventResizing&&!DayPilotMonth.eventMoving&&!DayPilotMonth.timeRangeSelecting){this.autoRefreshCount++;this.commandCallBack(this.autoRefreshCommand);};if(this.autoRefreshCount<this.autoRefreshMaxCount){this.autoRefreshTimeout=window.setTimeout(function(){$c.$2X();},this.autoRefreshInterval*1000);}};this.$2Y=function($1t,$1u){if(!this.debuggingEnabled){return;};if(!$c.debugMessages){$c.debugMessages=[];};$c.debugMessages.push($1t);if(typeof console!=='undefined'){console.log($1t);}};this.update=function(){if(!this.cells){return;};var $1v=true;$c.$1D();$c.$1E();$c.$1F();if($1v){$c.$1G();$c.$1H();};$c.$1I();$c.$1J();$c.$1K();};this.dispose=function(){var c=$c;if(!c.nav.top){return;};c.$2M();c.$1D();c.nav.top.removeAttribute("style");c.nav.top.removeAttribute("class");c.nav.top.innerHTML='';c.nav.top.dp=null;c.nav.top=null;DayPilotMonth.unregister(c);};this.$2Z=function(){if(!DayPilotMonth.globalHandlers){DayPilotMonth.globalHandlers=true;DayPilot.re(document,'mouseup',DayPilotMonth.gMouseUp);}};this.$1J=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.$30=function(){this.$1E();this.$2j();this.$1H();this.$2Z();this.$1L();this.$2z('Init');DayPilotMonth.register(this);};this.init=function(){this.nav.top=document.getElementById($b);if(this.nav.top.dp){return;};var $1w=$K.loadFromServer();if($1w){this.$30();return;};this.$1E();this.$1F();this.$2j();this.$1H();this.$1J();this.$1K();this.$2Z();if(this.messageHTML){this.message(this.messageHTML);};this.$1C(null,false);this.$1L();DayPilotMonth.register(this);};this.internal={};this.internal.invokeEvent=this.$2B;this.internal.eventMenuClick=this.$2H;this.internal.timeRangeMenuClick=this.$2L;this.internal.bubbleCallBack=this.$2C;this.internal.findEventDiv=this.$2N;this.Init=this.init;};DayPilotMonth.register=function($c){if(!DayPilotMonth.registered){DayPilotMonth.registered=[];};for(var i=0;i<DayPilotMonth.registered.length;i++){if(DayPilotMonth.registered[i]===$c){return;}};DayPilotMonth.registered.push($c);};DayPilotMonth.unregister=function($c){var a=DayPilotMonth.registered;if(a){var i=DayPilot.indexOf(a,$c);if(i!==-1){a.splice(i,1);};if(a.length===0){a=null;}};if(!a){DayPilot.ue(document,'mouseup',DayPilotMonth.gMouseUp);}};DayPilotMonth.gMouseUp=function(ev){if(DayPilotMonth.movingEvent){var $03=DayPilotMonth.movingEvent;if(!$03.event||!$03.event.calendar||!$03.event.calendar.shadow||!$03.event.calendar.shadow.start){return;};var $c=DayPilotMonth.movingEvent.event.calendar;var e=DayPilotMonth.movingEvent.event;var $04=$c.shadow.start;var $05=$c.shadow.position;var $A=DayPilotMonth.movingEvent.offset;$c.$1X();DayPilotMonth.movingEvent=null;var ev=ev||window.event;$c.$2d(e,$04.x,$04.y,$A,ev,$05);ev.cancelBubble=true;if(ev.stopPropagation){ev.stopPropagation();};DayPilotMonth.movingEvent=null;return false;}else if(DayPilotMonth.resizingEvent){var $03=DayPilotMonth.resizingEvent;if(!$03.event||!$03.event.calendar||!$03.event.calendar.shadow||!$03.event.calendar.shadow.start){return;};var $c=DayPilotMonth.resizingEvent.event.calendar;var e=DayPilotMonth.resizingEvent.event;var $04=$c.shadow.start;var $z=$c.shadow.width;$c.$1X();DayPilotMonth.resizingEvent=null;$c.$2J(e,$04,$z);ev.cancelBubble=true;DayPilotMonth.resizingEvent=null;return false;}else if(DayPilotMonth.timeRangeSelecting){if(DayPilotMonth.timeRangeSelecting.moved){var $06=DayPilotMonth.timeRangeSelecting;var $c=$06.root;var $04=new DayPilot.Date($c.$1Y($06.from.x,$06.from.y));var end=$04.addDays($06.width);$c.$2e($04,end);};DayPilotMonth.timeRangeSelecting=null;}};DayPilot.MonthVisible.Month=DayPilotMonth.Month;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotMonth=function($1x){var $1y=null;var j=this.each(function(){if(this.daypilot){return;};var $1z=new DayPilot.Month(this.id);this.daypilot=$1z;for(var name in $1x){$1z[name]=$1x[name];};$1z.Init();if(!$1y){$1y=$1z;}});if(this.length===1){return $1y;}else{return j;}};})(jQuery);};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();

if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotNavigator==='undefined'){var DayPilotNavigator=DayPilot.NavigatorVisible={};};(function(){if(typeof DayPilot.Navigator!=='undefined'){return;};DayPilotNavigator={};DayPilot.Navigator=function(id){this.v='178';var $a=this;this.id=id;this.weekStarts='Auto';this.selectMode='day';this.titleHeight=20;this.dayHeaderHeight=20;this.cellWidth=20;this.cellHeight=20;this.cssOnly=true;this.selectionStart=new DayPilot.Date().getDatePart();this.selectionEnd=null;this.selectionDay=null;this.showMonths=1;this.skipMonths=1;this.timeRangeSelectedHandling="Bind";this.command="navigate";this.year=new DayPilot.Date().getYear();this.month=new DayPilot.Date().getMonth()+1;this.showWeekNumbers=false;this.weekNumberAlgorithm='Auto';this.rowsPerMonth='Six';this.orientation="Vertical";this.locale="en-us";this.prepare=function(){this.root.dp=this;if(this.cssOnly){this.root.className=this.prefixCssClass('_main');}else{this.root.className=this.prefixCssClass('main');};if(this.orientation==="Horizontal"){this.root.style.width=this.showMonths*(this.cellWidth*7+this.weekNumberWidth())+'px';}else{this.root.style.width=(this.cellWidth*7+this.weekNumberWidth())+'px';};var $b=document.createElement("input");$b.type='hidden';$b.name=$a.id+"_state";$b.id=$b.name;this.root.appendChild($b);this.state=$b;if(!this.startDate){this.startDate=new DayPilot.Date(DayPilot.Date.firstDayOfMonth(this.year,this.month));}else{this.startDate=new DayPilot.Date(this.startDate).firstDayOfMonth();};this.calendars=[];this.selected=[];this.months=[];};this.clearTable=function(){this.root.innerHTML='';};this.prefixCssClass=function($c){if(this.cssClassPrefix){return this.cssClassPrefix+$c;}else{return "";}};this.addClass=function($d,name){var $e=this.cssOnly?this.prefixCssClass("_"+name):this.prefixCssClass(name);DayPilot.Util.addClass($d,$e);};this.removeClass=function($d,name){var $e=this.cssOnly?this.prefixCssClass("_"+name):this.prefixCssClass(name);DayPilot.Util.removeClass($d,$e);};this.drawTable=function($f,$g,$h,$i){var $j={};$j.cells=[];$j.days=[];$j.weeks=[];var $k=$f.firstDayOfMonth();var $l=$k.firstDayOfWeek($m.weekStarts());var $n=$k.addMonths(1);var $o=DayPilot.Date.daysDiff($l.d,$n.d);var $p=(this.rowsPerMonth==="Auto")?Math.ceil($o/7):6;var $q=(new DayPilot.Date()).getDatePart();var $r=document.createElement("div");$r.style.width=(this.cellWidth*7+this.weekNumberWidth())+'px';$r.style.height=(this.cellHeight*$p+this.titleHeight+this.dayHeaderHeight)+'px';if(this.orientation==="Horizontal"){$r.style.float="left";};if(this.cssOnly){$r.className=this.prefixCssClass('_month');}else{$r.className=this.prefixCssClass('month');};$r.style.position='relative';$r.style.cursor='default';$r.style.MozUserSelect='none';$r.style.KhtmlUserSelect='none';$r.style.WebkitUserSelect='none';$r.month=$j;this.root.appendChild($r);var $s=this.titleHeight+this.dayHeaderHeight;var tl=document.createElement("div");tl.style.position='absolute';tl.style.left='0px';tl.style.top='0px';tl.style.width=this.cellWidth+'px';tl.style.height=this.titleHeight+'px';tl.style.lineHeight=this.titleHeight+'px';tl.style.textAlign='left';tl.setAttribute("unselectable","on");if(this.cssOnly){tl.className=this.prefixCssClass('_titleleft');}else{tl.className=this.prefixCssClass('titleleft');};if($g.left){tl.style.cursor='pointer';tl.innerHTML="<span style='margin-left:2px;'>&lt;</span>";tl.onclick=this.clickLeft;};$r.appendChild(tl);this.tl=tl;var ti=document.createElement("div");ti.style.position='absolute';ti.style.left=this.cellWidth+'px';ti.style.top='0px';ti.style.width=(this.cellWidth*5+this.weekNumberWidth())+'px';ti.style.height=this.titleHeight+'px';ti.style.lineHeight=this.titleHeight+'px';ti.style.textAlign='center';ti.setAttribute("unselectable","on");if(this.cssOnly){ti.className=this.prefixCssClass('_title');}else{ti.className=this.prefixCssClass('title');};ti.innerHTML=$m.locale().monthNames[$f.getMonth()]+' '+$f.getYear();$r.appendChild(ti);this.ti=ti;var tr=document.createElement("div");tr.style.position='absolute';tr.style.left=(this.cellWidth*6+this.weekNumberWidth())+'px';tr.style.top='0px';tr.style.width=this.cellWidth+'px';tr.style.height=this.titleHeight+'px';tr.style.lineHeight=this.titleHeight+'px';tr.style.textAlign='right';tr.setAttribute("unselectable","on");if(this.cssOnly){tr.className=this.prefixCssClass('_titleright');}else{tr.className=this.prefixCssClass('titleright');};if($g.right){tr.style.cursor='pointer';tr.innerHTML="<span style='margin-right:2px;'>&gt;</span>";tr.onclick=this.clickRight;};$r.appendChild(tr);this.tr=tr;var $t=this.weekNumberWidth();if(this.showWeekNumbers){for(var y=0;y<$p;y++){var $u=$l.addDays(y*7);var $v=null;switch(this.weekNumberAlgorithm){case "Auto":$v=($m.weekStarts()===0)?$u.weekNumber():$u.weekNumberISO();break;case "US":$v=$u.weekNumber();break;case "ISO8601":$v=$u.weekNumberISO();break;default:throw "Unknown weekNumberAlgorithm value.";};var dh=document.createElement("div");dh.style.position='absolute';dh.style.left=(0)+'px';dh.style.top=(y*this.cellHeight+$s)+'px';dh.style.width=this.cellWidth+'px';dh.style.height=this.cellHeight+'px';dh.style.lineHeight=this.cellHeight+'px';dh.style.textAlign='right';dh.setAttribute("unselectable","on");if(this.cssOnly){dh.className=this.prefixCssClass('_weeknumber');}else{dh.className=this.prefixCssClass('weeknumber');};dh.innerHTML="<span style='margin-right: 2px'>"+$v+"</span>";$r.appendChild(dh);$j.weeks.push(dh);}};for(var x=0;x<7;x++){$j.cells[x]=[];var dh=document.createElement("div");dh.style.position='absolute';dh.style.left=(x*this.cellWidth+$t)+'px';dh.style.top=this.titleHeight+'px';dh.style.width=this.cellWidth+'px';dh.style.height=this.dayHeaderHeight+'px';dh.style.lineHeight=this.dayHeaderHeight+'px';dh.style.textAlign='right';dh.setAttribute("unselectable","on");if(this.cssOnly){dh.className=this.prefixCssClass('_dayheader');}else{dh.className=this.prefixCssClass('dayheader');};dh.innerHTML="<span style='margin-right: 2px'>"+this.getDayName(x)+"</span>";$r.appendChild(dh);$j.days.push(dh);for(var y=0;y<$p;y++){var $u=$l.addDays(y*7+x);var $w=this.isSelected($u);var $x=$u.getMonth()===$f.getMonth();var $y=$u.getTime()<$f.getTime();var $z=$u.getTime()>$f.getTime();var $A;var dc=document.createElement("div");dc.day=$u;dc.x=x;dc.y=y;dc.isCurrentMonth=$x;if(this.cssOnly){dc.className=this.prefixCssClass(($x?'_day':'_dayother'));}else{dc.className=this.prefixCssClass(($x?'day':'dayother'));};if($u.getTime()===$q.getTime()&&$x){this.addClass(dc,'today');};if($u.dayOfWeek()===0||$u.dayOfWeek()===6){this.addClass(dc,'weekend');};dc.style.position='absolute';dc.style.left=(x*this.cellWidth+$t)+'px';dc.style.top=(y*this.cellHeight+$s)+'px';dc.style.width=this.cellWidth+'px';dc.style.height=this.cellHeight+'px';dc.style.lineHeight=this.cellHeight+'px';dc.style.textAlign='right';var $B=document.createElement("div");$B.style.position='absolute';if(this.cssOnly){$B.className=($u.getTime()===$q.getTime()&&$x)?this.prefixCssClass('_todaybox'):this.prefixCssClass('_daybox');}else{$B.className=($u.getTime()===$q.getTime()&&$x)?this.prefixCssClass('todaybox'):this.prefixCssClass('daybox');};$B.style.left='0px';$B.style.top='0px';$B.style.width=(this.cellWidth-2)+'px';$B.style.height=(this.cellHeight-2)+'px';dc.appendChild($B);var $C=null;if(this.cells&&this.cells[$u.toStringSortable()]){$C=this.cells[$u.toStringSortable()];if($C.css){this.addClass(dc,$C.css);}};var $D=null;if($x||($h&&$y)||($i&&$z)){$D=document.createElement("span");$D.innerHTML=$u.getDay();dc.style.cursor='pointer';dc.isClickable=true;if($w){this.addClass(dc,'select');};if($C&&$C.html){$D.innerHTML=$C.html;};$D.style.marginRight='2px';dc.appendChild($D);};dc.setAttribute("unselectable","on");dc.onclick=this.cellClick;dc.onmousedown=this.cellMouseDown;dc.onmousemove=this.cellMouseMove;if($w){this.selected.push(dc);};$r.appendChild(dc);$j.cells[x][y]=dc;}};var $E=document.createElement("div");$E.style.position='absolute';$E.style.left='0px';$E.style.top=($s-2)+'px';$E.style.width=(this.cellWidth*7+this.weekNumberWidth())+'px';$E.style.height='1px';$E.style.fontSize='1px';$E.style.lineHeight='1px';if(this.cssOnly){$E.className=this.prefixCssClass("_line");}else{$E.className=this.prefixCssClass("line");};$r.appendChild($E);this.months.push($j);};this.weekNumberWidth=function(){if(this.showWeekNumbers){return this.cellWidth;};return 0;};this.updateFreeBusy=function(){if(!this.items){return;};for(var j=0;j<this.showMonths;j++){for(var x=0;x<7;x++){for(var y=0;y<6;y++){var $C=this.months[j].cells[x][y];if(!$C){continue;};if(this.items[$C.day.toStringSortable()]===1){this.addClass($C,'busy');}else{this.removeClass($C,'busy');}}}}};this.saveState=function(){var s={};s.startDate=$a.startDate;s.selectionStart=$a.selectionStart;s.selectionEnd=$a.selectionEnd.addDays(1);$a.state.value=DayPilot.JSON.stringify(s);};this.adjustSelection=function(){switch(this.selectMode){case 'day':this.selectionEnd=this.selectionStart;break;case 'week':this.selectionStart=this.selectionStart.firstDayOfWeek($m.weekStarts());this.selectionEnd=this.selectionStart.addDays(6);break;case 'month':this.selectionStart=this.selectionStart.firstDayOfMonth();this.selectionEnd=this.selectionStart.lastDayOfMonth();break;default:throw "Unkown selectMode value.";}};this.select=function($F){var $G=true;var $H=this.selectionStart;var $I=this.selectionEnd;this.selectionStart=new DayPilot.Date($F).getDatePart();this.selectionDay=this.selectionStart;var $J=false;if($G){var $K=this.startDate;if(this.selectionStart.getTime()<this.visibleStart().getTime()||this.selectionStart.getTime()>this.visibleEnd().getTime()){$K=this.selectionStart.firstDayOfMonth();};if($K.toStringSortable()!==this.startDate.toStringSortable()){$J=true;};this.startDate=$K;};this.adjustSelection();this.clearTable();this.prepare();this.drawMonths();this.updateFreeBusy();this.saveState();if(!$H.equals(this.selectionStart)||!$I.equals(this.selectionEnd)){this.timeRangeSelectedDispatch();};if($J){this.visibleRangeChanged();}};this.update=function(){this.clearTable();this.prepare();this.drawMonths();this.updateFreeBusy();this.saveState();};this.callBack2=function($L,$M,$N){var $O={};$O.action=$L;$O.parameters=$N;$O.data=$M;$O.header=this.getCallBackHeader();var $P="JSON"+DayPilot.JSON.stringify($O);var $Q=null;if(this.backendUrl){DayPilot.request(this.backendUrl,this.$02,$P,this.ajaxError);}else{WebForm_DoCallback(this.uniqueID,$P,this.updateView,$Q,this.callbackError,true);}};this.$02=function($R){$a.updateView($R.responseText);};this.postBack2=function($L,$M,$N){var $O={};$O.action=$L;$O.parameters=$N;$O.data=$M;$O.header=this.getCallBackHeader();var $P="JSON"+DayPilot.JSON.stringify($O);__doPostBack($a.uniqueID,$P);};this.getCallBackHeader=function(){var h={};h.v=this.v;h.startDate=this.startDate;h.selectionStart=this.selectionStart;return h;};this.listen=function($L,$M){if($L==='refresh'){this.visibleRangeChanged();}};this.getDayName=function(i){var x=i+$m.weekStarts();if(x>6){x-=7;};return $m.locale().dayNamesShort[x];};this.isSelected=function($F){if(this.selectionStart===null||this.selectionEnd===null){return false;};if(this.selectionStart.getTime()<=$F.getTime()&&$F.getTime()<=this.selectionEnd.getTime()){return true;};return false;};this.cellMouseDown=function(ev){};this.cellMouseMove=function(ev){};this.cellClick=function(ev){var $j=this.parentNode.month;var x=this.x;var y=this.y;var $u=$j.cells[x][y].day;if(!$j.cells[x][y].isClickable){return;};$a.clearSelection();$a.selectionDay=$u;switch($a.selectMode){case 'day':var s=$j.cells[x][y];$a.addClass(s,'select');$a.selected.push(s);$a.selectionStart=s.day;$a.selectionEnd=s.day;break;case 'week':for(var j=0;j<7;j++){$a.addClass($j.cells[j][y],'select');$a.selected.push($j.cells[j][y]);};$a.selectionStart=$j.cells[0][y].day;$a.selectionEnd=$j.cells[6][y].day;break;case 'month':var $S=null;var end=null;for(var y=0;y<6;y++){for(var x=0;x<7;x++){var s=$j.cells[x][y];if(!s){continue;};if(s.day.getYear()===$u.getYear()&&s.day.getMonth()===$u.getMonth()){$a.addClass(s,'select');$a.selected.push(s);if($S===null){$S=s.day;};end=s.day;}}};$a.selectionStart=$S;$a.selectionEnd=end;break;default:throw 'unknown selectMode';};$a.saveState();$a.timeRangeSelectedDispatch();};this.timeRangeSelectedDispatch=function(){var $S=$a.selectionStart;var end=$a.selectionEnd.addDays(1);var $o=DayPilot.Date.daysDiff($S.d,end.d);var $u=$a.selectionDay;switch($a.timeRangeSelectedHandling){case 'Bind':var $T=eval($a.bound);if($T){var $U={};$U.start=$S;$U.end=end;$U.days=$o;$U.day=$u;$T.commandCallBack($a.command,$U);};break;case 'JavaScript':$a.onTimeRangeSelected($S,end,$u);break;case 'None':break;case 'PostBack':$a.timeRangeSelectedPostBack($S,end,$u);break;}};this.timeRangeSelectedPostBack=function($S,end,$M,$u){var $V={};$V.start=$S;$V.end=end;$V.day=$u;this.postBack2('TimeRangeSelected',$M,$V);};this.clickRight=function(ev){$a.moveMonth($a.skipMonths);};this.clickLeft=function(ev){$a.moveMonth(-$a.skipMonths);};this.moveMonth=function(i){this.startDate=this.startDate.addMonths(i);this.clearTable();this.prepare();this.drawMonths();this.saveState();this.visibleRangeChanged();};this.visibleStart=function(){return $a.startDate.firstDayOfMonth().firstDayOfWeek($m.weekStarts());};this.visibleEnd=function(){return $a.startDate.firstDayOfMonth().addMonths(this.showMonths-1).firstDayOfWeek($m.weekStarts()).addDays(42);};this.visibleRangeChanged=function(){var $S=this.visibleStart();var end=this.visibleEnd();switch(this.visibleRangeChangedHandling){case "CallBack":this.visibleRangeChangedCallBack(null);break;case "PostBack":this.visibleRangeChangedPostBack(null);break;case "JavaScript":this.onVisibleRangeChanged($S,end);break;case "Disabled":break;}};this.visibleRangeChangedCallBack=function($M){var $N={};this.callBack2("Visible",$M,$N);};this.visibleRangeChangedPostBack=function($M){var $N={};this.postBack2("Visible",$M,$N);};this.updateView=function($W,$Q){var $W=eval("("+$W+")");$a.items=$W.Items;$a.cells=$W.Cells;$a.updateFreeBusy();};this.drawMonths=function(){for(var j=0;j<this.showMonths;j++){var $g={};$g.left=(j===0);$g.right=(j===0);if(this.orientation==="Horizontal"){$g.right=(j===this.showMonths-1);};this.drawTable(this.startDate.addMonths(j),$g,j===0,j===this.showMonths-1);};var $X=document.createElement("div");$X.style.clear="left";this.root.appendChild($X);};this.$03={};var $m=this.$03;$m.locale=function(){return DayPilot.Locale.find($a.locale);};$m.weekStarts=function(){if($a.weekStarts==='Auto'){var $Y=$m.locale();if($Y){return $Y.weekStarts;}else{return 0;}}else{return $a.weekStarts;}};this.clearSelection=function(){for(var j=0;j<this.selected.length;j++){this.removeClass(this.selected[j],'select');};this.selected=[];};this.init=function(){this.root=document.getElementById(id);if(this.root.dp){return;};this.adjustSelection();this.prepare();this.drawMonths();this.updateFreeBusy();this.$04();if(!this.items){this.visibleRangeChanged();}};this.dispose=function(){var c=$a;if(!c.root){return;};c.root.removeAttribute("style");c.root.removeAttribute("class");c.root.dp=null;c.root.innerHTML=null;c.root=null;};this.$04=function(){var $Z=document.getElementById(id);$Z.dispose=this.dispose;};this.Init=this.init;};DayPilot.NavigatorVisible.Navigator=DayPilotNavigator.Navigator;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotNavigator=function($00){var $l=null;var j=this.each(function(){if(this.daypilot){return;};var $01=new DayPilot.Navigator(this.id);this.daypilot=$01;for(var name in $00){$01[name]=$00[name];};$01.Init();if(!$l){$l=$01;}});if(this.length===1){return $l;}else{return j;}};})(jQuery);};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();


if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotScheduler==='undefined'){var DayPilotScheduler=DayPilot.SchedulerVisible={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(){if(typeof DayPilot.Scheduler!=='undefined'){return;};var DayPilotScheduler={};var $a=function(){};DayPilot.Scheduler=function(id){this.v='178';var $b=this;this.id=id;this.isScheduler=true;this.hideUntilInit=true;this.api=2;this.allowMultiSelect=true;this.autoRefreshCommand='refresh';this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.autoScroll="Drag";this.borderColor="#000000";this.businessBeginsHour=9;this.businessEndsHour=18;this.cellBackColor="#FFFFD5";this.cellBackColorNonBusiness="#FFF4BC";this.cellBorderColor="#EAD098";this.cellDuration=60;this.cellGroupBy='Day';this.cellSelectColor="#316AC5";this.cellWidth=20;this.clientSide=true;this.crosshairColor='Gray';this.crosshairOpacity=20;this.crosshairType='Header';this.debuggingEnabled=false;this.dragOutAllowed=false;this.durationBarColor='blue';this.durationBarHeight=3;this.durationBarVisible=true;this.durationBarMode="Duration";this.days=1;this.dynamicEventRendering='Progressive';this.dynamicEventRenderingMargin=50;this.dynamicLoading=false;this.eventBorderColor="#000000";this.eventBorderVisible=true;this.eventBackColor="#FFFFFF";this.eventFontFamily="Tahoma, Arial";this.eventFontSize='8pt';this.eventFontColor='#000000';this.eventHeight=20;this.eventMoveMargin=5;this.eventMoveToPosition=false;this.eventResizeMargin=5;this.headerFontColor="#000000";this.headerFontFamily="Tahoma, Arial";this.headerFontSize='8pt';this.headerHeight=20;this.heightSpec='Auto';this.hourFontFamily="Tahoma, Arial";this.hourFontSize='10pt';this.hourNameBackColor="#ECE9D8";this.hourNameBorderColor="#ACA899";this.layout='Auto';this.locale="en-us";this.loadingLabelText="Loading...";this.loadingLabelVisible=true;this.loadingLabelBackColor="orange";this.loadingLabelFontColor="#ffffff";this.loadingLabelFontFamily="Tahoma";this.loadingLabelFontSize="10pt";this.messageHideAfter=5000;this.moveBy='Top';this.notifyCommit='Immediate';this.numberFormat="0.00";this.treePreventParentUsage=true;this.rowHeaderWidth=80;this.rowHeaderCols=null;this.rowMarginBottom=0;this.rowMinHeight=0;this.scrollX=0;this.scrollY=0;this.shadow="Fill";this.showBaseTimeHeader=true;this.showNonBusiness=true;this.showToolTip=true;this.snapToGrid=true;this.startDate=new DayPilot.Date().getDatePart();this.syncResourceTree=true;this.timeBreakColor='#000000';this.treeEnabled=false;this.treeIndent=20;this.treeImageMarginLeft=2;this.treeImageMarginTop=2;this.timeFormat="Auto";this.useEventBoxes='Always';this.viewType='Resources';this.weekStarts='Auto';this.width=null;this.eventCorners='Regular';;this.separators=[];this.afterRender=function(){};this.cornerHTML='';this.crosshairLastY=-1;this.crosshairLastX=-1;this.eventClickHandling='Enabled';this.eventHoverHandling='Bubble';this.eventDoubleClickHandling='Enabled';this.eventEditHandling='Update';this.eventMoveHandling='Update';this.eventResizeHandling='Update';this.eventRightClickHandling='ContextMenu';this.eventSelectHandling='Update';this.resourceHeaderClickHandling='Enabled';this.timeRangeDoubleClickHandling='Enabled';this.timeRangeSelectedHandling='Enabled';this.cssOnly=true;this.backendUrl=null;if($b.api===1){this.onEventMove=function(){};this.onEventResize=function(){};this.onResourceExpand=function(){};this.onResourceCollapse=function(){};};this.debugMessages=[];this.autoRefreshCount=0;this.innerHeightTree=0;this.rows=[];this.timeline=[];this.groupline=[];this.events={};this.elements={};this.elements.events=[];this.elements.cells=[];this.elements.linesVertical=[];this.elements.separators=[];this.elements.range=[];this.elements.breaks=[];this.cache={};this.cache.cells=[];this.cache.linesVertical=[];this.cache.timeHeaderGroups=[];this.cache.pixels=[];this.cache.breaks=[];this.cache.events=[];this.clientState={};this.nav={};this.$46=function($c,$d){var $c=eval("("+$c+")");if($c.BubbleGuid){var $e=$c.BubbleGuid;var $f=this.bubbles[$e];delete this.bubbles[$e];$b.$47();if(typeof $c.Result.BubbleHTML!=='undefined'){$f.updateView($c.Result.BubbleHTML,$f);};return;};if(typeof DayPilot.Bubble!=="undefined"){DayPilot.Bubble.hideActive();};if(typeof $c.ClientState!=='undefined'){$b.clientState=$c.ClientState;};if($c.UpdateType==="None"){$b.$47();$b.$48($c.CallBackData,true);if($c.Message){$b.message($c.Message);};return;};if($c.VsUpdate){var $g=document.createElement("input");$g.type='hidden';$g.name=$b.id+"_vsupdate";$g.id=$g.name;$g.value=$c.VsUpdate;$b.vsph.innerHTML='';$b.vsph.appendChild($g);};if(typeof $c.TagFields!=='undefined'){$b.tagFields=$c.TagFields;};if(typeof $c.SortDirections!=='undefined'){$b.sortDirections=$c.SortDirections;};if($c.UpdateType==="Full"){$b.resources=$c.Resources;$b.colors=$c.Colors;$b.palette=$c.Palette;$b.dirtyColors=$c.DirtyColors;$b.cellProperties=$c.CellProperties;$b.separators=$c.Separators;$b.timeHeader=$c.TimeHeader;$b.timeHeaders=$c.TimeHeaders;$b.startDate=$c.StartDate?new DayPilot.Date($c.StartDate):$b.startDate;$b.days=$c.Days?$c.Days:$b.days;$b.cellDuration=$c.CellDuration?$c.CellDuration:$b.cellDuration;$b.cellGroupBy=$c.CellGroupBy?$c.CellGroupBy:$b.cellGroupBy;$b.cellWidth=$c.CellWidth?$c.CellWidth:$b.cellWidth;$b.viewType=$c.ViewType?$c.ViewType:$b.viewType;$b.hourNameBackColor=$c.HourNameBackColor?$c.HourNameBackColor:$b.hourNameBackColor;$b.showNonBusiness=$c.ShowNonBusiness?$c.ShowNonBusiness:$b.showNonBusiness;$b.businessBeginsHour=$c.BusinessBeginsHour?$c.BusinessBeginsHour:$b.businessBeginsHour;$b.businessEndsHour=$c.BusinessEndsHour?$c.BusinessEndsHour:$b.businessEndsHour;if(typeof $c.DynamicLoading!=='undefined')$b.dynamicLoading=$c.DynamicLoading;if(typeof $c.TreeEnabled!=='undefined')$b.treeEnabled=$c.TreeEnabled;$b.backColor=$c.BackColor?$c.BackColor:$b.backColor;$b.nonBusinessBackColor=$c.NonBusinessBackColor?$c.NonBusinessBackColor:$b.nonBusinessBackColor;$b.locale=$c.Locale?$c.Locale:$b.locale;if(typeof $c.TimeZone!=='undefined')$b.timeZone=$c.TimeZone;$b.timeFormat=$c.TimeFormat?$c.TimeFormat:$b.timeFormat;$b.rowHeaderCols=$c.RowHeaderCols?$c.RowHeaderCols:$b.rowHeaderCols;if(typeof $c.DurationBarMode!=="undefined")$b.durationBarMode=$c.DurationBarMode;if(typeof $c.ShowBaseTimeHeader!=="undefined")$b.showBaseTimeHeader=$c.ShowBaseTimeHeader;$b.cornerBackColor=$c.CornerBackColor?$c.CornerBackColor:$b.cornerBackColor;$b.cornerHTML=$c.CornerHTML?$c.CornerHTML:$b.cornerHTML;$b.hashes=$c.Hashes;$b.$49();$b.$4a();$b.$4b();$b.$4c();};var $h=$b.$4d($c.Events,$c.Action==="Scroll");if($c.UpdateType==='Full'){$b.$4e();$b.$4f();};$b.$4g();if($c.Action!=="Scroll"){$b.$4h();$b.$4i();$b.$4j();if($b.heightSpec==='Auto'||$b.heightSpec==='Max'){$b.$4k();};$b.$4l();$b.$4m();$b.$4n();$b.multiselect.clear(true);$b.multiselect.initList=$c.SelectedEvents;$b.$4o();$b.$4p();$b.$4q();}else{$b.multiselect.clear(true);$b.multiselect.initList=$c.SelectedEvents;$b.$4r($h,true);$b.$4o();};if($b.timeRangeSelectedHandling!=="HoldForever"){$b.$4s();};if($c.UpdateType==="Full"){$b.setScroll($c.ScrollX,$c.ScrollY);$b.$4t();};if($b.todo){if($b.todo.del){var $i=$b.todo.del;$i.parentNode.removeChild($i);$b.todo.del=null;}};$b.$48($c.CallBackData,true);$b.$47();if($c.UpdateType==='Full'&&navigator.appVersion.indexOf("MSIE 7.")!==-1){window.setTimeout(function(){$b.$4e();$b.$4k();},0);};$b.$4u();if($c.Message){if($b.message){$b.message($c.Message);}}};this.$48=function($j,$k){var $l=function($j,$m){return function(){if($b.$4v()){if(typeof $b.onAfterRender==='function'){var $n={};$n.isCallBack=$m;$n.data=$j;$b.onAfterRender($n);}}else{if($b.afterRender){$b.afterRender($j,$m);}}};};window.setTimeout($l($j,$k),0);};this.scrollTo=function($o){var $p=this.getPixels(new DayPilot.Date($o)).left;this.setScroll($p,scrollY);};this.scrollToResource=function(id){var $q=this.findRowByResourceId(id);if(!$q){return;};var x=this.getScrollX();this.setScroll(x,$q.Top);};this.setScroll=function(scrollX,scrollY){var scroll=$b.nav.scroll;var $r=$b.innerHeightTree;var $s=$b.$4w()*$b.cellWidth;if(scroll.clientWidth+scrollX>$s){scrollX=$s-scroll.clientWidth;};if(scroll.clientHeight+scrollY>$r){scrollY=$r-scroll.clientHeight;};$b.divTimeScroll.scrollLeft=scrollX;$b.divResScroll.scrollTop=scrollY;scroll.scrollLeft=scrollX;scroll.scrollTop=scrollY;};this.message=function($t,$u,$v,$w){if($t===null){return;};var $u=$u||this.messageHideAfter||2000;var $v=$v||"#ffffff";var $w=$w||"#000000";var $x=0.8;var top=this.$4x()+1;var $y=this.$4y()+1;var $z=DayPilot.sw($b.nav.scroll)+1;var $A;if(!this.nav.message){$A=document.createElement("div");$A.style.position="absolute";$A.style.left=$y+"px";$A.style.top=top+"px";$A.style.right=$z+"px";$A.style.display='none';var $B=document.createElement("div");$B.onclick=function(){$b.nav.message.style.display='none';};if(!this.cssOnly){$B.style.padding="5px";$B.style.opacity=$x;$B.style.filter="alpha(opacity="+($x*100)+")";}else{$B.className=this.$4z("_message");};$A.appendChild($B);var close=document.createElement("div");close.style.position="absolute";if(!this.cssOnly){close.style.top="5px";close.style.right=(DayPilot.sw($b.nav.scroll)+5)+"px";close.style.color=$v;close.style.lineHeight="100%";close.style.cursor="pointer";close.style.fontWeight="bold";close.innerHTML="X";}else{close.className=this.$4z("_message_close");};close.onclick=function(){$b.nav.message.style.display='none';};$A.appendChild(close);this.nav.top.appendChild($A);this.nav.message=$A;};var $C=function(){var $B=$b.nav.message.firstChild;if(!$b.cssOnly){$B.style.backgroundColor=$w;$B.style.color=$v;};$B.innerHTML=$t;var $z=DayPilot.sw($b.nav.scroll)+1;$b.nav.message.style.right=$z+"px";var end=function(){$b.messageTimeout=setTimeout($b.$4A,$u);};DayPilot.fade($b.nav.message,0.2,end);};if(this.nav.message.style.display!=='none'){clearTimeout($b.messageTimeout);DayPilot.fade($b.nav.message,-0.2,$C);}else{$C();}};this.$4A=function(){var end=function(){$b.nav.message.style.display='none';};DayPilot.fade($b.nav.message,-0.2,end);};this.message.show=function($t){$b.message($t);};this.message.hide=function(){$b.$4A();};this.$4k=function(){if(this.nav.scroll){if(this.heightSpec==='Parent100Pct'){this.height=parseInt(this.nav.top.clientHeight,10)-(this.$4x()+2);};var $D=this.$4B();var $E=1;var $F=$D+this.$4x()+$E;if($D>0){this.nav.scroll.style.height=($D)+'px';this.scrollRes.style.height=($D)+'px';};if(this.nav.divider){this.nav.divider.style.height=($F)+"px";};if(this.heightSpec!=="Parent100Pct"){this.nav.top.style.height=($F)+"px";};for(var i=0;i<this.elements.separators.length;i++){this.elements.separators[i].style.height=this.innerHeightTree+'px';};for(var i=0;i<this.elements.linesVertical.length;i++){this.elements.linesVertical[i].style.height=this.innerHeightTree+'px';}}};this.$49=function(){this.endDate=(this.viewType!=='Days')?this.startDate.addDays(this.days):this.startDate.addDays(1);this.timeline=[];this.cache.pixels=[];if(this.timeHeader){var $G=this.startDate.getTime();var $q=this.timeHeader[this.timeHeader.length-1];for(var i=0;i<$q.length;i++){var h=$q[i];var $H={};$H.start=new DayPilot.Date(h.start);if(h.end){$H.end=new DayPilot.Date(h.end);}else{$H.end=$H.start.addMinutes(this.cellDuration);};$H.breakBefore=$H.start.ticks!==$G;this.timeline.push($H);$G=$H.end.ticks;}}else{this.timeHeader=[];var $I=this.startDate;var end=$I.addMinutes(this.cellDuration);var $J=false;var $K=this.timeHeaders;if(!$K){$K=[{$L:this.cellGroupBy}];};var $M=[];while(end.ticks<=this.endDate.ticks){if(this.$4C($I,end)){var $H={};$H.start=$I;$H.end=end;$H.breakBefore=$J;this.timeline.push($H);var h={};h.start=$I;h.end=end;h.innerHTML=this.$4D($I);if(typeof this.onBeforeTimeHeaderRender==='function'){var $N={};$N.start=$I;$N.end=end;$N.html=h.innerHTML;$N.tooltip=h.innerHTML;$N.backColor=null;$N.level=$K.length;var $n={};$n.cell=$N;this.onBeforeTimeHeaderRender($n);h.innerHTML=$N.html;h.backColor=$N.backColor;h.toolTip=$N.tooltip;};$M.push(h);$J=false;}else{$J=true;};$I=end;end=$I.addMinutes(this.cellDuration);};for(var i=0;i<$K.length;i++){var $O=$K[i].cellGroupBy;var $I=this.startDate;var $P=[];var $I=this.startDate;while($I.ticks<this.endDate.ticks){var h={};h.start=$I;h.end=this.$4E(h.start,$O);h.left=this.getPixels(h.start).left;var $Q=this.getPixels(h.end).left-h.left;h.colspan=$Q/this.cellWidth;h.innerHTML=this.$4F($I,$O);if($Q>0){if(typeof this.onBeforeTimeHeaderRender==='function'){var $N={};$N.start=$I;$N.end=end;$N.html=h.innerHTML;$N.toolTip=h.innerHTML;$N.color=null;$N.level=this.timeHeader.length;var $n={};$n.cell=$N;this.onBeforeTimeHeaderRender($n);h.innerHTML=$N.html;h.backColor=$N.color;h.toolTip=$N.toolTip;};$P.push(h);};$I=h.end;};this.timeHeader.push($P);};this.timeHeader.push($M);}};this.$4a=function(){this.groupline=[];var $R=this.endDate;var $N={};var $I=this.startDate;while($I.ticks<$R.ticks){var $N={};$N.start=$I;$N.end=this.$4E($N.start);$N.left=this.getPixels($N.start).left;$N.width=this.getPixels($N.end).left-$N.left;if($N.width>0){this.groupline.push($N);};$I=$N.end;}};this.$4C=function($I,end){if(typeof this.onIncludeTimeCell==='function'){var $N={};$N.start=$I;$N.end=end;$N.visible=true;this.onIncludeTimeCell($N);return $N.visible;};if(this.showNonBusiness){return true;};if($I.d.getUTCDay()===0){return false;};if($I.d.getUTCDay()===6){return false;};if(this.cellDuration<60*24){var $S=$I.d.getUTCHours();$S+=$I.d.getUTCMinutes()/60.0;$S+=$I.d.getUTCSeconds()/3600.0;$S+=$I.d.getUTCMilliseconds()/3600000.0;if($S<this.businessBeginsHour){return false;};if(this.businessEndsHour>=24){return true;};if($S>=this.businessEndsHour){return false;}};return true;};this.getPixels=function($o){var $T=$o.ticks;var $U=this.cache.pixels[$T];if($U){return $U;};var $V=null;var $W=221876841600000;if(this.timeline.length===0||$T<this.timeline[0].start.ticks){var $c={};$c.cut=false;$c.left=0;$c.boxLeft=$c.left;$c.boxRight=$c.left;return $c;};for(var i=0;i<this.timeline.length;i++){var $X=false;var $N=this.timeline[i];var $Y=$N.start.ticks;var $Z=$N.end.ticks;if($Y<$T&&$T<$Z){var $00=$T-$Y;var $c={};$c.cut=false;$c.left=i*this.cellWidth+this.$4G($00);$c.boxLeft=i*this.cellWidth;$c.boxRight=(i+1)*this.cellWidth;break;}else if($Y===$T){var $c={};$c.cut=false;$c.left=i*this.cellWidth;$c.boxLeft=$c.left;$c.boxRight=$c.left;break;}else if($Z===$T){var $c={};$c.cut=false;$c.left=(i+1)*this.cellWidth;$c.boxLeft=$c.left;$c.boxRight=$c.left;break;}else if($T<$Y&&$T>$W){var $c={};$c.cut=true;$c.left=i*this.cellWidth;$c.boxLeft=$c.left;$c.boxRight=$c.left;break;};$W=$Z;};if(!$c){var $c={};$c.cut=true;$c.left=(this.timeline.length)*this.cellWidth;$c.boxLeft=$c.left;$c.boxRight=$c.left;};this.cache.pixels[$T]=$c;return $c;};this.getDate=function($y,$01,$02){var x=Math.floor($y/this.cellWidth);var $03=($02&&x>0)?x-1:x;if(this.timeline[$03]===null){return null;};var $I=($02&&x>0)?this.timeline[x-1].end:this.timeline[x].start;if(!$01){return $I;}else{var $00=$y%this.cellWidth;return $I.addTime(this.$4H($00));}};this.$4G=function($T){return Math.floor((this.cellWidth*$T)/(1000*60*this.cellDuration));};this.$4H=function($p){return Math.floor($p*(this.cellDuration/this.cellWidth)*60*1000);};this.$4I=function(ev){if($04.start){return;};$b.$4J(this,ev);};this.eventClickPostBack=function(e,$j){this.$4K('EventClick',e,$j);};this.eventClickCallBack=function(e,$j){this.$4L('EventClick',e,$j);};this.$4J=function($A,ev){var e=$A.event;var ev=ev||window.event;if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if(!e.client.doubleClickEnabled()){$b.$4M($A,ev.ctrlKey);return;};if(!$b.timeouts){$b.timeouts=[];};var $05=function($A,$06){return function(){$b.$4M($A,$06);};};$b.timeouts.push(window.setTimeout($05($A,ev.ctrlKey),300));};this.$4M=function($A,$06){var e=$A.event;if(!e.client.clickEnabled()){return;};if($b.$4v()){var $n={};$n.e=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventClick==='function'){$b.onEventClick($n);if($n.preventDefault.value){return;}};switch($b.eventClickHandling){case 'PostBack':$b.eventClickPostBack(e);break;case 'CallBack':$b.eventClickCallBack(e);break;case 'Edit':$b.$4N($A);break;case 'Select':$b.$4O($A,e,$06);break;case 'ContextMenu':var $07=e.client.contextMenu();if($07){$07.show(e);}else{if($b.contextMenu){$b.contextMenu.show(e);}};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;};if(typeof $b.onEventClicked==='function'){$b.onEventClicked($n);}}else{switch($b.eventClickHandling){case 'PostBack':$b.eventClickPostBack(e);break;case 'CallBack':$b.eventClickCallBack(e);break;case 'JavaScript':$b.onEventClick(e);break;case 'Edit':$b.$4N($A);break;case 'Select':$b.$4O($A,e,$06);break;case 'ContextMenu':var $07=e.client.contextMenu();if($07){$07.show(e);}else{if($b.contextMenu){$b.contextMenu.show(e);}};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;}}};this.setHScrollPosition=function($p){this.nav.scroll.scrollLeft=$p;};this.getHScrollPosition=function(){return this.nav.scroll.scrollLeft;};this.getScrollX=this.getHScrollPosition;this.getScrollY=function(){return this.nav.scroll.scrollTop;};this.$4O=function($A,e,$06){$b.$4P($A,e,$06);};this.eventSelectPostBack=function(e,$08,$j){var $09={};$09.e=e;$09.change=$08;this.$4K('EventSelect',$09,$j);};this.eventSelectCallBack=function(e,$08,$j){var $09={};$09.e=e;$09.change=$08;this.$4L('EventSelect',$09,$j);};this.$4P=function($A,e,$06){if($b.$4v()){var m=$b.multiselect;m.previous=m.events();var $n={};$n.e=e;$n.selected=m.isSelected(e);$n.ctrl=$06;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventSelect==='function'){$b.onEventSelect($n);if($n.preventDefault.value){return;}};switch($b.eventSelectHandling){case 'PostBack':$b.eventSelectPostBack(e,$08);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){__theFormPostData="";__theFormPostCollection=[];WebForm_InitCallback();};$b.eventSelectCallBack(e,$08);break;case 'Update':m.$4Q($A,$06);break;};if(typeof $b.onEventSelected==='function'){$n.change=m.isSelected(e)?"selected":"deselected";$n.selected=m.isSelected(e);$b.onEventSelected($n);}}else{var m=$b.multiselect;m.previous=m.events();m.$4Q($A,$06);var $08=m.isSelected(e)?"selected":"deselected";switch($b.eventSelectHandling){case 'PostBack':$b.eventSelectPostBack(e,$08);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){__theFormPostData="";__theFormPostCollection=[];WebForm_InitCallback();};$b.eventSelectCallBack(e,$08);break;case 'JavaScript':$b.onEventSelect(e,$08);break;}}};this.eventRightClickPostBack=function(e,$j){this.$4K('EventRightClick',e,$j);};this.eventRightClickCallBack=function(e,$j){this.$4L('EventRightClick',e,$j);};this.$4R=function(ev){var e=this.event;ev=ev||window.event;ev.cancelBubble=true;if(!this.event.client.rightClickEnabled()){return false;};if($b.$4v()){var $n={};$n.e=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventRightClick==='function'){$b.onEventRightClick($n);if($n.preventDefault.value){return;}};switch($b.eventRightClickHandling){case 'PostBack':$b.eventRightClickPostBack(e);break;case 'CallBack':$b.eventRightClickCallBack(e);break;case 'ContextMenu':var $07=e.client.contextMenu();if($07){$07.show(e);}else{if($b.contextMenu){$b.contextMenu.show(this.event);}};break;};if(typeof $b.onEventRightClicked==='function'){$b.onEventRightClicked($n);}}else{switch($b.eventRightClickHandling){case 'PostBack':$b.eventRightClickPostBack(e);break;case 'CallBack':$b.eventRightClickCallBack(e);break;case 'JavaScript':$b.onEventRightClick(e);break;case 'ContextMenu':var $07=e.client.contextMenu();if($07){$07.show(e);}else{if($b.contextMenu){$b.contextMenu.show(this.event);}};break;}};return false;};this.eventDoubleClickPostBack=function(e,$j){this.$4K('EventDoubleClick',e,$j);};this.eventDoubleClickCallBack=function(e,$j){this.$4L('EventDoubleClick',e,$j);};this.$4S=function(ev){if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if($b.timeouts){for(var $0a in $b.timeouts){window.clearTimeout($b.timeouts[$0a]);};$b.timeouts=null;};var ev=ev||window.event;var e=this.event;if($b.$4v()){var $n={};$n.e=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventDoubleClick==='function'){$b.onEventDoubleClick($n);if($n.preventDefault.value){return;}};switch($b.eventDoubleClickHandling){case 'PostBack':$b.eventDoubleClickPostBack(e);break;case 'CallBack':$b.eventDoubleClickCallBack(e);break;case 'Edit':$b.$4N(this);break;case 'Select':$b.$4O($A,e,ev.ctrlKey);break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;};if(typeof $b.onEventDoubleClicked==='function'){$b.onEventDoubleClicked($n);}}else{switch($b.eventDoubleClickHandling){case 'PostBack':$b.eventDoubleClickPostBack(e);break;case 'CallBack':$b.eventDoubleClickCallBack(e);break;case 'JavaScript':$b.onEventDoubleClick(e);break;case 'Edit':$b.$4N(this);break;case 'Select':$b.$4O($A,e,ev.ctrlKey);break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;}}};this.eventResizePostBack=function(e,$0b,$0c,$j){this.$4T("PostBack",e,$0b,$0c,$j);};this.eventResizeCallBack=function(e,$0b,$0c,$j){this.$4T("CallBack",e,$0b,$0c,$j);};this.$4T=function($0d,e,$0b,$0c,$j){var $09={};$09.e=e;$09.newStart=$0b;$09.newEnd=$0c;this.$4U($0d,"EventResize",$09,$j);};this.$4V=function(e,$0b,$0c){if(this.eventResizeHandling==='Disabled'){return;};if($b.$4v()){var $n={};$n.e=e;$n.newStart=$0b;$n.newEnd=$0c;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventResize==='function'){$b.onEventResize($n);if($n.preventDefault.value){return;}};switch($b.eventResizeHandling){case 'PostBack':$b.eventResizePostBack(e,$0b,$0c);break;case 'CallBack':$b.eventResizeCallBack(e,$0b,$0c);break;case 'Notify':$b.eventResizeNotify(e,$0b,$0c);break;case 'Update':e.start($0b);e.end($0c);$b.events.update(e);break;};if(typeof $b.onEventResized==='function'){$b.onEventResized($n);}}else{switch($b.eventResizeHandling){case 'PostBack':$b.eventResizePostBack(e,$0b,$0c);break;case 'CallBack':$b.eventResizeCallBack(e,$0b,$0c);break;case 'JavaScript':$b.onEventResize(e,$0b,$0c);break;case 'Notify':$b.eventResizeNotify(e,$0b,$0c);break;case 'Update':e.start($0b);e.end($0c);$b.events.update(e);break;}}};this.eventMovePostBack=function(e,$0b,$0c,$0e,$j,$P){this.$4W("PostBack",e,$0b,$0c,$0e,$j,$P);};this.eventMoveCallBack=function(e,$0b,$0c,$0e,$j,$P){this.$4W("CallBack",e,$0b,$0c,$0e,$j,$P);};this.$4W=function($0d,e,$0b,$0c,$0e,$j,$P){var $09={};$09.e=e;$09.newStart=$0b;$09.newEnd=$0c;$09.newResource=$0e;$09.position=$P;this.$4U($0d,"EventMove",$09,$j);};this.$4U=function($0d,$0f,$09,$j){if($0d==='PostBack'){$b.$4K($0f,$09,$j);}else if($0d==='CallBack'){$b.$4L($0f,$09,$j,"CallBack");}else if($0d==='Immediate'){$b.$4L($0f,$09,$j,"Notify");}else if($0d==='Queue'){$b.queue.add(new DayPilot.Action(this,$0f,$09,$j));}else if($0d==='Notify'){if($0g.notifyType()==='Notify'){$b.$4L($0f,$09,$j,"Notify");}else{$b.queue.add(new DayPilot.Action($b,$0f,$09,$j));}}else{throw "Invalid event invocation type";}};this.eventMoveNotify=function(e,$0b,$0c,$0e,$j,$P){var $0h=new DayPilot.Event(e.copy(),this);var $0i=$b.events.$4X(e.data);e.start($0b);e.end($0c);e.resource($0e);e.commit();$0i=$0i.concat($b.events.$4Y(e.data));$b.$4Z($0i);$b.$50();$b.$4r($0i);this.$4W("Notify",$0h,$0b,$0c,$0e,$j,$P);};this.eventResizeNotify=function(e,$0b,$0c,$j){var $0h=new DayPilot.Event(e.copy(),this);var $0i=$b.events.$4X(e.data);e.start($0b);e.end($0c);e.commit();$0i=$0i.concat($b.events.$4Y(e.data));$b.$4Z($0i);$b.$50();$b.$4r($0i);this.$4T("Notify",$0h,$0b,$0c,$j);};this.multiselect={};this.multiselect.initList=[];this.multiselect.list=[];this.multiselect.divs=[];this.multiselect.previous=[];this.multiselect.$51=function(){var m=$b.multiselect;return DayPilot.JSON.stringify(m.events());};this.multiselect.events=function(){var m=$b.multiselect;var $0j=[];$0j.ignoreToJSON=true;for(var i=0;i<m.list.length;i++){$0j.push(m.list[i]);};return $0j;};this.multiselect.$52=function(){};this.multiselect.$4Q=function($A,$0k){var m=$b.multiselect;if(m.isSelected($A.event)){if($b.allowMultiSelect){if($0k){m.remove($A.event,true);}else{var $0l=m.list.length;m.clear();if($0l>1){m.add($A.event,true);}}}else{m.clear();}}else{if($b.allowMultiSelect){if($0k){m.add($A.event,true);}else{m.clear();m.add($A.event,true);}}else{m.clear();m.add($A.event,true);}};m.$53($A);m.$52();};this.multiselect.$54=function(ev){var m=$b.multiselect;return m.$55(ev,m.initList);};this.multiselect.$56=function(){var m=$b.multiselect;var $0m=[];for(var i=0;i<m.list.length;i++){var event=m.list[i];$0m.push(event.value());};alert($0m.join("\n"));};this.multiselect.add=function(ev,$0n){var m=$b.multiselect;if(m.indexOf(ev)===-1){m.list.push(ev);};if($0n){return;};m.redraw();};this.multiselect.remove=function(ev,$0n){var m=$b.multiselect;var i=m.indexOf(ev);if(i!==-1){m.list.splice(i,1);};if($0n){return;};m.redraw();};this.multiselect.clear=function($0n){var m=$b.multiselect;m.list=[];if($0n){return;};m.redraw();};this.multiselect.redraw=function(){var m=$b.multiselect;for(var i=0;i<$b.elements.events.length;i++){var $A=$b.elements.events[i];if(m.isSelected($A.event)){m.$57($A);}else{m.$58($A);}}};this.multiselect.$59=function(ev){var m=$b.multiselect;var $A=null;for(var i=0;i<$b.elements.events.length;i++){if(m.isSelected($b.elements.events[i].event)){$A=$b.elements.events[i];break;}};m.$53($A);};this.multiselect.$53=function($A){if(!$A){return;};var m=$b.multiselect;if(m.isSelected($A.event)){m.$57($A);}else{m.$58($A);}};this.multiselect.$57=function($A){var m=$b.multiselect;var cn=$b.cssOnly?$b.$4z("_selected"):$b.$4z("selected");var $A=m.$5a($A);DayPilot.Util.addClass($A,cn);m.divs.push($A);};this.multiselect.$5a=function($A){return $A;};this.multiselect.$5b=function(){var m=$b.multiselect;for(var i=0;i<m.divs.length;i++){var $A=m.divs[i];m.$58($A,true);};m.divs=[];};this.multiselect.$58=function($A,$0o){var m=$b.multiselect;var cn=$b.cssOnly?$b.$4z("_selected"):$b.$4z("selected");DayPilot.Util.removeClass($A,cn);if($0o){return;};var i=DayPilot.indexOf(m.divs,$A);if(i!==-1){m.divs.splice(i,1);}};this.multiselect.isSelected=function(ev){return $b.multiselect.$55(ev,$b.multiselect.list);};this.multiselect.indexOf=function(ev){return DayPilot.indexOf($b.multiselect.list,ev);};this.multiselect.$55=function(e,$0m){if(!$0m){return false;};for(var i=0;i<$0m.length;i++){var ei=$0m[i];if(e===ei){return true;};if(typeof ei.value==='function'){if(ei.value()!==null&&e.value()!==null&&ei.value()===e.value()){return true;};if(ei.value()===null&&e.value()===null&&ei.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start()){return true;}}else{if(ei.value!==null&&e.value()!==null&&ei.value===e.value()){return true;};if(ei.value===null&&e.value()===null&&ei.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start){return true;}}};return false;};this.update=function(){var $0p=true;if($0p){$b.timeHeader=null;$b.$49();$b.$4a();$b.$4b();$b.$4c();};this.$4d();if($0p){$b.$4e();$b.$4f();};$b.$4h();$b.$4i();$b.$4j();if($b.heightSpec==='Auto'||$b.heightSpec==='Max'){$b.$4k();};this.$4m();this.$4n();this.$4l();this.$4o();this.$4p();this.$4q();};this.$4r=function($0i,$0q){var $I,end;$0i=DayPilot.ua($0i);if(this.rowsDirty){var $0r=this.$4i();this.$4h();this.$4l();this.$4n();for(var i=0;i<$0i.length;i++){var ri=$0i[i];this.$5c(ri);};for(var i=0;i<$0i.length;i++){var ri=$0i[i];this.$5d(ri);};this.$4o();this.$4p();this.$5e();}else{var $0s=true;if($0s){var $0t=function(i){if(i>=$0i.length){return;};var ri=$0i[i];if(!$0q){$b.$5c(ri);};$b.$5d(ri);if(i+1<$0i.length){setTimeout(function(){$0t(i+1);},10);}};$0t(0);}else{for(var i=0;i<$0i.length;i++){var ri=$0i[i];if(!$0q){this.$5c(ri);};this.$5d(ri);}}}};this.$5f=function(e,$0b,$0c,$0e,external,ev,$P){if($b.eventMoveHandling==='Disabled'){return;};if($b.$4v()){var $n={};$n.e=e;$n.newStart=$0b;$n.newEnd=$0c;$n.newResource=$0e;$n.external=external;$n.ctrl=false;if(ev){$n.ctrl=ev.ctrlKey;};$n.shift=false;if(ev){$n.shift=ev.shiftKey;};$n.position=$P;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventMove==='function'){$b.onEventMove($n);if($n.preventDefault.value){return;}};switch($b.eventMoveHandling){case 'PostBack':$b.eventMovePostBack(e,$0b,$0c,$0e,null,$P);break;case 'CallBack':$b.eventMoveCallBack(e,$0b,$0c,$0e,null,$P);break;case 'Notify':$b.eventMoveNotify(e,$0b,$0c,$0e,null,$P);break;case 'Update':e.start($0b);e.end($0c);e.resource($0e);$b.events.update(e);break;};if(typeof $b.onEventMoved==='function'){$b.onEventMoved($n);}}else{switch($b.eventMoveHandling){case 'PostBack':$b.eventMovePostBack(e,$0b,$0c,$0e,null,$P);break;case 'CallBack':$b.eventMoveCallBack(e,$0b,$0c,$0e,null,$P);break;case 'JavaScript':$b.onEventMove(e,$0b,$0c,$0e,external,ev?ev.ctrlKey:false,ev?ev.shiftKey:false,$P);break;case 'Notify':$b.eventMoveNotify(e,$0b,$0c,$0e,null,$P);break;case 'Update':e.start($0b);e.end($0c);e.resource($0e);$b.events.update(e);break;}}};this.$5g=function($n,$f){var $e=$b.$5h($f);var $09={};$09.args=$n;$09.guid=$e;$b.$4L("Bubble",$09);};this.$5h=function($f){var $e=DayPilot.guid();if(!this.bubbles){this.bubbles=[];};this.bubbles[$e]=$f;return $e;};this.eventMenuClickPostBack=function(e,$0u,$j){var $09={};$09.e=e;$09.command=$0u;this.$4K('EventMenuClick',$09,$j);};this.eventMenuClickCallBack=function(e,$0u,$j){var $09={};$09.e=e;$09.command=$0u;this.$4L('EventMenuClick',$09,$j);};this.$5i=function($0u,e,$0v){switch($0v){case 'PostBack':$b.eventMenuClickPostBack(e,$0u);break;case 'CallBack':$b.eventMenuClickCallBack(e,$0u);break;}};this.timeRangeSelectedPostBack=function($I,end,$0w,$j){var $0x={};$0x.start=$I;$0x.end=end;$0x.resource=$0w;this.$4K('TimeRangeSelected',$0x,$j);};this.timeRangeSelectedCallBack=function($I,end,$0w,$j){var $0x={};$0x.start=$I;$0x.end=end;$0x.resource=$0w;this.$4L('TimeRangeSelected',$0x,$j);};this.$5j=function($I,end,$0w){if($b.timeRangeSelectedHandling==='Disabled'){};if($b.$4v()){var $n={};$n.start=$I;$n.end=end;$n.resource=$0w;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onTimeRangeSelect==='function'){$b.onTimeRangeSelect($n);if($n.preventDefault.value){return;}};switch($b.timeRangeSelectedHandling){case 'PostBack':$b.timeRangeSelectedPostBack($I,end,$0w);break;case 'CallBack':$b.timeRangeSelectedCallBack($I,end,$0w);break;};if(typeof $b.onTimeRangeSelected==='function'){$b.onTimeRangeSelected($n);}}else{switch($b.timeRangeSelectedHandling){case 'PostBack':$b.timeRangeSelectedPostBack($I,end,$0w);break;case 'CallBack':$b.timeRangeSelectedCallBack($I,end,$0w);break;case 'JavaScript':$b.onTimeRangeSelected($I,end,$0w);break;case 'Hold':break;}}};this.timeRangeDoubleClickPostBack=function($I,end,$0w,$j){var $0x={};$0x.start=$I;$0x.end=end;$0x.resource=$0w;this.$4K('TimeRangeDoubleClick',$0x,$j);};this.timeRangeDoubleClickCallBack=function($I,end,$0w,$j){var $0x={};$0x.start=$I;$0x.end=end;$0x.resource=$0w;this.$4L('TimeRangeDoubleClick',$0x,$j);};this.$5k=function($I,end,$0w){if($b.$4v()){var $n={};$n.start=$I;$n.end=end;$n.resource=$0w;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onTimeRangeDoubleClick==='function'){$b.onTimeRangeDoubleClick($n);if($n.preventDefault.value){return;}};switch($b.timeRangeDoubleClickHandling){case 'PostBack':$b.timeRangeDoubleClickPostBack($I,end,$0w);break;case 'CallBack':$b.timeRangeDoubleClickCallBack($I,end,$0w);break;};if(typeof $b.onTimeRangeDoubleClicked==='function'){$b.onTimeRangeDoubleClicked($n);}}else{switch($b.timeRangeDoubleClickHandling){case 'PostBack':$b.timeRangeDoubleClickPostBack($I,end,$0w);break;case 'CallBack':$b.timeRangeDoubleClickCallBack($I,end,$0w);break;case 'JavaScript':$b.onTimeRangeDoubleClick($I,end,$0w);break;}}};this.timeRangeMenuClickPostBack=function(e,$0u,$j){var $09={};$09.selection=e;$09.command=$0u;this.$4K("TimeRangeMenuClick",$09,$j);};this.timeRangeMenuClickCallBack=function(e,$0u,$j){var $09={};$09.selection=e;$09.command=$0u;this.$4L("TimeRangeMenuClick",$09,$j);};this.$5l=function($0u,e,$0v){switch($0v){case 'PostBack':$b.timeRangeMenuClickPostBack(e,$0u);break;case 'CallBack':$b.timeRangeMenuClickCallBack(e,$0u);break;}};this.resourceHeaderMenuClickPostBack=function(e,$0u,$j){var $09={};$09.resource=e;$09.command=$0u;this.$4K("ResourceHeaderMenuClick",$09,$j);};this.resourceHeaderMenuClickCallBack=function(e,$0u,$j){var $09={};$09.resource=e;$09.command=$0u;this.$4L("ResourceHeaderMenuClick",$09,$j);};this.$5m=function($0u,e,$0v){switch($0v){case 'PostBack':$b.resourceHeaderMenuClickPostBack(e,$0u);break;case 'CallBack':$b.resourceHeaderMenuClickCallBack(e,$0u);break;}};this.resourceHeaderClickPostBack=function(e,$j){var $09={};$09.resource=e;this.$4K("ResourceHeaderClick",$09,$j);};this.resourceHeaderClickCallBack=function(e,$j){var $09={};$09.resource=e;this.$4L("ResourceHeaderClick",$09,$j);};this.$5n=function(e){if($b.$4v()){var $n={};$n.resource=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onResourceHeaderClick==='function'){$b.onResourceHeaderClick($n);if($n.preventDefault.value){return;}};switch(this.resourceHeaderClickHandling){case 'PostBack':$b.resourceHeaderClickPostBack(e);break;case 'CallBack':$b.resourceHeaderClickCallBack(e);break;};if(typeof $b.onResourceHeaderClicked==='function'){$b.onResourceHeaderClicked($n);}}else{switch(this.resourceHeaderClickHandling){case 'PostBack':$b.resourceHeaderClickPostBack(e);break;case 'CallBack':$b.resourceHeaderClickCallBack(e);break;case 'JavaScript':$b.onResourceHeaderClick(e);break;}}};this.timeHeaderClickPostBack=function(e,$j){var $09={};$09.header=e;this.$4K("TimeHeaderClick",$09,$j);};this.timeHeaderClickCallBack=function(e,$j){var $09={};$09.header=e;this.$4L("TimeHeaderClick",$09,$j);};this.$5o=function(e){switch(this.timeHeaderClickHandling){case 'PostBack':$b.timeHeaderClickPostBack(e);break;case 'CallBack':$b.timeHeaderClickCallBack(e);break;case 'JavaScript':$b.onTimeHeaderClick(e);break;}};this.resourceCollapsePostBack=function(e,$j){var $09={};$09.resource=e;this.$4K("ResourceCollapse",$09,$j);};this.resourceCollapseCallBack=function(e,$j){var $09={};$09.resource=e;this.$4L("ResourceCollapse",$09,$j);};this.$5p=function(e){if($b.$4v()){var $n={};$n.resource=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onResourceCollapse==='function'){$b.onResourceCollapse($n);if($n.preventDefault.value){return;}};switch(this.resourceCollapseHandling){case 'PostBack':$b.resourceCollapsePostBack(e);break;case 'CallBack':$b.resourceCollapseCallBack(e);break;}}else{switch(this.resourceCollapseHandling){case 'PostBack':$b.resourceCollapsePostBack(e);break;case 'CallBack':$b.resourceCollapseCallBack(e);break;case 'JavaScript':$b.onResourceCollapse(e);break;}}};this.resourceExpandPostBack=function(e,$j){var $09={};$09.resource=e;this.$4K("ResourceExpand",$09,$j);};this.resourceExpandCallBack=function(e,$j){var $09={};$09.resource=e;this.$4L("ResourceExpand",$09,$j);};this.$5q=function(e){if($b.$4v()){var $n={};$n.resource=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onResourceExpand==='function'){$b.onResourceExpand($n);if($n.preventDefault.value){return;}};switch(this.resourceExpandHandling){case 'PostBack':$b.resourceExpandPostBack(e);break;case 'CallBack':$b.resourceExpandCallBack(e);break;}}else{switch(this.resourceExpandHandling){case 'PostBack':$b.resourceExpandPostBack(e);break;case 'CallBack':$b.resourceExpandCallBack(e);break;case 'JavaScript':$b.onResourceExpand(e);break;}}};this.eventEditPostBack=function(e,$0y,$j){var $09={};$09.e=e;$09.newText=$0y;this.$4K("EventEdit",$09,$j);};this.eventEditCallBack=function(e,$0y,$j){var $09={};$09.e=e;$09.newText=$0y;this.$4L("EventEdit",$09,$j);};this.$5r=function(e,$0y){if($b.$4v()){var $n={};$n.e=e;$n.newText=$0y;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventEdit==='function'){$b.onEventEdit($n);if($n.preventDefault.value){return;}};switch($b.eventEditHandling){case 'PostBack':$b.eventEditPostBack(e,$0y);break;case 'CallBack':$b.eventEditCallBack(e,$0y);break;case 'Update':e.text($0y);$b.events.update(e);break;};if(typeof $b.onEventEdited==='function'){$b.onEventEdited($n);if($n.preventDefault.value){return;}}}else{switch($b.eventEditHandling){case 'PostBack':$b.eventEditPostBack(e,$0y);break;case 'CallBack':$b.eventEditCallBack(e,$0y);break;case 'JavaScript':$b.onEventEdit(e,$0y);break;}}};this.commandCallBack=function($0u,$j){this.$5s("CallBack",$0u,$j);};this.commandPostBack=function($0u,$j){this.$5s("PostBack",$0u,$j);};this.$5s=function($0d,$0u,$j){var $09={};$09.command=$0u;this.$4U($0d,"Command",$09,$j);};this.$4K=function($0f,$0z,$j){var $0A={};$0A.action=$0f;$0A.type="PostBack";$0A.parameters=$0z;$0A.data=$j;$0A.header=this.$5t();var $0B="JSON"+DayPilot.JSON.stringify($0A);__doPostBack($b.uniqueID,$0B);};this.$4L=function($0f,$0z,$j,$0d){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};if(typeof $0d==='undefined'){$0d="CallBack";};this.$5u();this.callbackTimeout=window.setTimeout(function(){$b.$5v();},100);var $0A={};$0A.action=$0f;$0A.type=$0d;$0A.parameters=$0z;$0A.data=$j;$0A.header=this.$5t();var $0C=DayPilot.JSON.stringify($0A);var $0B;if(typeof Iuppiter!=='undefined'&&Iuppiter.compress){$0B="LZJB"+Iuppiter.Base64.encode(Iuppiter.compress($0C));}else{$0B="JSON"+$0C;};var $d=null;if(this.backendUrl){DayPilot.request(this.backendUrl,this.$5w,$0B,this.ajaxError);}else if(typeof WebForm_DoCallback==='function'){WebForm_DoCallback(this.uniqueID,$0B,this.$46,$d,this.callbackError,true);}};this.$5w=function($0D){$b.$46($0D.responseText);};this.$5t=function(){var h={};h.v=this.v;h.control="dps";h.id=this.id;h.startDate=$b.startDate;h.days=$b.days;h.cellDuration=$b.cellDuration;h.cellGroupBy=$b.cellGroupBy;h.cellWidth=$b.cellWidth;h.viewType=$b.viewType;h.hourNameBackColor=$b.hourNameBackColor;h.showNonBusiness=$b.showNonBusiness;h.businessBeginsHour=$b.businessBeginsHour;h.businessEndsHour=$b.businessEndsHour;h.weekStarts=$b.weekStarts;h.treeEnabled=$b.treeEnabled;h.backColor=$b.cellBackColor;h.nonBusinessBackColor=$b.cellBackColorNonBusiness;h.locale=$b.locale;h.timeZone=$b.timeZone;h.tagFields=$b.tagFields;h.timeHeaders=$b.timeHeaders;h.cssOnly=$b.cssOnly;h.cssClassPrefix=$b.cssClassPrefix;h.durationBarMode=$b.durationBarMode;h.showBaseTimeHeader=$b.showBaseTimeHeader;h.clientState=$b.clientState;if(this.nav.scroll){h.scrollX=this.nav.scroll.scrollLeft;h.scrollY=this.nav.scroll.scrollTop;};h.selected=$b.multiselect.events();h.hashes=$b.hashes;var $0E=$b.getArea(h.scrollX,h.scrollY);var $0x=$b.getAreaRange($0E);var $0F=$b.getAreaResources($0E);h.rangeStart=$0x.start;h.rangeEnd=$0x.end;h.resources=$0F;h.dynamicLoading=$b.dynamicLoading;if(this.syncResourceTree){h.tree=this.$5x();};return h;};this.getArea=function(scrollX,scrollY){var $0E={};$0E.start={};$0E.end={};$0E.start.x=Math.floor(scrollX/$b.cellWidth);$0E.end.x=Math.floor((scrollX+$b.nav.scroll.clientWidth)/$b.cellWidth);$0E.start.y=$b.getRow(scrollY).i;$0E.end.y=$b.getRow(scrollY+$b.nav.scroll.clientHeight).i;var $0G=this.timeline.length;if($0E.end.x>=$0G){$0E.end.x=$0G-1;};return $0E;};this.getAreaRange=function($0E){var $c={};if(this.timeline.length<=0){$c.start=this.startDate;$c.end=this.startDate;return $c;};if(!this.timeline[$0E.start.x]){throw 'Internal error: area.start.x is null.';};$c.start=this.timeline[$0E.start.x].start;$c.end=this.timeline[$0E.end.x].end;return $c;};this.getAreaResources=function($0E){if(!$0E){var $0E=this.getArea(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop);};var $0F=[];$0F.ignoreToJSON=true;for(var i=$0E.start.y;i<=$0E.end.y;i++){var r=$b.rows[i];if(r&&!r.Hidden){$0F.push(r.Value);}};return $0F;};this.$5x=function(){var $0H=[];$0H.ignoreToJSON=true;for(var i=0;i<this.rows.length;i++){if(this.rows[i].Level>0){continue;};var $0I=this.$5y(i);$0H.push($0I);};return $0H;};this.$5z=function($0J){var $0K=[];$0K.ignoreToJSON=true;for(var i=0;i<$0J.length;i++){$0K.push(this.$5y($0J[i]));};return $0K;};this.$5y=function(i){var $q=this.rows[i];var $0I={};$0I.Value=$q.Value;$0I.BackColor=$q.BackColor;$0I.Name=$q.Name;$0I.InnerHTML=$q.InnerHTML;$0I.ToolTip=$q.ToolTip;$0I.Expanded=$q.Expanded;$0I.Children=this.$5z($q.Children);$0I.Loaded=$q.Loaded;$0I.IsParent=$q.IsParent;$0I.Columns=this.$5A($q);if($q.MinHeight!==$b.rowMinHeight){$0I.MinHeight=$q.MinHeight;};if($q.MarginBottom!==$b.rowMarginBottom){$0I.MarginBottom=$q.MarginBottom;};return $0I;};this.$5A=function($q){if(!$q.Columns||$q.Columns.length===0){return null;};var $0L=[];$0L.ignoreToJSON=true;for(var i=0;i<$q.Columns.length;i++){var c={};c.InnerHTML=$q.Columns[i].innerHTML;$0L.push(c);};return $0L;};this.$4z=function($0M){if(this.cssClassPrefix){return this.cssClassPrefix+$0M;}else{return "";}};this.$5B=function(){var $0N=document.getElementById(id);$0N.dispose=this.dispose;};this.dispose=function(){var c=$b;if(!c.nav.top){return;};c.$5u();c.$4m();c.divBreaks=null;c.divCells=null;c.divCorner=null;c.divCrosshair=null;c.divEvents=null;c.divHeader=null;c.divLines=null;c.divNorth=null;c.divRange=null;c.divResScroll=null;c.divSeparators=null;c.divSeparatorsAbove=null;c.divStretch=null;c.divTimeScroll=null;c.scrollRes=null;c.vsph=null;c.maind=null;c.nav.loading=null;c.nav.top.onmousemove=null;c.nav.top.dispose=null;c.nav.top.ontouchstart=null;c.nav.top.ontouchmove=null;c.nav.top.ontouchend=null;c.nav.top.removeAttribute('style');c.nav.top.removeAttribute('class');c.nav.top.innerHTML="";c.nav.top.dp=null;c.nav.top=null;c.nav.scroll.onscroll=null;c.nav.scroll.root=null;c.nav.scroll=null;DayPilot.ue(window,'resize',c.resize);DayPilotScheduler.unregister(c);};this.$5C=function($0O,$0d){var $0P=$b.maind;var $0Q=$b.$5D($0O);var event=$0O.event;var $D=event.part.height||$b.eventHeight;var top=(event.part&&event.part.top)?(event.part.top+$b.rows[event.part.dayIndex].Top):$0Q.top;var $0R=document.createElement('div');$0R.setAttribute('unselectable','on');$0R.style.position='absolute';$0R.style.width=($0Q.width)+'px';$0R.style.height=$D+'px';$0R.style.left=$0Q.left+'px';$0R.style.top=top+'px';$0R.style.zIndex=101;$0R.style.overflow='hidden';var $B=document.createElement("div");$0R.appendChild($B);if(this.cssOnly){$0R.className=this.$4z("_shadow");$B.className=this.$4z("_shadow_inner");};if(!this.cssOnly){if($0d==='Fill'){$B.style.backgroundColor="#aaaaaa";$B.style.opacity=0.5;$B.style.filter="alpha(opacity=50)";$B.style.height="100%";if($0O&&$0O.event&&$0O.style){$B.style.fontSize=$0O.style.fontSize;$B.style.fontFamily=$0O.style.fontFamily;$B.style.color=$0O.style.color;$B.innerHTML=$0O.event.client.innerHTML();}}else{$0R.style.paddingTop="2px";$B.style.border='2px dotted #666666';}};$0P.appendChild($0R);$0R.calendar=$b;return $0R;};this.getRow=function(y){var $c={};var element;var top=0;var $0S=0;var $0T=this.rows.length;for(var i=0;i<$0T;i++){var $q=this.rows[i];if($q.Hidden){continue;};$0S+=$q.Height;if(y<$0S||i===$0T-1){top=$0S-$q.Height;element=$q;break;}};$c.top=top;$c.bottom=$0S;$c.i=i;$c.element=element;return $c;};this.getRowByIndex=function(i){var top=0;var $0U=0;var $0V=0;if(i>this.rows.length-1){throw "Row index too high (DayPilotScheduler.getRowByIndex)";};for(var j=0;j<=i;j++){var $q=this.rows[j];if($q.Hidden){continue;};$0U+=$q.Height;$0V++;};top=$0U-$q.Height;var $c={};$c.top=top;$c.height=$q.Height;$c.bottom=$0U;$c.i=$0V-1;return $c;};this.$5E=function(){if(this.backendUrl||typeof WebForm_DoCallback==='function'){return(typeof $b.events.list==='undefined')||(!$b.events.list);}else{return false;}};this.events.find=function(id){var $0W=$b.events.list.length;for(var i=0;i<$0W;i++){if($b.events.list[i].id===id){return new DayPilot.Event($b.events.list[i],$b);}};return null;};this.events.findRecurrent=function($0X,$0Y){var $0W=$b.events.list.length;for(var i=0;i<$0W;i++){if($b.events.list[i].recurrentMasterId===$0X&&$b.events.list[i].start.getTime()===$0Y.getTime()){return new DayPilot.Event($b.events.list[i],$b);}};return null;};this.events.$4X=function($j){var $0i=[];for(var i=0;i<$b.rows.length;i++){var $q=$b.rows[i];for(var r=0;r<$q.events.length;r++){if($q.events[r].data===$j){$0i.push(i);$q.events.splice(r,1);break;}}};return $0i;};this.events.$4Y=function($j){var $0i=[];for(var i=0;i<$b.rows.length;i++){var $q=$b.rows[i];var ep=$b.$5F($j,$q);if(ep){$0i.push(i);}};return $0i;};this.events.update=function(e,$j){var $09={};$09.oldEvent=new DayPilot.Event(e.copy(),$b);$09.newEvent=new DayPilot.Event(e.temp(),$b);var $0f=new DayPilot.Action($b,"EventUpdate",$09,$j);var $0i=$b.events.$4X(e.data);e.commit();$0i=$0i.concat($b.events.$4Y(e.data));$b.$4Z($0i);$b.$50();$b.$4r($0i);$b.$4k();return $0f;};this.events.remove=function(e,$j){var $09={};$09.e=new DayPilot.Event(e.data,$b);var $0f=new DayPilot.Action($b,"EventRemove",$09,$j);var $0V=DayPilot.indexOf($b.events.list,e.data);$b.events.list.splice($0V,1);var $0i=$b.events.$4X(e.data);$b.$4Z($0i);$b.$50();$b.$4r($0i);return $0f;};this.events.add=function(e,$j){e.calendar=$b;if(!$b.events.list){$b.events.list=[];};$b.events.list.push(e.data);var $09={};$09.e=e;var $0f=new DayPilot.Action($b,"EventAdd",$09,$j);var ri=DayPilot.indexOf($b.rows,$b.findRowByResourceId(e.resource()));var $q=$b.rows[ri];var $I=new Date();var $0i=$b.events.$4Y(e.data);$b.$4Z($0i);$b.$50();var end=new Date();$b.$4r($0i);return $0f;};this.queue={};this.queue.list=[];this.queue.list.ignoreToJSON=true;this.queue.add=function($0f){if(!$0f){return;};if($0f.isAction){$b.queue.list.push($0f);}else{throw "DayPilot.Action object required for queue.add()";}};this.queue.notify=function($j){var $09={};$09.actions=$b.queue.list;$b.$4L('Notify',$09,$j,"Notify");$b.queue.list=[];};this.queue.clear=function(){$b.queue.list=[];};this.queue.pop=function(){return $b.queue.list.pop();};this.$5G=function($0Z,$10){if(!this.debuggingEnabled){return;};if(!$b.debugMessages){$b.debugMessages=[];};$b.debugMessages.push($0Z);if(typeof console!=='undefined'){console.log($0Z);}};this.showDebugMessages=function(){alert("Log:\n"+$b.debugMessages.join("\n"));};this.$5H=function($o){if($o.ticks===this.startDate.ticks){return $o;};var $11=this.startDate;if($o.ticks<this.startDate.ticks){while($11.ticks>$o.ticks){$11=$11.addMinutes(-this.cellDuration);};return $11;};if($o.ticks>this.startDate.ticks){while($11.ticks<=$o.ticks){$11=$11.addMinutes(this.cellDuration);};return $11.addMinutes(-this.cellDuration);};throw "Internal error: Cannot find box start";};this.$5D=function($0O){var $q=this.getRow($b.coords.y);var e=$0O.event;if(typeof e.end !=='function'){alert("e.end function is not defined");};if(!e.end()){alert("e.end() returns null");};var $12=DayPilot.Date.diff(e.end().d,e.start().d);var $13=$0g.useBox($12);var $14=e.start().getDatePart();var $15=($13)?e.start().getTime()-($14.getTime()+Math.floor((e.start().getHours()*60+e.start().getMinutes())/$b.cellDuration)*$b.cellDuration*60*1000):0;var $16;if(DayPilotScheduler.moveDragStart){$16=$13?DayPilotScheduler.moveDragStart.getTime()-this.$5H(e.start()).getTime():DayPilotScheduler.moveDragStart.getTime()-e.start().getTime();$16=Math.floor(($16/ 60000)/ this.cellDuration)*(this.cellDuration*60000);}else{$16=0;};if(this.eventMoveToPosition){$16=0;};var $I=this.getDate(this.coords.x,true).addTime(-$16);if(DayPilotScheduler.resizing){$I=e.start();};var $17=$I;if(this.snapToGrid){$I=this.$5H($I);};$I=$I.addTime($15);var end=$I.addTime($12);var $18=$I;var $19=end;if(this.viewType==='Days'){var $1a=this.rows[e.part.dayIndex].Start.getTime()-this.startDate.getTime();var $18=$I.addTime(-$1a);var $19=$18.addTime($12);var $1b=$q.element.Start.getTime()-this.startDate.getTime();$I=$18.addTime($1b);end=$I.addTime($12);};var $1c=this.getPixels($18);var $1d=this.getPixels($19);var $y=($13)?$1c.boxLeft:$1c.left;var $Q=($13)?($1d.boxRight-$y):($1d.left-$y);var $0Q={};$0Q.top=$q.top;$0Q.left=$y;$0Q.row=$q.element;$0Q.rowIndex=$q.i;$0Q.width=$Q;$0Q.start=$I;$0Q.end=end;$0Q.relativeY=$b.coords.y-$q.top;return $0Q;};this.$5I=function(y){return this.treePreventParentUsage&&this.$5J(y);};this.$5J=function(y){var $q=this.rows[y];return this.treeEnabled&&$q.Children&&$q.Children.length>0||$q.IsParent;};this.$5K=function(){var scroll=this.nav.scroll;if(!$b.coords){return;};var $0R=DayPilotScheduler.movingShadow;var $0Q=this.$5D(DayPilotScheduler.moving);var ev=DayPilotScheduler.moving.event;var $1e=0;(function(){var y=$0Q.relativeY;var $q=$0Q.row;var $1f=$q.lines.length;var top=0;var lh=$b.eventHeight;var $1g=$q.lines.length;for(var i=0;i<$q.lines.length;i++){var $P=$q.lines[i];if($P.isFree($0Q.left,$b.cellWidth)){$1g=i;break;}};var $1h=Math.floor((y-top+lh/ 2)/ lh);var $1h=Math.min($1g,$1h);var $1h=Math.max(0,$1h);$1e=$1h;})();var $1i=!ev.data.moveVDisabled;var $1j=!ev.data.moveHDisabled;var $1k=$1e*$b.eventHeight;if($1k>0){$1k-=3;};if($1i){if(!this.$5I($0Q.rowIndex)){$0R.row=$0Q.row;$0R.style.height=Math.max($0Q.row.Height,0)+'px';$0R.style.top=($0Q.top)+'px';if($b.eventMoveToPosition){$0R.style.top=($0Q.top+$1k)+"px";$0R.style.height="3px";$0R.line=$1e;}}else{var $1l=$0R.row;var $1m=$0Q.rowIndex<$1l.Index?1:-1;for(var i=$0Q.rowIndex;i!==$1l.Index;i+=$1m){var $q=this.rows[i];if(!this.$5I(i)&&!$q.Hidden){$0R.style.top=($q.Top)+'px';$0R.style.height=Math.max($q.Height,0)+'px';$0R.row=$q;if($b.eventMoveToPosition){$1e=$1m>0?0:$q.lines.length-1;$0R.style.top=($0Q.top+$1k)+"px";$0R.style.height="3px";$0R.line=$1e;};break;}}}}else{var $1l=this.rows[this.getRow(parseInt($0R.style.top)).i];var $1g=$1l.lines.length;for(var i=0;i<$1l.lines.length;i++){var $P=$1l.lines[i];if($P.isFree($0Q.left,$b.cellWidth)){$1g=i;break;}};$0R.style.height=Math.max($1l.Height,0)+'px';$0R.style.top=($1l.Top)+'px';$0R.row=$1l;if($b.eventMoveToPosition){if($0Q.row===$1l){$0R.style.top=($1l.Top+$1k)+"px";$0R.style.height="3px";$0R.line=$1e;}else{var $1h=($0Q.rowIndex>$1l.Index&&$1g>0)?$1g*$b.eventHeight-3:0;$0R.style.top=($1l.Top+$1h)+"px";$0R.style.height="3px";$0R.line=0;}}};if($1j){$0R.style.left=$0Q.left+'px';if($b.eventMoveToPosition){$0R.style.width=($b.cellWidth)+'px';}else{$0R.style.width=($0Q.width)+'px';};$0R.start=$0Q.start;$0R.end=$0Q.end;}else{$0R.start=ev.start();$0R.end=ev.end();}};this.$4y=function(){var $1n=0;if(this.rowHeaderCols){for(var i=0;i<this.rowHeaderCols.length;i++){$1n+=this.rowHeaderCols[i];}}else{$1n=this.rowHeaderWidth;};return $1n;};this.$5L=function(){var $1o=this.divHeader;var $1g=[];for(var i=0;i<$1o.rows.length;i++){for(var j=0;j<$1o.rows[i].cells.length;j++){var $B=$1o.rows[i].cells[j].firstChild.firstChild;if(!$B||!$B.style){continue;};var $1p=$B.style.width;var $1q=$B.style.right;$B.style.position="absolute";$B.style.width="auto";$B.style.right="auto";$B.style.whiteSpace="nowrap";var w=$B.offsetWidth+2;$B.style.position="";$B.style.width=$1p;$B.style.right=$1q;$B.style.whiteSpace="";if(typeof $1g[j]==='undefined'){$1g[j]=0;};$1g[j]=Math.max($1g[j],w);}};var $1r=0;var $1s=false;for(var i=0;i<$1g.length;i++){if(this.rowHeaderCols){if($1g[i]>this.rowHeaderCols[i]){this.rowHeaderCols[i]=$1g[i];$1s=true;};$1r+=this.rowHeaderCols[i];}};if($1s){this.rowHeaderWidth=$1r;this.$5M();}};this.$4e=function(){var parent=this.divResScroll;DayPilot.puc(parent);parent.innerHTML='';var $1t=this.rowHeaderCols;var $0L=$1t?this.rowHeaderCols.length:0;var $1n=this.$4y();var $1o=document.createElement("table");$1o.style.borderCollapse="collapse";$1o.style.KhtmlUserSelect="none";$1o.style.MozUserSelect="none";$1o.style.WebkitUserSelect="none";$1o.style.width=$1n+"px";$1o.style.border="0px none";$1o.cellSpacing=0;$1o.cellPadding=0;$1o.onmousemove=function(){$b.$5N();$b.$5O();};if(!this.cssOnly){$1o.className=this.$4z("resourceheader");};this.divHeader=$1o;var m=this.rows.length;for(var i=0;i<m;i++){var $q=this.rows[i];if($q.Hidden){continue;};var r=$1o.insertRow(-1);var c=r.insertCell(-1);c.row=$q;c.index=i;var $Q=$1t?$1t[0]:this.rowHeaderWidth;c.style.width=($Q)+"px";c.style.border="0px none";if(!this.cssOnly){c.style.borderRight="1px solid "+this.borderColor;c.style.backgroundColor=$q.BackColor;c.style.fontFamily=this.headerFontFamily;c.style.fontSize=this.headerFontSize;c.style.color=this.headerFontColor;c.style.cursor='default';c.style.padding='0px';};if($q.ToolTip){c.title=$q.ToolTip;};c.setAttribute("unselectable","on");c.setAttribute('resource',$q.Value);c.onmousemove=$b.$5P;c.onmouseout=$b.$5Q;c.oncontextmenu=$b.$5R;c.onclick=$b.$5S;var $A=document.createElement("div");$A.style.width=($Q)+"px";$A.setAttribute("unselectable","on");$A.className=this.cssOnly?this.$4z('_rowheader'):this.$4z('rowheader');if($q.CssClass){DayPilot.Util.addClass($A,$q.CssClass);};if($q.BackColor){$A.style.backgroundColor=$q.BackColor;};$A.style.height=($q.Height)+"px";$A.style.overflow='hidden';$A.style.position='relative';var $B=document.createElement("div");$B.setAttribute("unselectable","on");$B.className=this.cssOnly?this.$4z('_rowheader_inner'):"";$A.appendChild($B);var $1u=document.createElement("div");$1u.style.position="absolute";$1u.style.bottom="0px";$1u.style.width="100%";$1u.style.height="1px";if(this.cssOnly){$1u.className=this.$4z("_resourcedivider");}else{$1u.style.backgroundColor=this.borderColor;};$A.appendChild($1u);if(this.treeEnabled){var $1v=document.createElement("div");$1v.style.width="10px";$1v.style.height="10px";$1v.style.backgroundRepeat="no-repeat";$1v.style.position='absolute';$1v.style.left=($q.Level*this.treeIndent+this.treeImageMarginLeft)+'px';$1v.style.top=this.treeImageMarginTop+"px";if(!$q.Loaded&&$q.Children.length===0){if(this.treeImageExpand&&!this.cssOnly){$1v.style.backgroundImage="url('"+this.treeImageExpand+"')";};$1v.className=this.cssOnly?this.$4z('_tree_image_expand'):this.$4z('tree_image_expand');$1v.style.cursor='pointer';$1v.index=i;$1v.onclick=function(ev){$b.$5T(this.index);ev=ev||window.event;ev.cancelBubble=true;};}else if($q.Children.length>0){if($q.Expanded){if(this.treeImageCollapse&&!this.cssOnly){$1v.style.backgroundImage="url('"+this.treeImageCollapse+"')";};$1v.className=this.cssOnly?this.$4z('_tree_image_collapse'):this.$4z('tree_image_collapse');}else{if(this.treeImageExpand&&!this.cssOnly){$1v.style.backgroundImage="url('"+this.treeImageExpand+"')";};$1v.className=this.cssOnly?this.$4z('_tree_image_expand'):this.$4z('tree_image_expand');};$1v.style.cursor='pointer';$1v.index=i;$1v.onclick=function(ev){$b.$5U(this.index);ev=ev||window.event;ev.cancelBubble=true;};}else{if(this.treeImageNoChildren&&!this.cssOnly){$1v.style.backgroundImage="url('"+this.treeImageNoChildren+"')";};$1v.className=this.cssOnly?this.$4z('_tree_image_no_children'):this.$4z('tree_image_no_children');};$B.appendChild($1v);};var $1w=document.createElement("div");if(this.treeEnabled){$1w.style.marginLeft=(($q.Level+1)*this.treeIndent)+'px';}else{$1w.style.marginLeft="4px";};$1w.innerHTML=$q.InnerHTML;$B.appendChild($1w);c.appendChild($A);if($q.areas){for(var j=0;j<$q.areas.length;j++){var $0E=$q.areas[j];if($0E.v!=='Visible'){continue;};var a=DayPilot.Areas.createArea($A,$q,$0E);$A.appendChild(a);}};if(!$q.Columns||$q.Columns.length===0){c.colSpan=$0L>0?$0L:1;$A.style.width=$1n+"px";}else{for(var j=1;j<$0L;j++){var c=r.insertCell(-1);c.row=$q;c.index=i;if(!this.cssOnly){c.style.borderRight="1px solid "+this.borderColor;c.style.backgroundColor=$q.BackColor;c.style.fontFamily=this.headerFontFamily;c.style.fontSize=this.headerFontSize;c.style.color=this.headerFontColor;c.style.cursor='default';c.style.padding='0px';};if($q.ToolTip){c.title=$q.ToolTip;};c.setAttribute("unselectable","on");if(!this.cssOnly){c.className=this.$4z('rowheader');};c.setAttribute('resource',$q.Value);c.onmousemove=$b.$5P;c.onmouseout=$b.$5Q;c.oncontextmenu=$b.$5R;c.onclick=$b.$5S;var $A=document.createElement("div");var w=this.cssOnly?$1t[j]:$1t[j]-1;if($q.BackColor){$A.style.backgroundColor=$q.BackColor;};$A.style.width=w+"px";$A.style.height=($q.Height)+"px";$A.style.overflow='hidden';$A.style.position='relative';$A.setAttribute("unselectable","on");if(this.cssOnly){DayPilot.Util.addClass($A,this.$4z("_rowheader"));DayPilot.Util.addClass($A,this.$4z("_rowheadercol"));DayPilot.Util.addClass($A,this.$4z("_rowheadercol"+j));};if($q.CssClass){DayPilot.Util.addClass($A,$q.CssClass);};var $B=document.createElement("div");$B.setAttribute("unselectable","on");if(this.cssOnly){$B.className=this.$4z("_rowheader_inner");};$A.appendChild($B);var $1u=document.createElement("div");$1u.style.position="absolute";$1u.style.bottom="0px";$1u.style.width=($1t[j]-1)+"px";$1u.style.height="1px";$1u.className=this.$4z("_resourcedivider");if(!this.cssOnly){$1u.style.backgroundColor=this.borderColor;};$A.appendChild($1u);var $1w=document.createElement("div");if(!this.cssOnly){$1w.style.marginLeft='4px';};var $1x=$q.Columns[j-1]?$q.Columns[j-1].innerHTML:"";$1w.innerHTML=$1x;$B.appendChild($1w);c.appendChild($A);}}};var r=$1o.insertRow(-1);var c=r.insertCell(-1);c.colSpan=$0L+1;c.style.width=$1n+"px";c.style.height=(parent.clientHeight+20)+"px";if(!this.cssOnly){c.style.backgroundColor=this.hourNameBackColor;c.style.cursor='default';};c.setAttribute("unselectable","on");if(!this.cssOnly){c.className=this.$4z('rowheader');c.style.fontSize="1px";c.innerHTML="&nbsp;";};if(this.cssOnly){var $A=document.createElement("div");$A.style.position="relative";$A.style.height="100%";$A.className=this.$4z('_rowheader');c.appendChild($A);};parent.appendChild($1o);if(this.rowHeaderWidthAutoFit){this.$5L();}};this.$5R=function(){var $q=this.row;var r={};r.type='resource';r.start=$q.Start;r.name=$q.Name;r.value=$q.Value;r.index=this.index;r.root=$b;r.toJSON=function($1y){var $0C={};$0C.start=this.start;$0C.name=this.name;$0C.value=this.value;$0C.index=this.index;return $0C;};if($q.contextMenu){$q.contextMenu.show(r);};return false;};this.$5S=function(ev){var $q=this.row;var r=$b.$5V($q,this.index);$b.$5n(r);};this.$5W=function(ev){var $N=this.cell;$N.start=this.cell.start;$N.level=this.cell.level;if(!$N.end){$N.end=new DayPilot.Date($N.start).addMinutes($b.cellDuration);};$b.$5o($N);};this.$5V=function($q,$0V){var r={};r.type='resource';r.start=$q.Start;r.name=$q.Name;r.value=$q.Value;r.index=$0V;r.root=$b;r.toJSON=function($1y){var $0C={};$0C.start=this.start;$0C.name=this.name;$0C.value=this.value;$0C.index=this.index;return $0C;};return r;};this.$4d=function($0j,$1z){var $1A=[];var $10=null;if($0j&&$1z){var $1B=$0j;var $10=[];for(var i=0;i<$1B.length;i++){var e=$1B[i];var $X=false;for(var j=0;j<this.events.list.length;j++){var ex=this.events.list[j];if(ex.id===e.id){this.events.list[j]=e;$X=true;break;}};if(!$X){$10.push(e);}};this.events.list=this.events.list.concat($10);}else if($0j){this.events.list=$0j;}else if(!this.events.list){this.events.list=[];};var $0m=$10||this.events.list;var $1C=$0m.length;if(typeof this.onBeforeEventRender==='function'){var $I=$10?this.events.list.length-$10.length:0;var end=this.events.list.length;for(var i=$I;i<end;i++){this.$5X(i);}};var $h=[];for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];if(!$10||typeof $q.events==="undefined"){$q.events=[];};$q.data={};$q.data.start=new DayPilot.Date($q.Start);$q.data.startTicks=$q.data.start.getTime();$q.data.end=$0g.isResourcesView()?$q.data.start.addDays(this.days):$q.data.start.addDays(1);$q.data.endTicks=$q.data.end.getTime();$q.data.offset=$q.Start.getTime()-this.startDate.getTime();$q.data.i=i;if(this.$5I(i)){continue;};for(var j=0;$0m&&j<$1C;j++){if($1A[j]){continue;};var e=$0m[j];var ep=this.$5F(e,$q);if(!ep){continue;};if(typeof this.onBeforeEventRender==='function'){ep.cache=this.cache.events[j+$I];};$h.push(i);if(ep.part.start.getTime()===ep.start().getTime()&&ep.part.end.getTime()===ep.end().getTime()){$1A[j]=true;}}};for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];this.$5Y($q);};this.$50();return DayPilot.ua($h);};this.$5X=function(i){var $U=this.cache.events;var $j=this.events.list[i];var $1D={};for(var name in $j){$1D[name]=$j[name];};if(typeof this.onBeforeEventRender==='function'){var $n={};$n.event=$1D;this.onBeforeEventRender($n);};$U[i]=$1D;};this.$5Y=function($q){$q.lines=[];if(this.sortDirections){$q.events.sort(this.eventComparerCustom);}else{$q.events.sort(this.eventComparer);};for(var j=0;j<$q.events.length;j++){var e=$q.events[j];$q.putIntoLine(e);}};this.$4Z=function($0i){$0i=DayPilot.ua($0i);for(var i=0;i<$0i.length;i++){var ri=$0i[i];$b.$5Y($b.rows[ri]);}};this.$5F=function(e,$q){var $I=new DayPilot.Date(e.start);var end=new DayPilot.Date(e.end);var $1E=$I.getTime();var $1F=end.getTime();if($1F<$1E){return null;};var $1G=false;switch(this.viewType){case 'Days':$1G=!($1F<=$q.data.startTicks||$1E>=$q.data.endTicks)||($1E===$1F&&$1E===$q.data.startTicks);break;case 'Resources':$1G=($q.Value===e.resource||$q.Value==="*")&&(!($1F<=$q.data.startTicks||$1E>=$q.data.endTicks)||($1E===$1F&&$1E===$q.data.startTicks));break;case 'Gantt':$1G=($q.Value===e.id)&&!($1F<=$q.data.startTicks||$1E>=$q.data.endTicks);break;};if(!$1G){return null;};var ep=new DayPilot.Event(e,$b);ep.part.dayIndex=$q.data.i;ep.part.start=$q.data.startTicks<$1E?ep.start():$q.data.start;ep.part.end=$q.data.endTicks>$1F?ep.end():$q.data.end;var $1H=this.getPixels(ep.part.start.addTime(-$q.data.offset));var $1I=this.getPixels(ep.part.end.addTime(-$q.data.offset));var $y=$1H.left;var $z=$1I.left;if($y===$z&&($1H.cut||$1I.cut)){return null;};ep.part.box=$0g.useBox($1F-$1E);if(ep.part.box){var $1J=$1I.boxRight;ep.part.left=Math.floor($y/this.cellWidth)*this.cellWidth;ep.part.width=Math.max(Math.ceil($1J/this.cellWidth)*this.cellWidth-ep.part.left,this.cellWidth);ep.part.barLeft=Math.max($y-ep.part.left,0);ep.part.barWidth=Math.max($z-$y,1);}else{ep.part.left=$y;ep.part.width=Math.max($z-$y-2,0);ep.part.barLeft=0;ep.part.barWidth=Math.max($z-$y-1,1);};$q.events.push(ep);return ep;};this.eventComparer=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $1K=a.start().ticks-b.start().ticks;if($1K!==0){return $1K;};var $1L=b.end().ticks-a.end().ticks;return $1L;};this.eventComparerCustom=function(a,b){if(!a||!b){return 0;};if(!a.data||!b.data||!a.data.sort||!b.data.sort||a.data.sort.length===0||b.data.sort.length===0){return $b.eventComparer(a,b);};var $c=0;var i=0;while($c===0&&a.data.sort[i]&&b.data.sort[i]){if(a.data.sort[i]===b.data.sort[i]){$c=0;}else{$c=$b.stringComparer(a.data.sort[i],b.data.sort[i],$b.sortDirections[i]);};i++;};return $c;};this.stringComparer=function(a,b,$1M){var $1N=($1M!=="desc");var $1O=$1N?-1:1;var $1P=-$1O;if(a===null&&b===null){return 0;};if(b===null){return $1P;};if(a===null){return $1O;};var ar=[];ar[0]=a;ar[1]=b;ar.sort();return a===ar[0]?$1O:$1P;};this.$4c=function(){this.rows=[];this.hasChildren=false;var $0V={};$0V.i=0;this.$5Z(this.resources,$0V,0,null,this.treeEnabled,false);};this.$5Z=function($1Q,$0V,$1R,parent,$1S,$1T){if(!$1Q){return;};for(var i=0;i<$1Q.length;i++){var $1U={};$1U.level=$1R;$1U.hidden=$1T;$1U.index=$0V.i;var $0F=this.$60($1Q[i],$1U);var $q={};$q.BackColor=$0F.backColor;$q.CssClass=$0F.cssClass;$q.Expanded=$0F.expanded;$q.Name=$0F.name;$q.InnerHTML=$0F.innerHTML?$0F.innerHTML:$q.Name;$q.MinHeight=typeof $0F.minHeight!=='undefined'?$0F.minHeight:$b.rowMinHeight;$q.MarginBottom=typeof $0F.marginBottom!=='undefined'?$0F.marginBottom:$b.rowMarginBottom;$q.Loaded=typeof $0F.loaded!=='undefined'?$0F.loaded:true;$q.Value=$0F.id||$0F.value;$q.ToolTip=$0F.toolTip;$q.Children=[];$q.Columns=[];$q.Start=$0F.start?new DayPilot.Date($0F.start):this.startDate;$q.IsParent=$0F.isParent;$q.contextMenu=$0F.contextMenu?eval($0F.contextMenu):this.contextMenuResource;$q.areas=$0F.areas;$q.Height=this.eventHeight;$q.Hidden=$1T;$q.Level=$1R;$q.Index=$0V.i;$q.Resource=$1Q[i];$q.lines=[];$q.isRow=true;$q.height=function(){var $1V=Math.max(1,this.lines.length);var $D=$1V*$b.eventHeight+this.MarginBottom;return($D>this.MinHeight)?$D:this.MinHeight;};$q.putIntoLine=function(ep){var $1W=this;for(var i=0;i<this.lines.length;i++){var $P=this.lines[i];if($P.isFree(ep.part.left,ep.part.width)){$P.push(ep);return i;}};var $P=[];$P.isFree=function($1X,$1Y){var end=$1X+$1Y-1;var $1g=this.length;for(var i=0;i<$1g;i++){var e=this[i];if(!(end<e.part.left||$1X>e.part.left+e.part.width-1)){return false;}};return true;};$P.push(ep);this.lines.push($P);return this.lines.length-1;};this.rows.push($q);if(parent!==null){parent.Children.push($0V.i);};if($0F.columns){for(var j=0;j<$0F.columns.length;j++){$q.Columns.push($0F.columns[j]);}};$0V.i++;if($1S&&$0F.children&&$0F.children.length){this.hasChildren=true;var $1Z=$1T||!$q.Expanded;this.$5Z($0F.children,$0V,$1R+1,$q,true,$1Z);}}};this.$60=function($0F,$1U){var r={};for(var name in $0F){r[name]=$0F[name];};if(typeof $0F.innerHTML==='undefined'){r.innerHTML=$0F.name;};for(var name in $1U){r[name]=$1U[name];};if(typeof this.onBeforeResHeaderRender==='function'){var $n={};$n.resource=r;this.onBeforeResHeaderRender($n);};return r;};this.$61=function(){this.nav.top=document.getElementById(this.id);this.nav.top.dp=this;this.nav.top.innerHTML="";if(!this.cssOnly){this.nav.top.style.border="1px solid "+this.borderColor;}else{DayPilot.Util.addClass(this.nav.top,this.$4z("_main"));};this.nav.top.style.MozUserSelect='none';this.nav.top.style.KhtmlUserSelect='none';this.nav.top.style.WebkitUserSelect='none';if(this.width){this.nav.top.style.width=this.width;};if(this.heightSpec==="Parent100Pct"){this.nav.top.style.height="100%";};this.nav.top.style.lineHeight="1.2";this.nav.top.style.position="relative";this.nav.top.onmousemove=function(ev){ev=ev||window.event;ev.insideMainD=true;if(window.event){window.event.srcElement.inside=true;}};this.nav.top.ontouchstart=$04.onMainTouchStart;this.nav.top.ontouchmove=$04.onMainTouchMove;this.nav.top.ontouchend=$04.onMainTouchEnd;if(this.hideUntilInit){this.nav.top.style.visibility='hidden';};var $20=this.$4y();var $21=this.$62.layout();if($21==='DivBased'){var $y=document.createElement("div");$y.style.cssFloat="left";$y.style.styleFloat="left";$y.style.width=($20)+"px";$y.appendChild(this.$63());var $22=document.createElement("div");$22.style.height="1px";$22.className=this.$4z("_divider_horizontal");if(!this.cssOnly){$22.style.backgroundColor=this.borderColor;};$y.appendChild($22);this.nav.dh1=$22;$y.appendChild(this.$64());this.nav.left=$y;var $23=document.createElement("div");$23.style.cssFloat="left";$23.style.styleFloat="left";$23.style.width="1px";$23.style.height=(this.$4x()+this.$4B())+"px";$23.className=this.$4z("_divider");if(!this.cssOnly){$23.style.backgroundColor=this.borderColor;};this.nav.divider=$23;var $z=document.createElement("div");$z.style.marginLeft=($20+1)+"px";$z.style.marginRight='1px';$z.style.position='relative';$z.appendChild(this.$65());this.nav.right=$z;var $24=document.createElement("div");$24.style.height="1px";$24.style.position="absolute";$24.style.top=this.$4x()+"px";$24.style.width="100%";$24.className=this.$4z("_divider_horizontal");if(!this.cssOnly){$24.style.backgroundColor=this.borderColor;};$z.appendChild($24);this.nav.dh2=$24;$z.appendChild(this.$66());var $25=document.createElement("div");$25.style.clear='left';this.nav.top.appendChild($y);this.nav.top.appendChild($23);this.nav.top.appendChild($z);this.nav.top.appendChild($25);}else{var $1o=document.createElement("table");$1o.cellPadding=0;$1o.cellSpacing=0;$1o.border=0;$1o.style.position='absolute';if(!this.cssOnly){$1o.style.backgroundColor=this.hourNameBackColor;};var $26=$1o.insertRow(-1);var $27=$26.insertCell(-1);$27.appendChild(this.$63());var $28=$26.insertCell(-1);$28.appendChild(this.$65());var $29=$1o.insertRow(-1);var $2a=$29.insertCell(-1);$2a.appendChild(this.$64());var $2b=$29.insertCell(-1);$2b.appendChild(this.$66());this.nav.top.appendChild($1o);};this.vsph=document.createElement("div");this.vsph.style.display="none";this.nav.top.appendChild(this.vsph);var $2c=document.createElement("input");$2c.type="hidden";$2c.id=this.id+"_state";$2c.name=this.id+"_state";this.nav.state=$2c;this.nav.top.appendChild($2c);var loading=document.createElement("div");loading.style.position='absolute';loading.style.left=(this.$4y()+5)+"px";loading.style.top=(this.$4x()+5)+"px";loading.style.display='none';if(!this.cssOnly){loading.style.backgroundColor=this.loadingLabelBackColor;loading.style.fontSize=this.loadingLabelFontSize;loading.style.fontFamily=this.loadingLabelFontFamily;loading.style.color=this.loadingLabelFontColor;loading.style.padding='2px';};loading.innerHTML=this.loadingLabelText;DayPilot.Util.addClass(loading,this.$4z("_loading"));this.nav.loading=loading;this.nav.top.appendChild(loading);};this.$4j=function(){var $D=this.$4x();this.nav.corner.style.height=($D)+"px";this.divCorner.style.height=($D)+"px";this.divTimeScroll.style.height=$D+"px";this.divNorth.style.height=$D+"px";if(this.nav.dh1&&this.nav.dh2){this.nav.dh1.style.top=$D+"px";this.nav.dh2.style.top=$D+"px";};this.nav.loading.style.top=($D+5)+"px";this.nav.scroll.style.top=($D+1)+"px";};this.$5M=function(){var $Q=this.$4y();var $F=$Q;this.nav.corner.style.width=$Q+"px";this.divCorner.style.width=$Q+"px";this.divResScroll.style.width=$Q+"px";this.nav.left.style.width=($Q)+"px";this.nav.right.style.marginLeft=($Q+1)+"px";if(this.nav.message){this.nav.message.style.paddingLeft=$Q+"px";};if(this.nav.loading){this.nav.loading.style.left=($Q+5)+"px";};var $2d=function($B,$Q){if(!$B||!$B.style){return;};$N.style.width=$Q+"px";$B.style.width=$Q+"px";var $23=$B.lastChild;if($23){$23.style.width=$Q+"px";}};var $1o=this.divHeader;$1o.style.width=$Q+"px";for(var i=0;i<$1o.rows.length;i++){var $N=$1o.rows[i].cells[0];if($N.colSpan>1){var $B=$1o.rows[i].cells[0].firstChild;$2d($B,$F);}else{for(var j=0;j<$1o.rows[i].cells.length;j++){var $Q=this.rowHeaderCols[j];var $B=$1o.rows[i].cells[j].firstChild;$2d($B,$Q);}}};this.$5N();};this.$63=function(){var $20=this.$4y();var $A=document.createElement("div");$A.style.width=$20+"px";$A.style.height=(this.$4x())+"px";if(!this.cssOnly){$A.style.backgroundColor=this.hourNameBackColor;$A.style.fontFamily=this.hourFontFamily;$A.style.fontSize=this.hourFontSize;$A.style.cursor='default';};$A.style.overflow='hidden';$A.style.position='relative';$A.className=this.cssOnly?this.$4z('_corner'):this.$4z('corner');$A.setAttribute("unselectable","on");$A.onmousemove=function(){$b.$5N();$b.$5O();};$A.oncontextmenu=function(){return false;};var $B=document.createElement("div");if(this.cssOnly){$B.className=this.$4z('_corner_inner');};this.divCorner=$B;$B.innerHTML='&nbsp;';$A.appendChild($B);var $2e=document.createElement("div");$2e.style.position='absolute';$2e.style.padding='2px';$2e.style.top='0px';$2e.style.left='1px';$2e.style.backgroundColor="#FF6600";$2e.style.color="white";$2e.innerHTML="\u0044\u0045\u004D\u004F";if(this.numberFormat)$A.appendChild($2e);$b.nav.corner=$A;return $A;};this.$4x=function(){if(this.timeHeader){var $2f=this.timeHeader.length;if(!this.showBaseTimeHeader){$2f-=1;};return $2f*this.headerHeight;};return 2*this.headerHeight;};this.$64=function(){var $A=document.createElement("div");if(!this.cssOnly){$A.style.backgroundColor=this.hourNameBackColor;};$A.style.width=(this.$4y())+"px";$A.style.height=this.$4B()+"px";$A.style.overflow='hidden';$A.style.position='relative';$A.onmousemove=function(){$b.$5N();$b.$5O();};$A.oncontextmenu=function(){return false;};this.divResScroll=$A;this.scrollRes=$A;return $A;};this.$67=function($A){if($0g.layout()==='TableBased'){var $Q=parseInt(this.width,10);var $2g=(this.width.indexOf("%")!==-1);var $2h=/MSIE/i.test(navigator.userAgent);var $20=this.$4y();if($2g){if(this.nav.top&&this.nav.top.offsetWidth>0){$A.style.width=(this.nav.top.offsetWidth-6-$20)+"px";}}else{$A.style.width=($Q-$20)+"px";}}};this.resize=function(){if($b.$62.layout()==='TableBased'){$b.$67($b.nav.scroll);$b.$67($b.divTimeScroll);};$b.$4k();if($b.cellWidthSpec==='Auto'){$b.$4b();$b.$4f();$b.$4o();}};this.$4b=function(){if(this.cellWidthSpec!=='Auto'){return;};var $F=this.nav.top.clientWidth;var $2i=this.$4y();var $0p=$F-$2i;var $N=$0p/this.$4w();this.cellWidth=Math.floor($N);};this.$65=function(){var $A=document.createElement("div");$A.style.overflow='hidden';if(!this.cssOnly){$A.style.backgroundColor=this.hourNameBackColor;};$A.style.position='absolute';$A.style.display='block';$A.style.top="0px";$A.style.width="100%";$A.style.height=this.$4x()+"px";$A.style.overflow="hidden";$A.onmousemove=function(){$b.$5N();$b.$5O();if($b.cellBubble){$b.cellBubble.delayedHide();}};this.$67($A);this.divTimeScroll=$A;var $B=document.createElement("div");$B.style.width=(this.$4w()*this.cellWidth+5000)+"px";this.divNorth=$B;$A.appendChild($B);return $A;};this.$4B=function(){var $D;if(this.heightSpec==='Fixed'||this.heightSpec==="Parent100Pct"){return this.height?this.height:0;}else{if(this.innerHeightTree){var $2j=DayPilot.sh($b.nav.scroll);if($2j===0){$D=this.innerHeightTree;}else{$D=this.innerHeightTree+$2j;}}else{$D=this.rows.length*this.eventHeight;}};if(this.heightSpec==='Max'&&$D>this.height){return this.height;};return $D;};this.$68=function(){this.$5N();this.$5O();};this.$66=function(){var $A=document.createElement("div");$A.style.overflow="auto";$A.style.overflowX="auto";$A.style.overflowY="auto";$A.style.position="absolute";$A.style.height=(this.$4B())+"px";$A.style.top=(this.$4x()+1)+"px";$A.style.width="100%";if(!this.cssOnly){$A.style.backgroundColor=this.emptyBackColor;};$A.className=this.$4z("_scrollable");$A.oncontextmenu=function(){return false;};this.$67($A);this.nav.scroll=$A;this.maind=document.createElement("div");this.maind.style.MozUserSelect="none";this.maind.style.KhtmlUserSelect="none";this.maind.style.WebkitUserSelect="none";this.maind.style.position='absolute';this.maind.style.width=(this.$4w()*this.cellWidth)+"px";this.maind.setAttribute("unselectable","on");this.maind.onmousedown=this.$69;this.maind.onmousemove=this.$6a;this.maind.oncontextmenu=this.$6b;this.maind.ondblclick=this.$6c;this.maind.className=this.$4z("_matrix");this.divStretch=document.createElement("div");this.divStretch.style.position='absolute';this.divStretch.style.height='1px';this.maind.appendChild(this.divStretch);this.divCells=document.createElement("div");this.divCells.style.position='absolute';this.divCells.oncontextmenu=this.$6b;this.maind.appendChild(this.divCells);this.divLines=document.createElement("div");this.divLines.style.position='absolute';this.divLines.oncontextmenu=this.$6b;this.maind.appendChild(this.divLines);this.divBreaks=document.createElement("div");this.divBreaks.style.position='absolute';this.divBreaks.oncontextmenu=this.$6b;this.maind.appendChild(this.divBreaks);this.divSeparators=document.createElement("div");this.divSeparators.style.position='absolute';this.divSeparators.oncontextmenu=this.$6b;this.maind.appendChild(this.divSeparators);this.divCrosshair=document.createElement("div");this.divCrosshair.style.position='absolute';this.divCrosshair.ondblclick=this.$6c;this.maind.appendChild(this.divCrosshair);this.divRange=document.createElement("div");this.divRange.style.position='absolute';this.divRange.oncontextmenu=this.$6b;this.maind.appendChild(this.divRange);this.divEvents=document.createElement("div");this.divEvents.style.position='absolute';this.maind.appendChild(this.divEvents);this.divSeparatorsAbove=document.createElement("div");this.divSeparatorsAbove.style.position='absolute';this.divSeparatorsAbove.oncontextmenu=this.$6b;this.maind.appendChild(this.divSeparatorsAbove);$A.appendChild(this.maind);return $A;};this.$5v=function(){if(this.loadingLabelVisible){$b.nav.loading.innerHTML=this.loadingLabelText;$b.nav.loading.style.display='';}};this.$47=function($0Z){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};if($0Z){this.nav.loading.innerHTML=$0Z;window.setTimeout(function(){$b.$47();},1000);}else{this.nav.loading.style.display='none';}};this.$6d=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart();};this.$4u=function($2k){if($2k){this.autoRefreshEnabled=true;};if(!this.autoRefreshEnabled){return;};if(this.autoRefreshCount>=this.autoRefreshMaxCount){return;};this.$5u();var $2l=this.autoRefreshInterval;if(!$2l||$2l<10){throw "The minimum autoRefreshInterval is 10 seconds";};this.autoRefreshTimeout=window.setTimeout(function(){$b.$6e();},this.autoRefreshInterval*1000);};this.$5u=function(){if(this.autoRefreshTimeout){window.clearTimeout(this.autoRefreshTimeout);}};this.$6e=function(){if(!DayPilotScheduler.resizing&&!DayPilotScheduler.moving&&!DayPilotScheduler.drag&&!DayPilotScheduler.range){var $2m=false;if(typeof this.onAutoRefresh==='function'){var $n={};$n.i=this.autoRefreshCount;$n.preventDefault=function(){this.preventDefault.value=true;};$b.onAutoRefresh($n);if($n.preventDefault.value){$2m=true;}};if(!$2m){this.commandCallBack(this.autoRefreshCommand);};this.autoRefreshCount++;};if(this.autoRefreshCount<this.autoRefreshMaxCount){this.autoRefreshTimeout=window.setTimeout(function(){$b.$6e();},this.autoRefreshInterval*1000);}};this.$6f=function(){if(!DayPilotScheduler.globalHandlers){DayPilotScheduler.globalHandlers=true;DayPilot.re(document,'mousemove',DayPilotScheduler.gMouseMove);DayPilot.re(document,'mouseup',DayPilotScheduler.gMouseUp);DayPilot.re(window,'unload',DayPilotScheduler.gUnload);};DayPilot.re(window,'resize',this.resize);};this.$6g=function(){this.nav.scroll.root=this;this.nav.scroll.onscroll=this.$6h;$b.scrollPos=this.nav.scroll.scrollLeft;$b.scrollTop=this.nav.scroll.scrollTop;$b.scrollWidth=this.divNorth.clientWidth;};this.$4t=function(){var $I=new Date();var $2n={};$2n.scrollX=this.nav.scroll.scrollLeft;$2n.scrollY=this.nav.scroll.scrollTop;if(this.syncResourceTree){$2n.tree=this.$5x();};this.nav.state.value=DayPilot.he(DayPilot.JSON.stringify($2n));var end=new Date();};this.$4p=function(){if(!this.separators){return;};for(var i=0;i<this.separators.length;i++){this.$6i(i);}};this.batch={};this.batch.step=300;this.batch.delay=10;this.batch.mode="display";this.batch.layers=true;this.$4q=function($0s){var $2o=this.batch.step;var $2p=this.batch.layers;if($2p){$b.divEvents=document.createElement("div");$b.divEvents.style.position='absolute';$b.maind.appendChild(this.divEvents);}else{};if(this.batch.mode==='display'){this.divEvents.style.display='none';}else if(this.batch.mode==='visibility'){this.divEvents.style.visibility='hidden';};var $2q=this.dynamicEventRendering==='Progressive';var top=this.nav.scroll.scrollTop;var $0U=top+this.nav.scroll.clientHeight;if(this.clientSide){for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];var $2r=$q.Top-this.dynamicEventRenderingMargin;var $2s=$2r+$q.Height+2*this.dynamicEventRenderingMargin;if($2q&&($0U<=$2r||top>=$2s)){continue;};for(var j=0;j<$q.lines.length;j++){var $P=$q.lines[j];for(var k=0;k<$P.length;k++){var e=$P[k];if(!e.part.top){e.part.line=j;e.part.top=j*this.eventHeight;e.part.height=this.eventHeight;e.part.right=e.part.left+e.part.width;e.part.fullTop=this.rows[e.part.dayIndex].Top+e.Top;e.part.fullBottom=e.part.fullTop+e.part.height;};var $2t=this.$6j(e);if($0s&&$2t){$2o--;if($2o<=0){this.divEvents.style.visibility='';this.divEvents.style.display='';window.setTimeout(function(){$b.$4q($0s);},$b.batch.delay);return;}}}}}}else{var $2u=this.events.list.length;for(var i=0;i<$2u;i++){this.$6j(this.events.list[i]);}};this.divEvents.style.display='';this.$47();};this.$5d=function($2v){var $q=this.rows[$2v];this.divEvents=document.createElement("div");this.divEvents.style.position='absolute';this.divEvents.style.display='none';this.maind.appendChild(this.divEvents);for(var j=0;j<$q.lines.length;j++){var $P=$q.lines[j];for(var k=0;k<$P.length;k++){var e=$P[k];e.part.line=j;e.part.top=j*this.eventHeight;e.part.height=this.eventHeight;e.part.right=e.part.left+e.part.width;e.part.fullTop=this.rows[e.part.dayIndex].Top+e.Top;e.part.fullBottom=e.part.fullTop+e.part.height;this.$6j(e);}};this.divEvents.style.display='';};this.$4m=function(){if(this.elements.events){var length=this.elements.events.length;for(var i=0;i<length;i++){var $A=this.elements.events[i];this.$6k($A);}};this.elements.events=[];};this.$5c=function($2v){if(this.elements.events){var length=this.elements.events.length;var $2w=[];for(var i=0;i<length;i++){var $A=this.elements.events[i];if($A.row===$2v){this.$6k($A);$2w.push(i);}};for(var i=$2w.length-1;i>=0;i--){this.elements.events.splice($2w[i],1);}}};this.$6k=function($A){$A.onclick=null;$A.oncontextmenu=null;$A.onmouseover=null;$A.onmouseout=null;$A.onmousemove=null;$A.onmousedown=null;$A.ondblclick=null;$A.event.rendered=null;$A.event=null;if($A.parentNode){$A.parentNode.removeChild($A);}};this.$6l=function($2x){if(!$2x){$2x=0;};if(this.dynamicEventRendering!=='Progressive'){return;};this.divEvents.style.display='none';var $0r=[];var $2y=0;var length=this.elements.events.length;for(var i=length-1;i>=0;i--){var $A=this.elements.events[i];if(this.$6m($A.event)){if($2x>0){$2x--;$0r.unshift($A);}else{this.$6k($A);$2y++;}}else{$0r.unshift($A);}};this.elements.events=$0r;this.divEvents.style.display='';};this.$4n=function(){if(this.elements.separators){for(var i=0;i<this.elements.separators.length;i++){var $A=this.elements.separators[i];DayPilot.pu($A);$A.parentNode.removeChild($A);}};this.elements.separators=[];};this.$6n=function(){var $2q=this.dynamicEventRendering==='Progressive';if(!this.nav.scroll){return false;};var top=this.nav.scroll.scrollTop;var $0U=top+this.nav.scroll.clientHeight;for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];var $2r=$q.Top;var $2s=$q.Top+$q.Height;if($2q&&($0U<=$2r||top>=$2s)){continue;};for(var j=0;j<$q.lines.length;j++){var $P=$q.lines[j];for(var k=0;k<$P.length;k++){var e=$P[k];if(this.$6o(e)){return true;}}}};return false;};this.$6o=function($j){if($j.rendered){return false;};var $2q=this.dynamicEventRendering==='Progressive';var $y=this.nav.scroll.scrollLeft;var $z=$y+this.nav.scroll.clientWidth;var $2z=$j.Left;var $2A=$j.Left+$j.Width;if($2q&&($z<=$2z||$y>=$2A)){return false;};return true;};this.$6m=function($j){if(!$j.rendered){return true;};var top=this.nav.scroll.scrollTop;var $0U=top+this.nav.scroll.clientHeight;var $y=this.nav.scroll.scrollLeft;var $z=$y+this.nav.scroll.clientWidth;var $2z=$j.Left;var $2A=$j.Right;var $2B=$j.FullTop;var $2C=$j.FullBottom;if($z<=$2z||$y>=$2A){return true;};if($0U<=$2B||top>=$2C){return true;};return false;};this.$6j=function($j){if($j.rendered){return false;};var $2q=this.dynamicEventRendering==='Progressive'&&!this.dynamicLoading;var $y=this.nav.scroll.scrollLeft-this.dynamicEventRenderingMargin;var $z=$y+this.nav.scroll.clientWidth+2*this.dynamicEventRenderingMargin;var $2z=$j.part.left;var $2A=$j.part.left+$j.part.width;if($2q&&($z<=$2z||$y>=$2A)){return false;};var $2v=$j.part.dayIndex;var $2D=!this.cssOnly&&this.eventBorderVisible;var $Q=$j.part.width;var $D=$j.part.height;if($2D){$Q-=2;$D-=2;};var $U=$j.cache||$j.data;$Q=Math.max(0,$Q);$D=Math.max(0,$D);var $q=this.rows[$2v];if($q.Hidden){return false;};var $2r=$q.Top;var $A=document.createElement("div");$A.style.position='absolute';$A.style.left=$j.part.left+'px';$A.style.top=($2r+$j.part.top)+'px';$A.style.width=$Q+'px';$A.style.height=$D+'px';if(!this.cssOnly){if($b.eventBorderVisible){$A.style.border='1px solid '+($U.borderColor||this.eventBorderColor);};$A.style.backgroundColor=$j.client.backColor();$A.style.fontSize=this.eventFontSize;$A.style.cursor='default';$A.style.fontFamily=this.eventFontFamily;$A.style.color=$U.fontColor||this.eventFontColor;if($U.backgroundImage&&!this.durationBarVisible){$A.style.backgroundImage="url("+$U.backgroundImage+")";if($U.backgroundRepeat){$A.style.backgroundRepeat=$U.backgroundRepeat;}};if(this.$62.rounded()){$A.style.MozBorderRadius="5px";$A.style.webkitBorderRadius="5px";$A.style.borderRadius="5px";}};$A.style.whiteSpace='nowrap';$A.style.overflow='hidden';$A.className=this.cssOnly?this.$4z("_event"):this.$4z("event");if($U.cssClass){DayPilot.Util.addClass($A,$U.cssClass);};var $2E=true;if($2E){DayPilot.Util.addClass($A,this.$4z("_event_line"+$j.part.line));};$A.setAttribute("unselectable","on");if(this.showToolTip){$A.title=$j.client.toolTip();};$A.onmousemove=this.$6p;$A.onmouseout=this.$6q;$A.onmousedown=this.$6r;$A.ontouchstart=$04.onEventTouchStart;$A.ontouchmove=$04.onEventTouchMove;$A.ontouchend=$04.onEventTouchEnd;if($j.client.clickEnabled()){$A.onclick=this.$4I;};if($j.client.doubleClickEnabled()){$A.ondblclick=this.$4S;};$A.oncontextmenu=this.$4R;var $2F=[];var $2G=0;if(this.cssOnly){var $B=document.createElement("div");$B.setAttribute("unselectable","on");$B.className=$b.$4z("_event_inner");$B.innerHTML=$j.client.innerHTML();if($U.backColor){$B.style.backgroundColor=$U.backColor;};if($U.borderColor){$B.style.borderColor=$U.borderColor;};if($U.backgroundImage){$B.style.backgroundImage="url("+$U.backgroundImage+")";if($U.backgroundRepeat){$B.style.backgroundRepeat=$U.backgroundRepeat;}};$A.appendChild($B);if($j.client.barVisible()){var $2H=100*$j.part.barLeft/($Q);var $2I=Math.ceil(100*$j.part.barWidth/($Q));if(this.durationBarMode==="PercentComplete"){$2H=0;$2I=$U.complete;};var $2J=document.createElement("div");$2J.setAttribute("unselectable","on");$2J.className=this.$4z("_event_bar");$2J.style.position="absolute";var $2K=document.createElement("div");$2K.setAttribute("unselectable","on");$2K.className=this.$4z("_event_bar_inner");$2K.style.left=$2H+"%";if(0<$2I&&$2I<=1){$2K.style.width="1px";}else{$2K.style.width=$2I+"%";};if($U.barColor){$2K.style.backgroundColor=$U.barColor;};$2J.appendChild($2K);$A.appendChild($2J);}}else{if($j.client.barVisible()){$2G=$b.durationBarHeight;$2F.push("<div unselectable='on' style='left:0px;background-color:white;width:");$2F.push($j.part.barLeft);$2F.push("px;height:2px;font-size:1px;position:absolute'></div>");$2F.push("<div unselectable='on' style='left:");$2F.push($j.part.barLeft+$j.part.barWidth);$2F.push("px;background-color:white;width:");$2F.push($Q-($j.part.barLeft+$j.part.barWidth));$2F.push("px;height:2px;font-size:1px;position:absolute'></div>");if(this.durationBarMode==="Duration"){$2F.push("<div unselectable='on' style='width:");$2F.push($j.part.barWidth);$2F.push("px;margin-left:");$2F.push($j.part.barLeft);$2F.push("px;height:");}else{$2F.push("<div unselectable='on' style='width:");$2F.push($U.complete);$2F.push("%;margin-left:0px;height:");};$2F.push($2G-1);$2F.push("px;background-color:");$2F.push($j.client.barColor());if($U.durationBarImageUrl){$2F.push(";background-image:url(");$2F.push($U.durationBarImageUrl);$2F.push(")");};$2F.push(";font-size:1px;position:relative'></div>");$2F.push("<div unselectable='on' style='width:");$2F.push($Q);$2F.push("px;height:1px;background-color:");$2F.push(($U.borderColor||this.eventBorderColor));$2F.push(";font-size:1px;overflow:hidden;position:relative'></div>");};$2F.push("<div unselectable='on' style='padding-left:1px;width:");$2F.push($Q-1);$2F.push("px;height:");$2F.push($D-$2G);$2F.push("px;");if($b.rtl){$2F.push("direction:rtl;");};if($U.backgroundImage&&this.durationBarVisible){$2F.push("background-image:url(");$2F.push($U.backgroundImage);$2F.push(");");if($U.backgroundRepeat){$2F.push("background-repeat:");$2F.push($U.backgroundRepeat);$2F.push(";");}};$2F.push("'>");$2F.push($j.client.innerHTML());$2F.push("</div>");$A.innerHTML=$2F.join('');};$A.row=$2v;if($U.areas){for(var i=0;i<$U.areas.length;i++){var $0E=$U.areas[i];if($0E.v!=='Visible'){continue;};var a=DayPilot.Areas.createArea($A,$j,$0E);$A.appendChild(a);}};this.elements.events.push($A);this.divEvents.appendChild($A);$j.rendered=true;$A.event=$j;if($b.multiselect.$54($A.event)){$b.multiselect.add($A.event,true);$b.multiselect.$53($A);};if($b.$4v()){if(typeof $b.onAfterEventRender==='function'){var $n={};$n.e=$A.event;$n.div=$A;$b.onAfterEventRender($n);}}else{if($b.afterEventRender){$b.afterEventRender($A.event,$A);}};return true;};this.$4v=function(){return $b.api===2;};this.$5e=function(){for(var i=0;i<this.elements.events.length;i++){var $A=this.elements.events[i];var event=$A.event;var $2v=event.part.dayIndex;var $q=this.rows[$2v];var $2r=$q.Top;$A.style.top=($2r+event.part.top)+'px';}};this.$6s=function(e){for(var i=0;i<$b.elements.events.length;i++){var $A=$b.elements.events[i];if($A.event===e){return $A;}};return null;};this.$6q=function(ev){var $A=this;DayPilot.Areas.hideAreas($A,ev);if($b.cssOnly){DayPilot.Util.removeClass($A,$b.$4z("_event_hover"));};if($b.bubble&&$b.eventHoverHandling==='Bubble'){$b.bubble.hideOnMouseOut();}};this.$6p=function(ev){ev=ev||window.event;if($b.cellBubble){$b.cellBubble.delayedHide();};var $A=this;while($A&&!$A.event){$A=$A.parentNode;};$b.$6t($A,ev);if(!$A.active){DayPilot.Areas.showAreas($A,$A.event);if($b.cssOnly){DayPilot.Util.addClass($A,$b.$4z("_event_hover"));}};if(ev.srcElement){ev.srcElement.insideEvent=true;}else{ev.insideEvent=true;}};this.$6r=function(ev){$b.$5N();$b.$5O();if(typeof DayPilot.Bubble!=='undefined'){DayPilot.Bubble.hideActive();};ev=ev||window.event;var $2L=ev.which||ev.button;if((this.style.cursor==='w-resize'||this.style.cursor==='e-resize')&&$2L===1){DayPilotScheduler.resizing=this;DayPilotScheduler.originalMouse=DayPilot.mc(ev);document.body.style.cursor=this.style.cursor;}else if((this.style.cursor==='move'||$b.moveBy==='Full')&&$2L===1){DayPilotScheduler.moving=this;DayPilotScheduler.originalMouse=DayPilot.mc(ev);DayPilotScheduler.moveOffsetX=DayPilot.mo3(this,ev).x;DayPilotScheduler.moveDragStart=$b.getDate($b.coords.x,true);document.body.style.cursor='move';};ev.cancelBubble=true;return false;};this.$6u={};var $04=$b.$6u;$04.active=false;$04.start=false;$04.timeouts=[];$04.onEventTouchStart=function(ev){if($04.active||$04.start){return;};$04.clearTimeouts();$04.start=true;$04.active=false;var $A=this;var $2M=500;$04.timeouts.push(window.setTimeout(function(){$04.active=true;$04.start=false;$b.coords=$04.relativeCoords(ev);$04.startMoving($A,ev);ev.preventDefault();},$2M));ev.stopPropagation();};$04.onEventTouchMove=function(ev){$04.clearTimeouts();$04.start=false;};$04.onEventTouchEnd=function(ev){$04.clearTimeouts();if($04.start){$b.$4M(this,false);};window.setTimeout(function(){$04.start=false;$04.active=false;},500);};$04.onMainTouchStart=function(ev){if($04.active||$04.start){return;};$04.clearTimeouts();$04.start=true;$04.active=false;var $2M=500;$04.timeouts.push(window.setTimeout(function(){$04.active=true;$04.start=false;ev.preventDefault();$b.coords=$04.relativeCoords(ev);$04.range=$b.$6v();},$2M));};$04.onMainTouchMove=function(ev){$04.clearTimeouts();$04.start=false;if($04.active){ev.preventDefault();$b.coords=$04.relativeCoords(ev);if(DayPilotScheduler.moving){$04.updateMoving();return;};if($04.range){var $0x=$04.range;$0x.end={x:Math.floor($b.coords.x/$b.cellWidth)};$b.$6w($0x);}}};$04.onMainTouchEnd=function(ev){$04.clearTimeouts();if($04.active){if(DayPilotScheduler.moving){ev.preventDefault();var e=DayPilotScheduler.moving.event;var $0b=DayPilotScheduler.movingShadow.start;var $0c=DayPilotScheduler.movingShadow.end;var $0e=($b.viewType!=='Days')?DayPilotScheduler.movingShadow.row.Value:null;var external=DayPilotScheduler.drag?true:false;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow.calendar=null;document.body.style.cursor='default';DayPilotScheduler.moving=null;DayPilotScheduler.movingShadow=null;$b.$5f(e,$0b,$0c,$0e,external);};if($04.range){var $2N=$b.$6x($04.range);$04.range=null;$b.$5j($2N.start,$2N.end,$2N.resource);}};window.setTimeout(function(){$04.start=false;$04.active=false;},500);};$04.clearTimeouts=function(){for(var i=0;i<$04.timeouts.length;i++){clearTimeout($04.timeouts[i]);};$04.timeouts=[];};$04.relativeCoords=function(ev){var $2O=$b.maind;var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $2P=DayPilot.abs($2O);var $0Q={x:x-$2P.x,y:y-$2P.y,toString:function(){return "x: "+this.x+", y:"+this.y;}};return $0Q;};$04.startMoving=function($A,ev){var $0Q={x:ev.touches[0].pageX,y:ev.touches[0].pageY};DayPilotScheduler.moving=$A;DayPilotScheduler.originalMouse=$0Q;var $2Q=DayPilot.abs($A);DayPilotScheduler.moveOffsetX=$0Q.x-$2Q.x;DayPilotScheduler.moveDragStart=$b.getDate($b.coords.x,true);DayPilotScheduler.movingShadow=$b.$5C($A,$b.shadow);$b.$5K();};$04.updateMoving=function(){if(DayPilotScheduler.movingShadow&&DayPilotScheduler.movingShadow.calendar!==$b){DayPilotScheduler.movingShadow.calendar=null;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow=null;};if(!DayPilotScheduler.movingShadow){var mv=DayPilotScheduler.moving;DayPilotScheduler.movingShadow=$b.$5C(mv,$b.shadow);};DayPilotScheduler.moving.target=$b;$b.$5K();};this.$6t=function($A,ev){if($b.moveBy==="Disabled"||$b.moveBy==="None"){return;};var $2R=this.eventResizeMargin;var $2S=this.eventMoveMargin;var $0O=$A;if(typeof(DayPilotScheduler)==='undefined'){return;};var $00=DayPilot.mo3($A,ev);if(!$00){return;};$b.eventOffset=$00;if(DayPilotScheduler.resizing){return;};var $2T=$A.getAttribute("dpStart")===$A.getAttribute("dpPartStart");var $2U=$A.getAttribute("dpEnd")===$A.getAttribute("dpPartEnd");if($b.moveBy==='Top'&&$00.y<=$2S&&$0O.event.client.moveEnabled()&&$b.eventMoveHandling!=='Disabled'){if($2T){$A.style.cursor='move';}else{$A.style.cursor='not-allowed';}}else if($b.moveBy==='Top'&&$00.x<=$2R&&$0O.event.client.resizeEnabled()&&$b.eventResizeHandling!=='Disabled'){if($2T){$A.style.cursor="w-resize";$A.dpBorder='left';}else{$A.style.cursor='not-allowed';}}else if($b.moveBy==='Left'&&$00.x<=$2S&&$0O.event.client.moveEnabled()&&$b.eventMoveHandling!=='Disabled'){if($2T){$A.style.cursor="move";}else{$A.style.cursor='not-allowed';}}else if($A.offsetWidth-$00.x<=$2R&&$0O.event.client.resizeEnabled()&&$b.eventResizeHandling!=='Disabled'){if($2U){$A.style.cursor="e-resize";$A.dpBorder='right';}else{$A.style.cursor='not-allowed';}}else if(!DayPilotScheduler.resizing&&!DayPilotScheduler.moving){if($0O.event.client.clickEnabled()&&$b.eventClickHandling!=='Disabled'){$A.style.cursor='pointer';}else{$A.style.cursor='default';}};if(typeof(DayPilotBubble)!=='undefined'&&$b.bubble&&$b.eventHoverHandling==='Bubble'){if($A.style.cursor==='default'||$A.style.cursor==='pointer'){$b.bubble.showEvent($A.event);}else{}}};this.$4w=function(){if(this.viewType!=='Days'){return this.timeline.length;}else{return Math.floor(24*60/this.cellDuration);}};this.$6x=function($0x){var $0x=$0x||DayPilotScheduler.range||DayPilotScheduler.rangeHold;if(!$0x){return null;};var $q=$b.rows[$0x.start.y];if(!$q){return null;};var $0w=$q.Value;var $2V=$0x.end.x>$0x.start.x?$0x.start.x:$0x.end.x;var $2W=($0x.end.x>$0x.start.x?$0x.end.x:$0x.start.x);var $1a=$q.Start.getTime()-this.startDate.getTime();var $I=this.timeline[$2V].start.addTime($1a);var end=this.timeline[$2W].end.addTime($1a);return new DayPilot.Selection($I,end,$0w,$b);};this.$6y=function($0O){var $2X=$0O.parentNode;var $2Y=document.createElement('textarea');$2Y.style.position='absolute';$2Y.style.width=(($0O.offsetWidth<100)?100:($0O.offsetWidth-2))+'px';$2Y.style.height=($0O.offsetHeight-2)+'px';$2Y.style.fontFamily=DayPilot.gs($0O,'fontFamily')+DayPilot.gs($0O,'font-family');$2Y.style.fontSize=DayPilot.gs($0O,'fontSize')+DayPilot.gs($0O,'font-size');$2Y.style.left=$0O.offsetLeft+'px';$2Y.style.top=$0O.offsetTop+'px';$2Y.style.border='1px solid black';$2Y.style.padding='0px';$2Y.style.marginTop='0px';$2Y.style.backgroundColor='white';$2Y.value=DayPilot.tr($0O.event.text());$2Y.event=$0O.event;$2X.appendChild($2Y);return $2Y;};this.$4N=function($0O){if(DayPilotScheduler.editing){DayPilotScheduler.editing.blur();return;};var $2Y=this.$6y($0O);DayPilotScheduler.editing=$2Y;$2Y.onblur=function(){var $2Z=$0O.event.text();var $0y=$2Y.value;DayPilotScheduler.editing=null;if($2Y.parentNode){$2Y.parentNode.removeChild($2Y);};if($2Z===$0y){return;};$0O.style.display='none';$b.$5r($0O.event,$0y);};$2Y.onkeypress=function(e){var $30=(window.event)?event.keyCode:e.keyCode;if($30===13){this.onblur();return false;}else if($30===27){$2Y.parentNode.removeChild($2Y);DayPilotScheduler.editing=false;};return true;};$2Y.select();$2Y.focus();};this.$5P=function(ev){var td=this;if(typeof(DayPilotBubble)!=='undefined'){if($b.cellBubble){$b.cellBubble.hideOnMouseOut();};if($b.resourceBubble){var $0F={};$0F.calendar=$b;$0F.id=td.getAttribute("resource");$0F.toJSON=function(){var $0C={};$0C.id=this.id;return $0C;};$b.resourceBubble.showResource($0F);}};var $A=td.firstChild;if(!$A.active){DayPilot.Areas.showAreas($A,$b.rows[td.index]);}};this.$5Q=function(ev){var td=this;if(typeof(DayPilotBubble)!=='undefined'&&$b.resourceBubble){$b.resourceBubble.hideOnMouseOut();};var $A=td.firstChild;DayPilot.Areas.hideAreas($A,ev);$A.data=null;};this.$4f=function(){var $1o=document.createElement("table");$1o.cellSpacing=0;$1o.cellPadding=0;if(!this.cssOnly){$1o.className=this.$4z("timeheader");};$1o.style.borderCollapse="collapse";if(!this.cssOnly){$1o.style.color=$b.headerFontColor;$1o.style.border="0px none";};for(var i=0;i<this.timeHeader.length-1;i++){var $26=$1o.insertRow(-1);this.$6z($26,i);};var $29=$1o.insertRow(-1);this.$6A($29);var $31=this.divNorth;DayPilot.puc($31);$31.innerHTML='';$31.appendChild($1o);$31.style.width=(this.$4w()*this.cellWidth+5000)+"px";var $32=this.divCorner;if(!this.cssOnly){$32.style.backgroundColor=this.cornerBackColor;};$32.innerHTML=this.cornerHTML;this.divStretch.style.width=(this.timeline.length*this.cellWidth)+"px";};this.$6z=function($q,$0V){if(this.timeHeader){if(this.timeHeader.length-1<=$0V){throw "Not enough timeHeader rows";};for(var i=0;i<this.timeHeader[$0V].length;i++){var $N=this.timeHeader[$0V][i];if(!$N.toolTip){$N.toolTip=$N.innerHTML;};if(!this.cssOnly){if(!$N.backColor){$N.backColor=this.hourNameBackColor;}};if(!$N.colspan){$N.colspan=$N.width/this.cellWidth;};$N.level=$0V;this.$6B($q,$N);}}else{throw ".groupline is not used anymore";}};this.$4F=function($33,$L){var $t=null;var $34=this.$62.locale();var $L=$L||this.cellGroupBy;switch($L){case 'Hour':$t=$33.toString("H");break;case 'Day':$t=$33.toString($34.datePattern);break;case 'Week':$t=$0g.weekStarts()===1?$33.weekNumberISO():$33.weekNumber();break;case 'Month':$t=$33.toString("MMMM yyyy",$34);break;case 'Year':$t=$33.toString("yyyy");break;case 'None':$t='';break;default:throw 'Invalid cellGroupBy value';};return $t;};this.$4D=function($I){var $12=this.cellDuration;if($12<60){return $I.toString("mm");}else if($12<1440){return DayPilot.Date.hours($I.d,$b.$62.timeFormat()==='Clock12Hours');}else if($12<10080){return $I.toString("d");}else{return $I.weekNumberISO();}};this.$4E=function($33,$L){var $35=this.viewType!=='Days'?this.days:1;var $R=this.startDate.addDays($35);var $L=$L||this.cellGroupBy;switch($L){case 'Hour':to=$33.addHours(1);break;case 'Day':to=$33.addDays(1);break;case 'Week':to=$33.addDays(1);while(to.dayOfWeek()!==$0g.weekStarts()){to=to.addDays(1);};break;case 'Month':to=$33.addMonths(1);to=to.firstDayOfMonth();var $36=(DayPilot.Date.diff(to.d,$33.d)/(1000.0*60))%this.cellDuration===0;while(!$36){to=to.addHours(1);$36=(DayPilot.Date.diff(to.d,$33.d)/(1000.0*60))%this.cellDuration===0;};break;case 'Year':to=$33.addYears(1);to=to.firstDayOfYear();var $36=(DayPilot.Date.diff(to.d,$33.d)/(1000.0*60))%this.cellDuration===0;while(!$36){to=to.addHours(1);$36=(DayPilot.Date.diff(to.d,$33.d)/(1000.0*60))%this.cellDuration===0;};break;case 'None':to=$R;break;default:throw 'Invalid cellGroupBy value';};if(to.getTime()>$R.getTime()){to=$R;};return to;};this.$6B=function($q,$N){var td=$q.insertCell(-1);td.colSpan=$N.colspan;td.setAttribute("unselectable","on");var $D=Math.max(0,this.headerHeight);if(!this.cssOnly){td.style.height=($D-1)+"px";td.style.textAlign="center";td.style.backgroundColor=$N.backColor;td.style.fontFamily=this.hourFontFamily;td.style.fontSize=this.hourFontSize;td.style.color=this.headerFontColor;td.style.cursor='default';td.style.border='0px none';td.style.borderBottom="1px solid "+this.borderColor;td.style.padding='0px';}else{td.style.height=($D)+"px";};td.style.KhtmlUserSelect='none';td.style.MozUserSelect='none';td.style.WebkitUserSelect='none';td.style.whiteSpace='nowrap';td.style.overflow='hidden';if($N.width){td.style.width=$N.width+"px";};if(!this.cssOnly){td.className=this.$4z('timeheadergroup');};td.oncontextmenu=function(){return false;};td.cell=$N;td.onclick=this.$5W;var $37=null;var $A=document.createElement("div");$A.setAttribute("unselectable","on");if(!this.cssOnly){$A.style.borderRight="1px solid "+this.hourNameBorderColor;$A.style.width=($N.width-1)+"px";$A.style.height=($D-1)+"px";$37=$A;}else{$A.className=this.$4z('_timeheadergroup');if($N.backColor){$A.style.backgroundColor=$N.backColor;};$A.style.position="relative";if($N.width){$A.style.width=($N.width)+"px";};$A.style.height=($D)+"px";var $B=document.createElement("div");$B.setAttribute("unselectable","on");$B.className=this.$4z("_timeheadergroup_inner");$A.appendChild($B);$37=$B;};$A.style.overflow='hidden';$A.title=$N.toolTip;$37.innerHTML=$N.innerHTML;td.appendChild($A);};this.$6A=function($q){var $38=this.$4w();var td=document.createElement("td");td.setAttribute("unselectable","on");if(!this.cssOnly){td.style.borderTop="0px none";td.style.borderBottom="0px none";td.style.borderLeft="0px none";td.style.borderRight="0px none";td.style.textAlign='center';td.style.fontFamily=this.hourFontFamily;td.style.fontSize=this.hourFontSize;td.style.color=this.headerFontColor;td.style.cursor='default';td.style.padding='0px';};td.style.width=this.cellWidth+"px";td.style.height=(this.headerHeight)+"px";td.style.overflow='hidden';td.style.KhtmlUserSelect='none';td.style.MozUserSelect='none';td.style.WebkitUserSelect='none';if(!this.cssOnly){td.className=this.$4z('timeheadercol');};var $A=document.createElement("div");$A.setAttribute("unselectable","on");$A.style.height=(this.headerHeight)+"px";$A.style.overflow='hidden';$A.style.position='relative';if(this.cssOnly){$A.style.width=(this.cellWidth)+"px";$A.className=this.$4z('_timeheadercol');}else{$A.style.borderRight="1px solid "+this.hourNameBorderColor;$A.style.width=(this.cellWidth-1)+"px";};var $B=document.createElement("div");$B.setAttribute("unselectable","on");if(this.cssOnly){$B.className=this.$4z("_timeheadercol_inner");};$A.appendChild($B);td.appendChild($A);var $0V=this.timeHeader.length-1;for(var i=0;i<$38;i++){var $N;if(this.timeHeader){$N=this.timeHeader[$0V][i];if(!$N.backColor){if(!this.cssOnly){$N.backColor=this.hourNameBackColor;}};if(!$N.toolTip){$N.toolTip=$N.innerHTML;}}else{var c=this.timeline[i];var $t=this.$6C(c.start);var $N={};$N.innerHTML=$t;$N.toolTip=$t;$N.start=c.start;$N.end=c.end;$N.type='Cell';$N.backColor=this.hourNameBackColor;var $39=this.beforeTimeHeaderRender?this.beforeTimeHeaderRender($N):null;if($39){$N=$39;}};$N.level=$0V;var $3a=td.cloneNode(true);if(!this.cssOnly){$3a.style.backgroundColor=$N.backColor;}else{if($N.backColor){$3a.firstChild.style.backgroundColor=$N.backColor;}};$3a.firstChild.title=$N.toolTip;$3a.firstChild.firstChild.innerHTML=$N.innerHTML;$3a.oncontextmenu=function(){return false;};$3a.cell=$N;$3a.onclick=this.$5W;$q.appendChild($3a);}};this.$6C=function($33){var $t=null;if(this.cellDuration<60){$t=$33.getMinutes();}else if(this.cellDuration<1440){$t=$33.getHours();}else{$t=$33.getDay();};return $t;};this.$50=function(){for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];var $0r=$q.height()+$q.MarginBottom;if($q.Height!==$0r){this.rowsDirty=true;};$q.Height=$0r;}};this.$4i=function(){var $2i=this.divHeader;if(!$2i){return false;};var $0W=this.rows.length;var $0L=this.rowHeaderCols?this.rowHeaderCols.length:1;var j=0;for(var i=0;i<$0W;i++){var $q=this.rows[i];if($q.Hidden){continue;};for(var c=0;c<$2i.rows[j].cells.length;c++){var $3b=$2i.rows[j].cells[c];var $3c=$q.Height;if($3b&&$3b.firstChild&&parseInt($3b.firstChild.style.height,10)!==$3c){$3b.firstChild.style.height=$3c+"px";}};j++;}};this.$6i=function($0V){var s=this.separators[$0V];var $0Y=new DayPilot.Date(s.Location);var $3d=s.Color;var $Q=s.Width?s.Width:1;var $3e=s.Layer?s.Layer==='AboveEvents':false;var $x=s.Opacity?s.Opacity:100;if($0Y.getTime()<this.startDate.getTime()){return;};if($0Y.getTime()>=this.startDate.addDays(this.days).getTime()){return;};var $p=this.getPixels($0Y);if($p.cut){return;};if($p.left<0){return;};if($p.left>this.$4w()*this.cellWidth){return;};var $P=document.createElement("div");$P.style.width=$Q+'px';$P.style.height=$b.innerHeightTree+'px';$P.style.position='absolute';$P.style.left=$p.left+'px';$P.style.top='0px';$P.style.backgroundColor=$3d;$P.style.opacity=$x/100;$P.style.filter="alpha(opacity="+$x+")";if($3e){this.divSeparatorsAbove.appendChild($P);}else{this.divSeparators.appendChild($P);};this.elements.separators.push($P);};this.$6c=function(ev){if($b.timeRangeDoubleClickHandling==='Disabled'){return false;};if(DayPilotScheduler.timeRangeTimeout){clearTimeout(DayPilotScheduler.timeRangeTimeout);DayPilotScheduler.timeRangeTimeout=null;};var $0x={};if(!$b.coords){var $2O=$b.maind;$b.coords=DayPilot.mo3($2O,ev);};ev=ev||window.event;if($b.$6D($b.coords)){var $2N=$b.$6x(DayPilotScheduler.rangeHold);$b.$5k($2N.start,$2N.end,$2N.resource);}else{DayPilotScheduler.range=$b.$6v();var $2N=$b.$6x(DayPilotScheduler.range);$b.$5k($2N.start,$2N.end,$2N.resource);};DayPilotScheduler.rangeHold=DayPilotScheduler.range;DayPilotScheduler.range=null;};this.$69=function(ev){if($04.start){return;};if(DayPilotScheduler.timeRangeTimeout&&false){clearTimeout(DayPilotScheduler.timeRangeTimeout);DayPilotScheduler.timeRangeTimeout=null;};$b.$5N();$b.$5O();if(!$b.coords){var $2O=$b.maind;$b.coords=DayPilot.mo3($2O,ev);};ev=ev||window.event;var $2L=ev.which||ev.button;if($2L===2||($2L===3&&$b.$6D($b.coords))){return false;};if($b.timeRangeSelectedHandling==='Disabled'){return false;};DayPilotScheduler.range=$b.$6v();return false;};this.$6v=function(){var $0x={};$0x.start={y:$b.getRow($b.coords.y).i,x:Math.floor($b.coords.x/$b.cellWidth)};$0x.end={x:Math.floor($b.coords.x/$b.cellWidth)};if(this.$5I($b.getRow($b.coords.y).i)){return;};$0x.calendar=$b;$b.$6w($0x);return $0x;};this.$6a=function(ev){if($04.active){return;};DayPilotScheduler.activeCalendar=$b;ev=ev||window.event;var $3f=DayPilot.mc(ev);$b.coords=DayPilot.mo3($b.maind,ev);if(DayPilotScheduler.resizing){if(!DayPilotScheduler.resizingShadow){DayPilotScheduler.resizingShadow=$b.$5C(DayPilotScheduler.resizing,$b.shadow);};var $3g=DayPilotScheduler.resizing.event.calendar.cellWidth;var $3h=DayPilotScheduler.resizing.event.part.width;var $3i=DayPilotScheduler.resizing.event.part.left;var $3j=0;var $3k=($3f.x-DayPilotScheduler.originalMouse.x);if(DayPilotScheduler.resizing.dpBorder==='right'){var $3l;if($b.snapToGrid){$3l=Math.ceil((($3h+$3i+$3k))/$3g)*$3g-$3i;}else{$3l=$3h+$3k;};if($3l<$3g){$3l=$3g;};var $1g=$b.maind.clientWidth;if($3i+$3l>$1g){$3l=$1g-$3i;};DayPilotScheduler.resizingShadow.style.width=($3l)+'px';}else if(DayPilotScheduler.resizing.dpBorder==='left'){var $3m;if($b.snapToGrid){$3m=Math.floor((($3i+$3k)+0)/$3g)*$3g;}else{$3m=$3i+$3k-$3j+$3j;};if($3m<$3j){$3m=$3j;};var $3l=$3h-($3m-$3i);var $z=$3i+$3h;if($3l<$3g){$3l=$3g;$3m=$z-$3l;};DayPilotScheduler.resizingShadow.style.left=$3m+'px';DayPilotScheduler.resizingShadow.style.width=($3l)+'px';}}else if(DayPilotScheduler.moving){if(DayPilotScheduler.movingShadow&&DayPilotScheduler.movingShadow.calendar!==$b){DayPilotScheduler.movingShadow.calendar=null;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow=null;};if(!DayPilotScheduler.movingShadow){var mv=DayPilotScheduler.moving;DayPilotScheduler.movingShadow=$b.$5C(mv,$b.shadow);};DayPilotScheduler.moving.target=$b;$b.$5K();}else if(DayPilotScheduler.range){var $0x=DayPilotScheduler.range;$0x.end={x:Math.floor($b.coords.x/$b.cellWidth)};$b.$6w($0x);}else if($b.crosshairType!=='Disabled'){$b.$6E();};var $3n=ev.insideEvent;if(window.event){$3n=window.event.srcElement.insideEvent;};if($b.cellBubble&&$b.coords&&$b.rows&&$b.rows.length>0&&!$3n){var x=Math.floor($b.coords.x/$b.cellWidth);var y=$b.getRow($b.coords.y).i;if(y<$b.rows.length){var $N={};$N.calendar=$b;$N.start=$b.timeline[x].start;$N.end=$b.timeline[x].end;$N.resource=$b.rows[y].Value;$N.toJSON=function(){var $0C={};$0C.start=this.start;$0C.end=this.end;$0C.resource=this.resource;return $0C;};$b.cellBubble.showCell($N);}};if(DayPilotScheduler.drag){$b.$5N();if(DayPilotScheduler.gShadow){document.body.removeChild(DayPilotScheduler.gShadow);};DayPilotScheduler.gShadow=null;if(!DayPilotScheduler.movingShadow&&$b.coords&&$b.rows.length>0){if(!DayPilotScheduler.moving){DayPilotScheduler.moving={};var event=DayPilotScheduler.drag.event;if(!event){var $3o=new DayPilot.Date().getDatePart();var ev={'value':DayPilotScheduler.drag.id,'start':$3o,'end':$3o.addSeconds(DayPilotScheduler.drag.duration),'text':DayPilotScheduler.drag.text};event=new DayPilot.Event(ev);event.calendar=$b;};DayPilotScheduler.moving.event=event;};DayPilotScheduler.movingShadow=$b.$5C(DayPilotScheduler.moving,DayPilotScheduler.drag.shadowType);};ev.cancelBubble=true;};if($b.autoScroll==="Always"||($b.autoScroll==="Drag"&&(DayPilotScheduler.moving||DayPilotScheduler.resizing||DayPilotScheduler.range))){var $3p=$b.nav.scroll;var $0Q={x:$b.coords.x,y:$b.coords.y};$0Q.x-=$3p.scrollLeft;$0Q.y-=$3p.scrollTop;var $Q=$3p.clientWidth;var $D=$3p.clientHeight;var $1u=20;var $y=$0Q.x<$1u;var $z=$Q-$0Q.x<$1u;var top=$0Q.y<$1u;var $0U=$D-$0Q.y<$1u;var x=0;var y=0;if($y){x=-5;};if($z){x=5;};if(top){y=-5;};if($0U){y=5;};if(x||y){$b.$6F(x,y);}else{$b.$5O();}}};this.$6E=function(){if($b.coords&&$b.rows&&$b.rows.length>0){var x=Math.floor($b.coords.x/$b.cellWidth);var y=$b.getRow($b.coords.y).i;if(y<$b.rows.length){$b.$6G(x,y);}}};this.$5N=function(){this.divCrosshair.innerHTML='';this.crosshairVertical=null;this.crosshairHorizontal=null;if(this.crosshairTop&&this.crosshairTop.parentNode){this.crosshairTop.parentNode.removeChild(this.crosshairTop);this.crosshairTop=null;};if(this.crosshairLeft){for(var i=0;i<this.crosshairLeft.length;i++){var ch=this.crosshairLeft[i];if(ch.parentNode){ch.parentNode.removeChild(ch);}};this.crosshairLeft=null;};this.crosshairLastX=-1;this.crosshairLastY=-1;};this.$6G=function(x,y){var $0d=this.crosshairType;var $q=this.getRowByIndex(y);if($0d==='Full'){var $y=x*this.cellWidth;var $P=this.crosshairVertical;if(!$P){var $P=document.createElement("div");$P.style.width=this.cellWidth+'px';$P.style.height=$b.innerHeightTree+'px';$P.style.position='absolute';$P.style.top='0px';$P.style.backgroundColor=this.crosshairColor;$P.style.opacity=this.crosshairOpacity/100;$P.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairVertical=$P;this.divCrosshair.appendChild($P);};$P.style.left=$y+'px';var top=$q.top;var $D=$q.height;var $Q=this.$4w()*this.cellWidth;var $P=this.crosshairHorizontal;if(!$P){var $P=document.createElement("div");$P.style.width=$Q+'px';$P.style.height=$D+'px';$P.style.position='absolute';$P.style.top=top+'px';$P.style.left='0px';$P.style.backgroundColor=this.crosshairColor;$P.style.opacity=this.crosshairOpacity/100;$P.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairHorizontal=$P;this.divCrosshair.appendChild($P);};$P.style.top=top+'px';$P.style.height=$D+'px';};if(this.crosshairLastX!==x){if(this.crosshairTop&&this.crosshairTop.parentNode){this.crosshairTop.parentNode.removeChild(this.crosshairTop);this.crosshairTop=null;};var $P=document.createElement("div");$P.style.width=this.cellWidth+"px";$P.style.height=this.headerHeight+"px";$P.style.left='0px';$P.style.top='0px';$P.style.position='absolute';$P.style.backgroundColor=this.crosshairColor;$P.style.opacity=this.crosshairOpacity/100;$P.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairTop=$P;var $31=this.divNorth;var $3q=this.timeHeader?this.timeHeader.length-1:1;if($31.firstChild.rows[$3q].cells[x]){$31.firstChild.rows[$3q].cells[x].firstChild.appendChild($P);}};if(this.crosshairLastY!==y){if(this.crosshairLeft){for(var i=0;i<this.crosshairLeft.length;i++){var ch=this.crosshairLeft[i];if(ch.parentNode){ch.parentNode.removeChild(ch);}};this.crosshairLeft=null;};var $0L=this.rowHeaderCols?this.rowHeaderCols.length:1;this.crosshairLeft=[];for(var i=0;i<this.divHeader.rows[$q.i].cells.length;i++){var $Q=this.divHeader.rows[$q.i].cells[i].clientWidth;var $P=document.createElement("div");$P.style.width=$Q+"px";$P.style.height=$q.height+"px";$P.style.left='0px';$P.style.top='0px';$P.style.position='absolute';$P.style.backgroundColor=this.crosshairColor;$P.style.opacity=this.crosshairOpacity/100;$P.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairLeft.push($P);this.divHeader.rows[$q.i].cells[i].firstChild.appendChild($P);}};this.crosshairLastX=x;this.crosshairLastY=y;};this.$6b=function(ev){ev=ev||window.event;if($b.timeRangeSelectedHandling==='Disabled'){return false;};if(!$b.$6D($b.coords)){$b.$6H(ev);};if($b.contextMenuSelection){var $3r=$b.$6x(DayPilotScheduler.rangeHold);$b.contextMenuSelection.show($3r);};ev.cancelBubble=true;if(!$b.allowDefaultContextMenu){return false;}};this.$6D=function($0Q){var $0x=DayPilotScheduler.rangeHold;if(!$0x||!$0x.start||!$0x.end){return false;};var $q=this.getRowByIndex($0x.start.y);var $3s=$0x.start.x<$0x.end.x;var $3t=($3s?$0x.start.x:$0x.end.x)*this.cellWidth;var $3u=($3s?$0x.end.x:$0x.start.x)*this.cellWidth+this.cellWidth;var $3v=$q.top;var $3w=$q.bottom;if($0Q.x>=$3t&&$0Q.x<=$3u&&$0Q.y>=$3v&&$0Q.y<=$3w){return true;};return false;};this.$6w=function($0x){var $0x=$0x||DayPilotScheduler.range;var $2V=$0x.end.x>$0x.start.x?$0x.start.x:$0x.end.x;var $2W=($0x.end.x>$0x.start.x?$0x.end.x:$0x.start.x)+1;this.$4s();for(var x=$2V;x<$2W;x++){this.$6I(x,$0x.start.y);}};this.$6H=function(ev){if($b.timeRangeSelectedHandling==='Disabled'){return false;};ev=ev||window.event;var $2L=ev.which||ev.button;if(DayPilotScheduler.range){return;};if(DayPilotScheduler.rangeHold&&$b.$6D($b.coords)&&($2L===3||$2L===2)){return;};var $0x={};$0x.start={y:$b.getRow($b.coords.y).i,x:Math.floor($b.coords.x/$b.cellWidth)};$0x.end={x:Math.floor($b.coords.x/$b.cellWidth)};$b.$6w($0x);var $2N=$b.$6x($0x);$b.$5j($2N.start,$2N.end,$2N.resource);DayPilotScheduler.rangeHold=$0x;};this.$6h=function(ev){if($b.dynamicLoading){$b.$6J();return;};var $3x=$b.nav.scroll;$b.scrollPos=$3x.scrollLeft;$b.scrollTop=$3x.scrollTop;$b.scrollWidth=$3x.clientWidth;$b.divTimeScroll.scrollLeft=$b.scrollPos;$b.divResScroll.scrollTop=$b.scrollTop;if($b.refreshTimeout){window.clearTimeout($b.refreshTimeout);};$b.refreshTimeout=window.setTimeout($b.$6K(),50);$b.onScrollCalled=true;};this.show=function(){$b.nav.top.style.display='';var f=$b.$6K();f();};this.hide=function(){$b.nav.top.style.display='none';};this.$6J=function(){var $3x=$b.nav.scroll;$b.scrollPos=$3x.scrollLeft;$b.scrollTop=$3x.scrollTop;$b.scrollWidth=$3x.clientWidth;$b.divTimeScroll.scrollLeft=$b.scrollPos;$b.divResScroll.scrollTop=$b.scrollTop;if($b.refreshTimeout){window.clearTimeout($b.refreshTimeout);};var $u=$b.scrollDelay||500;$b.refreshTimeout=window.setTimeout($b.$6L($3x.scrollLeft,$3x.scrollTop),$u);};this.$6L=function(scrollX,scrollY){if($b.$4v()){return function(){if(typeof $b.onScroll==='function'){$b.$4o();var $3y=function($0j){var $h=$b.$4d($0j,true);$b.$4r($h,true);$b.$4o();$b.$4k();};var $0E=$b.getArea(scrollX,scrollY);var $0x=$b.getAreaRange($0E);var $0F=$b.getAreaResources($0E);var $n={};$n.viewport={};$n.viewport.start=$0x.start;$n.viewport.end=$0x.end;$n.viewport.resources=$0F;$n.async=false;$n.events=[];$n.loaded=function(){if(this.async){$3y(this.events);}};$b.onScroll($n);if(!$n.async){$3y($0j);}}};}else{return function(){$b.scrollX=scrollX;$b.scrollY=scrollY;$b.$4L('Scroll');};}};this.$6K=function(){return function(){$b.$4t();$b.$4o();$b.refreshTimeout=window.setTimeout($b.$6M(),200);};};this.$6M=function(){var $0s=true;var $3z=$b.dynamicEventRenderingCacheSweeping;var $3A=$b.dynamicEventRenderingCacheSize;return function(){if($b.$6n()){$b.$5v();window.setTimeout(function(){if($3z)$b.$6l($3A);window.setTimeout(function(){$b.$4q($0s);},50);},50);}};};this.$6N=function(){var $0E=this.$6O();var $3B=$0E.xStart;var $3C=$0E.xEnd-$0E.xStart;var $3D=$0E.yStart;var $3E=$0E.yEnd-$0E.yStart;if(typeof this.onBeforeCellRender==='function'){if(!this.cellProperties){this.cellProperties=[];}};this.elements.cells=[];this.elements.linesVertical=[];for(var i=0;i<$3C;i++){var x=$3B+i;for(var j=0;j<$3E;j++){var y=$3D+j;if(!this.rows[y].Hidden){this.$6P(x,y);}};this.$6Q(x);};for(var y=0;y<this.rows.length;y++){if(!this.rows[y].Hidden){this.$6R(y);}}};this.$4o=function(){if(this.rows!==null&&this.rows.length>0){var $3F=typeof this.onBeforeCellRender==='function';if(this.dirtyColors||this.hasChildren||$3F){this.$6N();}else{this.$6S();};this.$6T();};var $Q=this.$4w()*this.cellWidth;this.maind.style.height=this.innerHeightTree+"px";this.maind.style.width=$Q+"px";this.rowsDirty=false;};this.$6T=function(){this.elements.cells=[];var $0E=this.$6O();for(var x=$0E.xStart;x<$0E.xEnd;x++){var $3G=(x<this.timeline.length-1)?this.timeline[x+1].breakBefore:false;if($3G){this.$6U(x);}}};this.$6U=function(x){var $0V="x"+x;if(this.cache.breaks[$0V]){return;};var $y=x*this.cellWidth+this.cellWidth-1;var $D=this.innerHeightTree;var $P=document.createElement("div");$P.style.left=$y+"px";$P.style.top="0px";$P.style.width="1px";$P.style.height=$D+"px";$P.style.fontSize='1px';$P.style.lineHeight='1px';$P.style.overflow='hidden';$P.style.position='absolute';$P.setAttribute("unselectable","on");if(this.cssOnly){$P.className=this.$4z("_matrix_vertical_break");}else{$P.style.backgroundColor=this.timeBreakColor;};this.divBreaks.appendChild($P);this.elements.breaks.push($P);this.cache.breaks[$0V]='1';};this.$6O=function(){var $3H=30;var $0E={};var $3I=Math.floor(this.scrollPos/this.cellWidth);var $3J=Math.ceil(this.scrollWidth/this.cellWidth)+1;var $1n=this.$4w();var $I=$3I-$3H;var end=$I+2*$3H+$3J;end=Math.min(end,$1n);$I=Math.max($I,0);var $3D=this.getRow(this.nav.scroll.scrollTop).i;var $3K=this.getRow(this.nav.scroll.scrollTop+this.nav.scroll.offsetHeight).i;if($3K<this.rows.length){$3K++;};var $3E=$3K-$3D;$0E.xStart=$I;$0E.xEnd=end;$0E.yStart=$3D;$0E.yEnd=$3K;return $0E;};this.$6S=function(){var $0E=this.$6O();var $I=$0E.xStart;var end=$0E.xEnd;this.elements.cells=[];this.elements.linesVertical=[];for(var x=$I;x<end;x++){this.$6V(x);this.$6Q(x);};for(var y=0;y<this.rows.length;y++){if(!this.rows[y].Hidden){this.$6R(y);}}};this.$6R=function(y){var $0V="y"+y;if(this.cache.cells[$0V]){return;};var top=this.rows[y].Top+this.rows[y].Height-1;var $Q=this.$4w()*this.cellWidth;var $P=document.createElement("div");$P.style.left="0px";$P.style.top=top+"px";$P.style.width=$Q+"px";$P.style.height="1px";$P.style.fontSize='1px';$P.style.lineHeight='1px';$P.style.overflow='hidden';$P.style.position='absolute';if(!this.cssOnly){$P.style.backgroundColor=this.cellBorderColor;};$P.setAttribute("unselectable","on");if(this.cssOnly){$P.className=this.$4z("_matrix_horizontal_line");};this.divLines.appendChild($P);this.elements.cells.push($P);this.cache.cells[$0V]='1';};this.$6Q=function(x){var $0V="x"+x;if(this.cache.linesVertical[$0V]){return;};var $y=(x+1)*this.cellWidth-1;var $P=document.createElement("div");$P.style.left=$y+"px";$P.style.top="0px";$P.style.width="1px";$P.style.height=$b.innerHeightTree+"px";$P.style.fontSize='1px';$P.style.lineHeight='1px';$P.style.overflow='hidden';$P.style.position='absolute';if(!this.cssOnly){$P.style.backgroundColor=this.cellBorderColor;};$P.setAttribute("unselectable","on");if(this.cssOnly){$P.className=this.$4z("_matrix_vertical_line");};this.divLines.appendChild($P);this.elements.linesVertical.push($P);this.cache.linesVertical[$0V]='1';};this.$6V=function(x){var $0V="x"+x;var $D=this.innerHeightTree;if(this.cache.cells[$0V]){return;};var $3d=this.$6W(x,0);var $3G=(x<this.timeline.length-1)?this.timeline[x+1].breakBefore:false;var $N=document.createElement("div");$N.style.left=(x*this.cellWidth)+"px";$N.style.top="0px";$N.style.width=(this.cellWidth)+"px";$N.style.height=$D+"px";$N.style.position='absolute';$N.style.backgroundColor=$3d;$N.setAttribute("unselectable","on");$N.className=this.cssOnly?this.$4z('_cellcolumn'):this.$4z('cellbackground');$N.onclick=this.$6H;this.divCells.appendChild($N);this.elements.cells.push($N);this.cache.cells[$0V]='1';};this.$5U=function($0V){var $q=this.rows[$0V];var $3L=!$q.Expanded;this.rows[$0V].Expanded=$3L;var $0i=this.$6X($0V,$q.Expanded);if(!$3L){for(var i=0;i<$0i.length;i++){var ri=$0i[i];this.$5c(ri);}};this.$4h();this.$4e();this.$4k();this.$4l();this.$4o();if($3L){for(var i=0;i<$0i.length;i++){var ri=$0i[i];this.$5d(ri);}};this.$5e();this.$4t();var r=this.$5V($q,$0V);if($3L){this.$5q(r);}else{this.$5p(r);}};this.$5T=function(i){var $09={};$09.index=i;if(typeof this.onLoadNode==='function'){var $n={};var $0w=this.rows[i].Resource;$n.resource=$0w;$n.async=false;$n.loaded=function(){if(this.async){$0w.loaded=true;$0w.expanded=true;$b.update();}};this.onLoadNode($n);if(!$n.async){$0w.loaded=true;$0w.expanded=true;this.update();}}else{this.$4L('LoadNode',$09);}};this.$6X=function(i,$3M){var $q=this.rows[i];var $3N=[];if($q.Children===null||$q.Children.length===0){return $3N;};for(var k=0;k<$q.Children.length;k++){var $0V=$q.Children[k];this.rows[$0V].Hidden=$3M?!$q.Expanded:true;if($3M===!this.rows[$0V].Hidden){$3N.push($0V);};var $3O=this.$6X($0V,$3M);if($3O.length>0){$3N=$3N.concat($3O);}};return $3N;};this.$6F=function($3P,$3Q){this.$5O();this.$6Y($3P,$3Q);};this.$6Z=function($2o){if(!$2o){return false;};var $F=this.nav.scroll.scrollWidth;var $I=this.nav.scroll.scrollLeft;var $Q=this.nav.scroll.clientWidth;var $z=$I+$Q;if($2o<0&&$I<=0){return false;};if($2o>0&&$z>=$F){return false;};this.nav.scroll.scrollLeft+=$2o;return true;};this.$70=function($2o){if(!$2o){return false;};var $F=this.nav.scroll.scrollHeight;var $I=this.nav.scroll.scrollTop;var $D=this.nav.scroll.clientHeight;var $0U=$I+$D;if($2o<0&&$I<=0){return false;};if($2o>0&&$0U>=$F){return false;};this.nav.scroll.scrollTop+=$2o;return true;};this.$6Y=function($3P,$3Q){var $3R=this.$6Z($3P)||this.$70($3Q);if(!$3R){return;};var $3S=function($3P,$3Q){return function(){$b.$6Y($3P,$3Q);};};this.scrolling=window.setTimeout($3S($3P,$3Q),100);};this.$5O=function(){if(this.scrolling){window.clearTimeout(this.scrolling);this.scrolling=null;}};this.$4h=function(){var top=0;for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];if(!$q.Hidden){$q.Top=top;top+=$q.Height;}};this.innerHeightTree=top;};this.$4l=function(){this.elements.cells=[];this.elements.linesVertical=[];this.elements.breaks=[];this.cache.cells=[];this.cache.linesVertical=[];this.cache.breaks=[];this.divCells.innerHTML='';this.divLines.innerHTML='';this.divBreaks.innerHTML='';};this.$6P=function(x,y){var $0V=x+'_'+y;if(this.cache.cells[$0V]){return;};if(typeof this.onBeforeCellRender==='function'){var $q=$b.rows[y];var $0w=$q.Value;var $1a=$q.Start.getTime()-this.startDate.getTime();var $I=this.timeline[x].start.addTime($1a);var $N={};$N.resource=$0w;$N.start=$I;$N.end=$I.addMinutes(this.cellDuration);$N.css=null;$N.html=null;$N.image=null;$N.repeat=null;$N.color=null;var $n={};$n.cell=$N;this.onBeforeCellRender($n);this.cellProperties[$0V]=$N;};var $3d=this.$6W(x,y);var $N=document.createElement("div");$N.style.left=(x*this.cellWidth)+"px";$N.style.top=this.rows[y].Top+"px";$N.style.width=(this.cellWidth)+"px";$N.style.height=(this.rows[y].Height)+"px";$N.style.position='absolute';if($3d){$N.style.backgroundColor=$3d;};$N.setAttribute("unselectable","on");$N.className=this.cssOnly?this.$4z('_cell'):this.$4z('cellbackground');if(this.cssOnly&&this.$5J(y)){DayPilot.Util.addClass($N,this.$4z("_cellparent"));};if(this.cssOnly){if(this.cellProperties&&this.cellProperties[$0V]){var p=this.cellProperties[$0V];if(p.css){DayPilot.Util.addClass($N,p.css);};if(p.html){$N.innerHTML=p.html;};if(p.image){$N.style.backgroundImage=p.image;};if(p.repeat){$N.style.backgroundRepeat=p.repeat;}}}else{if(this.cellProperties&&this.cellProperties[$0V]){var p=this.cellProperties[$0V];if(p.html){$N.innerHTML=p.html;};if(p.image){$N.style.backgroundImage=p.image;};if(p.repeat){$N.style.backgroundRepeat=p.repeat;};if(p.css){if($N.className){$N.className+=" "+this.$4z(p.css);}else{$N.className=this.$4z(p.css);}}}};$N.onclick=this.$6H;this.divCells.appendChild($N);this.elements.cells.push($N);this.cache.cells[$0V]='1';};this.$6I=function(x,y){var $N=document.createElement("div");$N.style.left=(x*this.cellWidth)+"px";$N.style.top=this.rows[y].Top+"px";$N.style.width=(this.cellWidth-1)+"px";$N.style.height=(this.rows[y].Height-1)+"px";$N.style.position='absolute';$N.style.backgroundColor=$b.cellSelectColor;$N.setAttribute("unselectable","on");this.divRange.appendChild($N);this.elements.range.push($N);};this.clearSelection=function(){this.$4s();};this.cleanSelection=this.clearSelection;this.$4s=function(){this.divRange.innerHTML='<div style="position:absolute; left:0px; top:0px; width:0px; height:0px;"></div>';this.elements.range=[];DayPilotScheduler.rangeHold=null;};this.$62={};var $0g=this.$62;$0g.locale=function(){return DayPilot.Locale.find($b.locale);};$0g.timeFormat=function(){if($b.timeFormat!=='Auto'){return $b.timeFormat;};return $0g.locale().timeFormat;};$0g.weekStarts=function(){if($b.weekStarts==='Auto'){var $34=$0g.locale();if($34){return $34.weekStarts;}else{return 0;}}else{return $b.weekStarts;}};$0g.rounded=function(){return $b.eventCorners==='Rounded';};$0g.layout=function(){var $3T=/MSIE 6/i.test(navigator.userAgent);if($b.layout==='Auto'){if($3T){return 'TableBased';}else{return 'DivBased';}};return $b.layout;};$0g.notifyType=function(){var $0d;if($b.notifyCommit==='Immediate'){$0d="Notify";}else if($b.notifyCommit==='Queue'){$0d="Queue";}else{throw "Invalid notifyCommit value: "+$b.notifyCommit;};return $0d;};$0g.isResourcesView=function(){return $b.viewType!=='Days';};$0g.useBox=function($3U){if($b.useEventBoxes==='Always'){return true;};if($b.useEventBoxes==='Never'){return false;};return $3U<$b.cellDuration*60*1000;};this.$6W=function(x,y){if(this.cssOnly){var $0V=x+'_'+y;if(this.cellProperties&&this.cellProperties[$0V]){return this.cellProperties[$0V].color;};return null;};if(this.colors){if(!this.dirtyColors&&y>0){y=0;};if(this.colors!==null&&this.colors[y]!==null&&this.colors[y][x]!==null&&this.palette!==null){return this.palette[this.colors[y][x]];}else return null;}else{var $N={};$N.resource=this.rows[y].Value;var $00=this.timeline[x].start.ticks-this.startDate.ticks;$N.start=new DayPilot.Date(this.rows[y].Start).addTime($00);$N.backColor=this.isBusiness($N)?this.cellBackColor:this.cellBackColorNonBusiness;if(this.onBeforeCellRender){this.onBeforeCellRender($N);};return $N.backColor;}};this.isBusiness=function($N){if($N.start.dayOfWeek()===0||$N.start.dayOfWeek()===6){return false;};if(this.cellDuration<720){if($N.start.getHours()<this.businessBeginsHour||$N.start.getHours()>=this.businessEndsHour){return false;}else{return true;}};return true;};this.$4g=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.setHeight=function($p){if(this.heightSpec!=="Parent100Pct"){this.heightSpec="Fixed";};this.height=$p-(this.$4x()+2);this.$4k();};this.findRowByResourceId=function(id){for(var i=0;i<this.rows.length;i++){if(this.rows[i].Value===id){return this.rows[i];}};return null;};this.$71=function(){this.$6d();this.$4c();this.$61();this.resize();this.$6f();this.$5B();DayPilotScheduler.register(this);this.$48(null,false);this.$6g();this.$4u();this.$4L('Init');};this.init=function(){this.nav.top=document.getElementById(id);if(this.nav.top.dp){return;};var $3V=this.$5E();var $3W=this.events.list!==null;if($3V){this.$71();return;};this.$6d();this.$49();this.$4a();this.$4c();this.$61();this.resize();this.$4b();this.$4f();this.$5v();if($3W){this.$4d();}else{this.events.list=[];};this.$4h();this.$4e();this.$4k();this.$4p();this.$4g();this.$6f();this.$5B();DayPilotScheduler.register(this);this.$48(null,false);this.$6g();this.$47();if($b.scrollToDate){$b.scrollTo($b.scrollToDate);}else{$b.setScroll($b.scrollX,$b.scrollY);};if(!$b.onScrollCalled){$b.$6h();};var $3X=function(){if($b.scrollY){$b.setScroll($b.scrollX,$b.scrollY);}};window.setTimeout($3X,200);if(this.messageHTML){var $3Y=function($0Z){return function(){$b.message($0Z);};};window.setTimeout($3Y(this.messageHTML),100);};this.$4u();};this.internal={};this.internal.invokeEvent=this.$4U;this.internal.eventMenuClick=this.$5i;this.internal.timeRangeMenuClick=this.$5l;this.internal.resourceHeaderMenuClick=this.$5m;this.internal.bubbleCallBack=this.$5g;this.internal.findEventDiv=this.$6s;this.Init=this.init;};DayPilotScheduler.moving=null;DayPilotScheduler.originalMouse=null;DayPilotScheduler.resizing=null;DayPilotScheduler.globalHandlers=false;DayPilotScheduler.timeRangeTimeout=null;DayPilotScheduler.selectedCells=null;DayPilotScheduler.dragStart=function(element,$12,id,$1w,$0d){DayPilot.us(element);var $3Z=DayPilotScheduler.drag={};$3Z.element=element;$3Z.duration=$12;$3Z.text=$1w;$3Z.id=id;$3Z.shadowType=$0d?$0d:'Fill';return false;};DayPilotScheduler.dragStop=function(){if(DayPilotScheduler.gShadow){document.body.removeChild(DayPilotScheduler.gShadow);DayPilotScheduler.gShadow=null;};DayPilotScheduler.drag=null;};DayPilotScheduler.register=function($b){if(!DayPilotScheduler.registered){DayPilotScheduler.registered=[];};for(var i=0;i<DayPilotScheduler.registered.length;i++){if(DayPilotScheduler.registered[i]===$b){return;}};DayPilotScheduler.registered.push($b);};DayPilotScheduler.unregister=function($b){var a=DayPilotScheduler.registered;if(a){var i=DayPilot.indexOf(a,$b);if(i!==-1){a.splice(i,1);};if(a.length===0){a=null;}};if(!a){DayPilot.ue(document,'mousemove',DayPilotScheduler.gMouseMove);DayPilot.ue(document,'mouseup',DayPilotScheduler.gMouseUp);DayPilot.ue(window,'unload',DayPilotScheduler.gUnload);}};DayPilotScheduler.gMouseMove=function(ev){if(typeof(DayPilotScheduler)==='undefined'){return;};ev=ev||window.event;if(ev.insideMainD){return;}else if(ev.srcElement){if(ev.srcElement.inside){return;}};var $3f=DayPilot.mc(ev);if(DayPilotScheduler.drag){document.body.style.cursor='move';if(!DayPilotScheduler.gShadow){DayPilotScheduler.gShadow=DayPilotScheduler.createGShadow(DayPilotScheduler.drag.shadowType);};var $0R=DayPilotScheduler.gShadow;$0R.style.left=$3f.x+'px';$0R.style.top=$3f.y+'px';DayPilotScheduler.moving=null;if(DayPilotScheduler.movingShadow){DayPilotScheduler.movingShadow.calendar=null;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow=null;}}else if(DayPilotScheduler.moving&&DayPilotScheduler.moving.event.calendar.dragOutAllowed&&!DayPilotScheduler.drag){var $40=DayPilotScheduler.moving.event.calendar;var ev=DayPilotScheduler.moving.event;DayPilotScheduler.moving.target=null;document.body.style.cursor='move';if(!DayPilotScheduler.gShadow){DayPilotScheduler.gShadow=DayPilotScheduler.createGShadow($40.shadow);};var $0R=DayPilotScheduler.gShadow;$0R.style.left=$3f.x+'px';$0R.style.top=$3f.y+'px';DayPilotScheduler.drag={};var $3Z=DayPilotScheduler.drag;$3Z.element=null;$3Z.duration=(ev.end().getTime()-ev.start().getTime())/1000;$3Z.text=ev.text();$3Z.id=ev.value();$3Z.shadowType=$40.shadow;$3Z.event=ev;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow.calendar=null;DayPilotScheduler.movingShadow=null;};for(var i=0;i<DayPilotScheduler.registered.length;i++){if(DayPilotScheduler.registered[i].$68){DayPilotScheduler.registered[i].$68();}}};DayPilotScheduler.gUnload=function(ev){if(!DayPilotScheduler.registered){return;};for(var i=0;i<DayPilotScheduler.registered.length;i++){var c=DayPilotScheduler.registered[i];c.dispose();DayPilotScheduler.unregister(c);}};DayPilotScheduler.gMouseUp=function(ev){if(DayPilotScheduler.resizing){if(!DayPilotScheduler.resizingShadow){document.body.style.cursor='default';DayPilotScheduler.resizing=null;return;};var e=DayPilotScheduler.resizing.event;var $b=e.calendar;var $41=DayPilotScheduler.resizingShadow.clientWidth;var $42=DayPilotScheduler.resizingShadow.offsetLeft;var $1u=DayPilotScheduler.resizing.dpBorder;var $q=$b.rows[DayPilotScheduler.resizing.event.part.dayIndex];var $1a=$q.Start.getTime()-$b.startDate.getTime();var $0b=null;var $0c=null;if($1u==='left'){$0b=$b.getDate($42).addTime($1a);$0c=e.end();}else if($1u==='right'){$0b=e.start();$0c=$b.getDate($42+$41,false,true).addTime($1a);};DayPilot.de(DayPilotScheduler.resizingShadow);DayPilotScheduler.resizing=null;DayPilotScheduler.resizingShadow=null;document.body.style.cursor='default';$b.$4V(e,$0b,$0c);}else if(DayPilotScheduler.moving){if(!DayPilotScheduler.movingShadow){document.body.style.cursor='default';DayPilotScheduler.moving=null;return;};var e=DayPilotScheduler.moving.event;var $b=DayPilotScheduler.moving.target;if(!$b){DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow.calendar=null;document.body.style.cursor='default';DayPilotScheduler.moving=null;return;};var $0b=DayPilotScheduler.movingShadow.start;var $0c=DayPilotScheduler.movingShadow.end;var $0e=($b.viewType!=='Days')?DayPilotScheduler.movingShadow.row.Value:null;var external=DayPilotScheduler.drag?true:false;var $P=DayPilotScheduler.movingShadow.line;if(DayPilotScheduler.drag){if(!$b.todo){$b.todo={};};$b.todo.del=DayPilotScheduler.drag.element;DayPilotScheduler.drag=null;};DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow.calendar=null;document.body.style.cursor='default';DayPilotScheduler.moving=null;DayPilotScheduler.movingShadow=null;var ev=ev||window.event;$b.$5f(e,$0b,$0c,$0e,external,ev,$P);}else if(DayPilotScheduler.range){ev=ev||window.event;var $2L=ev.which||ev.button;var $0x=DayPilotScheduler.range;var $b=$0x.calendar;if(DayPilotScheduler.timeRangeTimeout){clearTimeout(DayPilotScheduler.timeRangeTimeout);DayPilotScheduler.timeRangeTimeout=null;$b.$6c(ev);return;};DayPilotScheduler.rangeHold=$0x;DayPilotScheduler.range=null;var $3S=function($2N){return function(){DayPilotScheduler.timeRangeTimeout=null;$b.$5j($2N.start,$2N.end,$2N.resource);if($b.timeRangeSelectedHandling!=="Hold"&&$b.timeRangeSelectedHandling!=="HoldForever"){$a();}else{DayPilotScheduler.rangeHold=$0x;}};};var $2N=$b.$6x($0x);if($2L!==1){DayPilotScheduler.timeRangeTimeout=null;return;};if($b.timeRangeDoubleClickHandling==='Disabled'){$3S($2N)();var ev=ev||window.event;ev.cancelBubble=true;return false;}else{DayPilotScheduler.timeRangeTimeout=setTimeout($3S($2N),300);}};if(DayPilotScheduler.drag){DayPilotScheduler.drag=null;document.body.style.cursor=null;};if(DayPilotScheduler.gShadow){document.body.removeChild(DayPilotScheduler.gShadow);DayPilotScheduler.gShadow=null;};DayPilotScheduler.moveOffsetX=null;DayPilotScheduler.moveDragStart=null;};DayPilotScheduler.createGShadow=function($0d){var $0R=document.createElement('div');$0R.setAttribute('unselectable','on');$0R.style.position='absolute';$0R.style.width='100px';$0R.style.height='20px';$0R.style.border='2px dotted #666666';$0R.style.zIndex=101;if($0d==='Fill'){$0R.style.backgroundColor="#aaaaaa";$0R.style.opacity=0.5;$0R.style.filter="alpha(opacity=50)";$0R.style.border='2px solid #aaaaaa';};document.body.appendChild($0R);return $0R;};DayPilot.SchedulerVisible.dragStart=DayPilotScheduler.dragStart;DayPilot.SchedulerVisible.dragStop=DayPilotScheduler.dragStop;DayPilot.SchedulerVisible.Scheduler=DayPilotScheduler.Scheduler;DayPilot.SchedulerVisible.globalHandlers=DayPilotScheduler.globalHandlers;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotScheduler=function($43){var $44=null;var j=this.each(function(){if(this.daypilot){return;};var $45=new DayPilot.Scheduler(this.id);this.daypilot=$45;for(var name in $43){$45[name]=$43[name];};$45.Init();if(!$44){$44=$45;}});if(this.length===1){return $44;}else{return j;}};})(jQuery);};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();

